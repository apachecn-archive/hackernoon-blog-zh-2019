# 电子邮件威胁和防御简介

> 原文：<https://medium.com/hackernoon/introduction-to-email-threats-defense-9735ba4b193e>

## 如何在 Office 365 上保护自己的邮件？

![](img/f7f9c9eb18301817649deaefd45d50f3.png)

source: [Microsoft](https://channel9.msdn.com/events/Ignite/2015/BRK3106)

你的组织一直面临威胁。电子邮件是黑客试图破坏组织安全的最常见方式之一。收到的邮件中有一半以上是垃圾邮件、网络钓鱼活动和恶意邮件。及时了解与电子邮件相关的最新威胁并非易事。事实上，每个公司都使用内置垃圾邮件防护功能的第三方电子邮件托管，或者在本地服务器上选择第三方垃圾邮件防护。像其竞争对手一样，Office 365 为您的环境提供了内置保护，微软的信息保护团队正在保持最新，并改进 Office 365 的电子邮件安全性，以保护微软客户免受威胁。默认配置并不总是足以让您的组织保持安全和合规。

## 为什么垃圾邮件仍然是一个问题？

![](img/56052a0870c63da4f9af97e813c7ad05.png)

Source: [ICSI](https://www.icsi.berkeley.edu/pubs/networking/2008-ccs-spamalytics.pdf)

尽管多年来一直在打击垃圾邮件，但这场运动仍在持续。要理解为什么会有这么多垃圾邮件，我们必须要问，**垃圾邮件运动有多成功？**由于垃圾邮件发送者通常在暗处活动，这个问题很难回答。幸运的是，国际计算机科学协会(ICSI)进行了一项有趣而令人惊讶的[研究](https://www.icsi.berkeley.edu/pubs/networking/2008-ccs-spamalytics.pdf)。**ICSI 劫持了一个现有的僵尸网络**来确定这些活动到底有多成功。通过将僵尸网络重定向到一个虚假的药店网站，并抛出一个错误而不是完成购买，ICSI 能够提供对困扰我们如此之久的垃圾邮件瘟疫的洞察力。

> 通过向 2 亿个电子邮件地址发送电子邮件，假冒药店网站吸引了超过 10，000 人访问该网站并购买了 28 次药品。这将导致每天近 9500 美元的销售额。

## 什么是网络钓鱼？

“网络钓鱼是一种网络犯罪，其中有人冒充合法机构通过电子邮件联系一个或多个目标，引诱个人提供敏感数据，如信用卡详细信息和密码。这些信息随后被用于访问重要账户，可能导致身份被盗和财务损失。”—[phishing.org](http://www.phishing.org/what-is-phishing)

> 30%的网络钓鱼邮件会被目标用户打开，其中 12%的用户会点击恶意附件或链接。—[verizon.com](https://enterprise.verizon.com/resources/reports/dbir/)

## 网络钓鱼攻击如何影响美国选举

2015 年 9 月，联邦调查局联系了民主党全国委员会(DNC ),通知他们至少有一台计算机已经被入侵，并向俄罗斯的计算机发送信息。六个月后，一位活动主席收到一封伪装成假警报的网络钓鱼电子邮件，称另一个用户试图侵入他的帐户，他需要更改密码。这位民主党全国委员会主席点击链接，将他的浏览器导向一个虚假网站，他在那里输入密码，让俄罗斯黑客进入他的账户。

> 一家中型公司遭受网络钓鱼攻击的平均成本为 160 万美元。

2016 年 7 月 22 日，维基解密公布了通过网络钓鱼攻击窃取的电子邮件。几个星期以来，这些邮件占据了媒体。没人能确定网络钓鱼攻击对选举的影响有多大，但损害已经造成了。

## 什么是恶意软件？

恶意软件是通常通过电子邮件传播的任何形式的恶意代码。它可以使用直接附件分发，存储在 Word 或 PDF 文档中，也可以在用户点击电子邮件中的链接后下载。

## 第一个电子邮件病毒

1999 年 1 月，一种新的威胁出现了。代号为 Happy99，它是最早通过电子邮件传播的已知病毒之一。恶意代码会将其自身作为电子邮件附件，发送带有 fireworks 字样的电子邮件，并祝新年快乐。在用户不知情的情况下，代码会自动安装到计算机上，并再次开始传播。

与今天不同的是，Happy99 病毒除了将自己发送到下一台计算机之外不会做任何事情。如今，恶意代码被用来窃取身份、财务信息和其他私人公司信息。

# Office 365 如何检测垃圾邮件？

Office 365 使用多层垃圾邮件防护系统。每封电子邮件都使用多种不同的算法进行扫描，以检测和阻止不想要的邮件。

## 内容过滤器

![](img/0c69a367bc0a2181b52d8e752b6da894.png)

Source: [Microsoft](https://channel9.msdn.com/events/Ignite/2015/BRK3106)

内容过滤器用于检测已知与垃圾邮件相关的单词和短语。这是一场持续的斗争，因为内容在不断变化。微软在幕后处理内容过滤，但您可以在 EOP 创建一个传输规则来添加您的公司想要阻止的单词和短语。

请参阅下面的“在 Office 365 中自定义内容过滤”部分，以自定义您的租户。

## 连接过滤器

![](img/df1bf2a579d05afe07f770fc144582f8.png)

Screenshot of EAC Connection FIltering Customizations

连接过滤器阻止来自已知不良 IP 地址的电子邮件。垃圾邮件发送者通常会利用僵尸网络和劫持合法公司来发送垃圾邮件。Microsoft 将检测带有受感染设备的 IP 地址，并立即阻止来自您组织的不良电子邮件。一旦发件人解决了问题，Microsoft 将从阻止列表中删除该 IP 地址，并允许电子邮件到达目的地。此外，您的组织可以从 EAC 向阻止列表或允许列表添加 IP 地址。

请参阅下面的“自定义连接过滤”部分来自定义您的租户。

**域过滤**

域名是电子邮件地址的第二部分，位于@符号之后。例如，john.gruber@gitbit.org 的领域是 gitbit.org。

域过滤是一个宽泛的术语，用于确定电子邮件发件人的真实性。如果某个特定的域继续发送不需要的或恶意的电子邮件，整个域可能会被阻止。微软使用许多复杂的算法来确定一个域的有效性。

例如，许多垃圾邮件发送者会创建一个新的域，并立即开始发送垃圾邮件和恶意代码。由于大多数组织已经建立并拥有电子邮件系统多年，Office 365 更有可能阻止来自新域的电子邮件。

与此同时，使用“模糊匹配”技术，微软将审查发件人的域名可疑活动。如果有人从 micros0ft.com 发送电子邮件(零代替 O ),它将被阻止。

请参阅下面的“如何将发件人作为垃圾邮件列入白名单和黑名单”一节来定制您的租户。

## SPF /欺骗保护

从技术上讲，SPF 筛选可以是域或连接筛选的一部分，这取决于它的工作原理。简而言之，黑客可以从他们的计算机发送电子邮件，并将发件人地址设置为另一个地址。虽然电子邮件看起来是合法的，但它可以从另一个位置发送。

在现实世界中，想象一下收到一封信，在回邮地址栏里有你妈妈的名字和地址。你会立刻认为这封信是你妈妈写的，但事实上，任何人都有可能寄出这封信。

组织可以并且应该从他们拥有的每个域中配置 SPF 记录。例如，如果我使用我的 gitbit.org 域名从 IP 地址 1.1.1.1 发送电子邮件，我应该创建一个 TXT 记录来通知全世界 1.1.1.1 是唯一允许发送 gitbit.org 电子邮件的 IP 地址。

```
// Example SPF record
v=spf1 ip4:1.1.1.1/32
```

Office 365 会自动审查向您发送电子邮件的任何人的 SPF 记录，以确保您组织的安全。迁移到 Office 365 时，您需要为您的组织配置 SPF 记录，以帮助保护您的出站电子邮件。在您将 SPF 记录添加到 Office 365 租户后，Microsoft 将验证您的 SPF 记录。

我还没有添加一节如何建立你的防晒指数记录。微软为他们的客户提供了一些帮助，但是我建议如果你以前没有管理过 SPF 记录，请咨询专业人士。

## 信誉过滤

群发邮件和垃圾邮件有点不同。批量发送的电子邮件通常是时事通讯或您所知道的组织提供的信息。它们通常在注册新网站后出现在你的收件箱中。

![](img/b0a544642f5cd4029618361c66a645be.png)

Source: [Microsoft Channel 9](https://channel9.msdn.com/events/Ignite/2015/BRK3106)

一些用户想要群发邮件，而另一些用户不想。微软使用反馈循环来知道何时阻止批量电子邮件。如果微软收到一定数量的投诉，他们将开始阻止群发邮件。

请参阅下面的“垃圾邮件和批量处理措施”和“调整信誉过滤器”部分，为您的组织自定义信誉过滤。

## 恶意软件/附件过滤

![](img/ecdbb0cf4972d1a8ba87b930f1d04e14.png)

Screenshot of EOP’s Malware Policies

恶意软件过滤相当简单。微软将扫描和阻止包含已知恶意软件或可疑代码的电子邮件。

> “使用多个反恶意软件引擎，EOP 提供了多层保护，旨在捕捉所有已知的恶意软件。对通过该服务传输的邮件进行恶意软件(病毒和间谍软件)扫描。如果检测到恶意软件，邮件将被删除。”— [微软](https://docs.microsoft.com/en-us/office365/servicedescriptions/exchange-online-protection-service-description/anti-spam-and-anti-malware-protection-eop)

您可以通过阻止和允许某些类型的附件来自定义附件过滤器。例如，大多数组织不需要 VBS 文件，因此您可能需要将其添加到阻止附件列表中。Microsoft 会立即阻止来自您组织的最危险的附件。

请参阅下面的“保护 Office 365 免受恶意附件侵害”一节，为您的组织自定义信誉过滤。

# 保护组织免受电子邮件威胁

微软将 Office 365 设计为支持所有垂直行业和组织。由于每个组织的要求都不同，Microsoft 提供了许多自定义选项来帮助您根据自己的特定需求定制租户。大多数定制都可以使用 [Exchange 管理中心(EAC)](https://outlook.office365.com/ecp) 进行配置。

**访问交易管理中心**

大多数自定义是通过 Exchange 管理中心(EAC)提供的。只有管理员才能查找和更改选项，因此请确保您用于登录的帐户是 Office 365 租户的管理员。

1.  转到[https://outlook.office365.com/ecp](https://outlook.office365.com/ecp)
2.  使用您的管理员凭据登录。

## 自定义 Office 365 垃圾邮件过滤

自定义垃圾邮件过滤可以从 **EAC >保护>垃圾邮件过滤器**中完成。

![](img/ed9483586ae54fe10c0759a6c490482e.png)

Screenshot of Office 365 Exchange Admin Center spam filter

通常，整个组织只使用一种策略，称为默认策略。双击该策略将打开垃圾邮件过滤器选项窗口。

垃圾邮件设置涵盖许多选项，包括信誉过滤、阻止/允许电子邮件或域以及其他高级选项。

**垃圾邮件和批量操作**

垃圾邮件过滤器选项窗口中的第二个选项卡提供了最常见和最广泛的设置调整。这些设置用于为您的组织自定义信誉过滤。

![](img/54ae50378a859c9fa3167fc401aa65cf.png)

screenshot of Office 365’s spam and bulk actions

**垃圾邮件/群发邮件应该怎么处理？**

第一部分提供了如何处理垃圾邮件的选项。Microsoft 将邮件分类为好邮件、垃圾邮件和高可信度垃圾邮件(意味着 Microsoft 非常确定它是垃圾邮件)。默认情况下，垃圾邮件将出现在用户的垃圾邮件文件夹中。

另一个常见的选项是将消息移动到**隔离区**。隔离的邮件不会被发送到用户的邮箱。相反，它们将被移动到一个只有管理员才能进入的特殊位置。目前，检疫位于 **EAC >保护>检疫**。在用户在其邮箱中看到邮件之前，管理员需要从隔离区释放电子邮件。

**调整信誉过滤器**

一些组织喜欢更多的批量电子邮件到达垃圾邮件文件夹，而其他组织喜欢批量电子邮件到达收件箱。微软使用 1-9 的分级系统。9 表示微软确信这是一封垃圾邮件，而 1 表示这可能是一封好邮件。

![](img/c4c35e3e33f7937c9c2a535b80b3a771.png)

Screen to adjust Office 365’s spam confidence level

您可以调整组织的批量电子邮件评级，以满足您的需求。

**如何将发件人作为垃圾邮件列入白名单和黑名单**

接下来的两个选项卡(阻止列表和允许列表)允许您定义组织的黑名单和白名单。

将电子邮件地址或域列入白名单将允许来自发件人的所有邮件通过垃圾邮件过滤器。微软将白名单称为允许列表。如果您在接收来自您信任的人或合作伙伴的电子邮件时遇到困难，您可以将他们的电子邮件地址或域添加到允许列表中。

将电子邮件地址或域列入黑名单将通过垃圾邮件过滤器阻止来自发件人的所有邮件。微软将黑名单称为阻止列表。如果您收到大量来自特定公司或个人的垃圾邮件，您可以将它们添加到阻止列表中。

在下面的截图中，我已经将所有来自 marketing@contoso.com 的邮件标记为垃圾邮件。来自 contoso.com 用户的任何其他电子邮件将通过标准的垃圾邮件过滤政策。我还把所有来自 gmail.com 域名的邮件都标记为垃圾邮件。gmail.com 的政策会将任何来自 Gmail 用户的邮件标记为垃圾邮件。

![](img/c593933f8f2b39a88c705de5dee9b1d2.png)

screenshot of Office 365 block lists

许多 CRM 系统、表单和第三方工具都会在垃圾邮件过滤器中捕获电子邮件。为了确保人们能够收到收件箱中的电子邮件，您应该将他们添加到允许列表中。

在下面的截图中，我已经将 website-forms@themisdigital.com 添加到允许列表中。这将验证我从 website-forms@themisdigital.com 发来的所有电子邮件直接发送到某人的收件箱，即使微软认为该邮件是垃圾邮件。我还将 fabrikam.com 作为一个域添加到了我的允许列表中。Fabrikam 是我合作的一个虚构的组织，所以我已经验证了来自这个域的任何电子邮件都会到达我的用户的收件箱。

![](img/712b38b7f934d054685d94b8eac75785.png)

## 保护 Office 365 免受网络钓鱼攻击

网络钓鱼攻击是保护您的组织最危险、最困难的攻击之一。保护您的组织免受网络钓鱼攻击的最佳方式是培训和测试您的用户。

以下是您的用户应该知道的帮助防范网络钓鱼攻击的快速列表:

*   不要相信发件人信息中的显示名称。查看电子邮件地址。
*   仔细检查发件人地址。验证字母 o 没有被零替换，等等。
*   不要相信电子邮件，因为上面有你的名字或其他个人信息。通过社交媒体和网络可以获得很多信息，这些信息可能会给你虚假的自信。
*   将鼠标悬停在链接上，验证链接是否指向正确的 URL。
*   如果有疑问，不要点击链接。而是直接去公司网站登录。
*   在采取任何行动之前，请 IT 部门核实该电子邮件。

## 保护 Office 365 免受恶意附件的侵害

开箱即用，微软将扫描和阻止带有未通过病毒检查的附件的电子邮件。您可以添加要阻止的扩展名，以帮助保护您组织的安全。

比如，“。VBS”文件是 Visual Basic 脚本文件，可用于通过电子邮件传递恶意代码。由于大多数组织永远不会通过电子邮件收到一个好的 VBS 文件，所以阻止他们进入您的组织是一个安全的做法。

可以从 **EAC >防护>恶意软件过滤器**中定制附件过滤。双击**默认**策略查看您的选项。

![](img/9b8a44f7f62d405e02e5d3c288d567a8.png)

Screenshot of Office 365 Exchange Admin Center malware filter

从**设置**选项卡中，您可以启用**常见附件类型过滤器**，该过滤器将阻止危险的文件类型。启用后，您可以添加和删除文件类型，为您的组织自定义恶意软件过滤器。

![](img/ed78503848476f5d8e62ef4131076ea1.png)

screenshot of Office 365’s Common Attachment Types Filter

## Office 365 中的自定义内容过滤

内容过滤很难定制。垃圾邮件发送者很容易改变措辞，或者您的 It 人员可能会变得过于咄咄逼人，阻止好消息。

“伟哥”在大多数组织中通常会被阻止，垃圾邮件发送者发送关于伟哥的电子邮件也很常见。

为了阻止内容，我们可以创建一个传输规则: **EAC >邮件流>规则>加号(+) >创建新规则……**

![](img/a4937febb02154c37be2740102f1fb71.png)

使用以下设置创建规则:

*   名称:阻止内容(或您想要的任何内容)
*   在下列情况下应用此规则:主题或正文包括。
*   在单词列表中添加单词 viagra。
*   执行以下操作…删除邮件，不通知任何人。
*   保存您的新规则。

![](img/43b4e20a3770062a600329fe3f30d6f5.png)

交通规则可能需要一个小时才能生效。

如果您点击**更多选项…** 您将有许多其他选项。点击更多选项后，您可以使用**更新**执行以下…** 选择，拒绝带有说明的消息**。这样做将向发送者提供详细的错误，以便他们知道删除该单词。

![](img/2f8cc6f32c795dcc7a0de2fa56ec534a.png)

## 自定义连接筛选

连接过滤相当简单。您可以通过垃圾邮件过滤器允许或阻止 IP 地址。

要访问连接过滤，请转到 **EAC >保护>连接过滤>双击默认**。

![](img/8a2bb0873c5ea6a5293e8aa7035e6569.png)

Office 365 Connection Filtering

在“连接过滤”选项卡中，您可以将 IP 地址或范围添加到过滤器中。

微软还提供启用或禁用“安全列表”的功能。安全列表是 Microsoft 知道的安全发件人使用的 IP 地址范围。

![](img/1348247929fbda005f86719a3e3692eb.png)

任何更改可能需要一个小时才能生效。

还有更多选项我没有介绍。如果你想更多地了解某个特定的功能，请在评论中告诉我。

谢谢，