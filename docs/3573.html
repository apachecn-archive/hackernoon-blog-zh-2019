<html>
<head>
<title>Running Angular project unit-tests on Stackblitz</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Stackblitz 上运行角度项目单元测试</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/running-angular-project-unit-tests-on-stackblitz-bc091abbfcc9#2019-06-11">https://medium.com/hackernoon/running-angular-project-unit-tests-on-stackblitz-bc091abbfcc9#2019-06-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7ed5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">我不是 Stackblitz 团队的一员，所以这不是一篇推广文章:-)我只是认为</em><strong class="it hv"><em class="jp">stack blitz</em></strong><em class="jp">是向文章读者展示你的代码的一个很好的方式。但是长期以来，我忽略了一个小特性:如何在 stackblitz </em>  <em class="jp">上运行 Angular 项目，然后切换同一个项目来运行单元测试。感兴趣吗？继续读！</em></p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/18c245474ac87f37b6aff83fd3eef8a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2UANtrbDUlg6DGnSunhag.jpeg"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Switch Stachblitz Angular project to unit test run. (Pic by <a class="ae jq" href="https://unsplash.com/@bechbox" rel="noopener ugc nofollow" target="_blank">Mikkel Bech</a>0</figcaption></figure><h2 id="271f" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">为什么我应该在 stackblits 中运行角度项目单元测试？</h2><p id="c946" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">嗯，有几次我需要单元测试运行来学习，或者创建一些操场链接来参考技术文章。所以…</p><h2 id="0d20" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">在 stackblitz 开始您的 GitHub 项目</h2><p id="5717" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">每个人都知道如何从 GitHub 的 stack blitz<em class="jp">开始 Angular CLI 项目。下面是一段来自官方文件的引文:</em></p><blockquote class="lh li lj"><p id="1990" class="ir is jp it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">从 Github 导入</p><p id="8075" class="ir is jp it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">您可以在 Github 上运行任何公共回购，只需提供用户名+回购名称，如下所示:</p><p id="0424" class="ir is jp it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated"><code class="eh ln lo lp lq b">stackblitz.com/github/{GH_USERNAME}/{REPO_NAME}</code></p></blockquote><p id="63b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，下面是我的回购链接:</p><pre class="js jt ju jv fq lr lq ls lt aw lu dt"><span id="0630" class="kh ki hu lq b fv lv lw l lx ly">https://github.com/kievsash/NoSniffOptionTest</span></pre><p id="0d77" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并且相应的<em class="jp">堆栈宽度</em>链接将为:</p><pre class="js jt ju jv fq lr lq ls lt aw lu dt"><span id="c375" class="kh ki hu lq b fv lv lw l lx ly">https://stackblitz.com/github/kievsash/NoSniffOptionTest</span></pre><p id="b87b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这里，您可以看到项目正常运行:</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="lz ma l"/></div></figure><h2 id="00d0" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">让它运行我们的单元测试</h2><p id="68ae" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">好，很好，是我先开始的。但是如何对它进行测试呢？对我来说并不明显，直到我发现</p><blockquote class="lh li lj"><p id="43cf" class="ir is jp it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">stackblitz 刚刚运行<strong class="it hv"> main.ts </strong>文件</p></blockquote><p id="8e34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(有一件事情，当你知道的时候，它看起来很简单:-)。</p><p id="135e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，要在<em class="jp"> stackblits </em>中开始 Jasmin 测试，我们需要将所有单元测试引导代码放入<strong class="it hv"> main.ts </strong>文件中。因此，让我们将当前的 main.ts 重命名为 main.bck，并创建一个新的 main.ts 文件。</p><p id="e2bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了用 main.ts 中的 Jasmin 运行我们的单元测试，我们接下来应该做:</p><ol class=""><li id="5afb" class="mb mc hu it b iu iv iy iz jc md jg me jk mf jo mg mh mi mj dt translated">导入并初始化浏览器模块的 jasmine 和 jasmine</li><li id="06e3" class="mb mc hu it b iu mk iy ml jc mm jg mn jk mo jo mg mh mi mj dt translated">导入 zone.js 模块进行测试</li><li id="d5a5" class="mb mc hu it b iu mk iy ml jc mm jg mn jk mo jo mg mh mi mj dt translated">导入出<strong class="it hv"> <em class="jp"> .spec.ts </em> </strong>文件</li><li id="9c40" class="mb mc hu it b iu mk iy ml jc mm jg mn jk mo jo mg mh mi mj dt translated">自举角度测试环境</li></ol><p id="5f35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好吧，让我们这样做:</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="mp ma l"/></div></figure><p id="9e5c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是<em class="jp"> stackblitz </em>的例子:</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek"><strong class="ak">main.ts</strong> file for starting unit tests</figcaption></figure><h2 id="9ddb" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">结论</h2><p id="7e4a" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">现在，如果您需要为 Github repo 的某个 Angular CLI 项目提供 playground 运行单元测试，您知道如何做！</p><p id="50ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请在评论中留下你的<em class="jp">stack blitz</em>Angular gotches！</p></div><div class="ab cl mq mr hc ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hn ho hp hq hr"><p id="fdbf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢这篇文章— <a class="ae jq" href="https://clicktotweet.com/Lu2aU" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">发微博说说吧</strong> </a>🤓</p><p id="291e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关注我<a class="ae jq" href="https://twitter.com/El_Extremal" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> twitter </strong> </a>获取更多 Angular 和 RxJS 文章！</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><a href="http://eepurl.com/gHF0av"><div class="fe ff mx"><img src="../Images/e39daa364c50029b206bdc057d2b3487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*33AyiLH06Tzu-9KxL1hZjg.png"/></div></a></figure></div></div>    
</body>
</html>