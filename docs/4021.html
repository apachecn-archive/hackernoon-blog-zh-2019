<html>
<head>
<title>An Introduction to Hyperledger Sawtooth and a Guide to Setting It Up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger锯齿功能简介及其设置指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/what-is-hyperledger-sawtooth-51b90f10096c?source=collection_archive---------2-----------------------#2019-07-06">https://medium.com/hackernoon/what-is-hyperledger-sawtooth-51b90f10096c?source=collection_archive---------2-----------------------#2019-07-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/7ea1f0c0e264282ab0a68b44bb75d31c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fSzZQ_bcKkxBYzxMtB2Ysg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image Source: Hyperledger</figcaption></figure><h2 id="3385" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">Hyperledger锯齿的炒作是什么</h2><p id="4d3d" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">Hyperledger锯齿是一个开源的区块链平台，由Linux基金会的开源区块链项目Hyperledger创立。由英特尔提出，它是一个企业级分布式账本，是Hyperledger旗下的首批项目之一。</p><p id="aeeb" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">借助可插拔的共识模型，Hyperledger锯齿具有以下特点:</p><ol class=""><li id="d2cf" class="le lf hu kg b kh kz kl la jr lg jv lh jz li ky lj lk ll lm dt translated">模块化的</li><li id="8947" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky lj lk ll lm dt translated">可攀登的</li><li id="fb97" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky lj lk ll lm dt translated">支持无权限和有权限的基础结构。</li></ol><blockquote class="ls"><p id="eb22" class="lt lu hu bd lv lw lx ly lz ma mb ky ek translated">其底层设计旨在保持分类账的分布式，并向智能合同添加业务逻辑。</p></blockquote><p id="0780" class="pw-post-body-paragraph ke kf hu kg b kh mc kj kk kl md kn ko jr me kq kr jv mf kt ku jz mg kw kx ky hn dt translated">在许多基于区块链的标准平台中，应用程序和核心在其平台上执行和托管，这可能会导致性能问题和安全问题。</p><p id="65ff" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">然而，Hyperledger Sawtooth与此类平台的不同之处在于，它将核心分类帐系统与特定于应用程序的环境隔离开来。因此，它简化了应用程序开发，同时保持了系统的安全性。</p><p id="8968" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">借助锯齿的模块化架构，开发人员可以用他们选择的编程语言开发应用程序，并可以在系统外围托管、运行和操作它，而不会妨碍核心区块链系统。</p><p id="4451" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">Hyperledger Sawtooth上的应用程序可以基于核心业务逻辑来运行业务操作，也可以作为一个智能合同虚拟机来构建和运行，该虚拟机具有自治机制，可以创建、通知和执行区块链网络上各种成员之间的合同。</p><p id="1a0d" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">锯齿的核心系统允许这两种应用程序共存，允许不同类型的应用程序驻留在区块链网络的同一个实例中。</p><p id="aa03" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">锯齿上的应用程序可以选择交易规则，定义共识机制，并选择所需的许可，以满足企业要求的方式决定数字分类帐的工作。</p><p id="6ec6" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">极具可扩展性。Hyperledger锯齿可以提供高数据事务吞吐量，因此是处理生产供应链的最佳选择。</p><h1 id="8324" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">Hyperledger锯齿的特征</h1><ul class=""><li id="9324" class="le lf hu kg b kh ki kl km jr my jv mz jz na ky nb lk ll lm dt translated"><strong class="kg hv">具有许可功能的专用网络<br/> </strong>锯齿解决了许可网络的挑战，因为其节点集群可以通过隔离许可进行部署。任何集中式服务都不会泄露机密信息或交易模式。</li></ul><blockquote class="ls"><p id="6dcb" class="lt lu hu bd lv lw lx ly lz ma mb ky ek translated">区块链管理指定身份和角色的设置，以便网络中的参与者可以访问网络上的信息。</p></blockquote><ul class=""><li id="e450" class="le lf hu kg b kh mc kl md jr nc jv nd jz ne ky nb lk ll lm dt translated"><strong class="kg hv">以太坊合同与Seth <br/>的兼容性</strong> The Seth，锯齿-以太坊集成项目允许锯齿平台与以太坊的互操作性。该项目使得以太坊智能合约部署到Seth transaction family的锯齿平台成为可能。</li><li id="f904" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated"><strong class="kg hv">并行事务执行<br/> </strong>许多区块链需要串行事务执行，以确保网络上每个节点的顺序一致。但是，Sawtooth包含一个高级并行调度器，可以将事务分类到并行流中。根据事务访问的状态中的位置，锯齿在处理上下文变化时将事务的执行彼此分开。</li></ul><blockquote class="ls"><p id="6e7d" class="lt lu hu bd lv lw lx ly lz ma mb ky ek translated">锯齿中的事务是并行执行的，以防止重复开销，即使对同一状态进行了多次修改。与串行执行相比，这种类型的调度可能会提高性能。</p></blockquote><ul class=""><li id="f4bd" class="le lf hu kg b kh mc kl md jr nc jv nd jz ne ky nb lk ll lm dt translated"><strong class="kg hv">核心系统和应用程序层之间的隔离<br/> </strong> Hyperledger锯齿通过将应用程序层与核心系统层分离，简化了应用程序的开发和部署。它提供了智能契约抽象，允许开发人员用他们选择的编程语言创建契约逻辑。</li><li id="164e" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">每个应用程序都可以定义定制的事务处理器来满足独特的需求。它提供事务系列作为低级功能的方法，如存储链上权限、管理链范围的设置，以及保存块信息和性能分析等特定应用。</li><li id="a605" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated"><strong class="kg hv">可插拔共识机制<br/> </strong>共识机制是区块链网络中一组参与者达成一致的过程。具有任意错误的达成共识的算法需要在一组特定的参与者中进行某种投票。<br/>一般共识方法包括通过抽签选择领导者的Nakamoto式共识，以及运行多轮显式投票以形成共识的拜占庭容错机制的变体。<br/>锯齿支持同一区块链上的多种合意类型，该最初在网络设置期间选择，并且可以通过事务在运行的区块链上改变。</li></ul><h1 id="2bcb" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated"><strong class="ak">支持以下共识实现:</strong></h1><p id="d006" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated"><strong class="kg hv">经过时间的证明(PoET): <br/> </strong>是一个中本聪式的共识，被设计为可以支持大网络人群的生产级协议。依靠安全的指令执行，它可以实现Nakamoto式一致性机制的可扩展性，而没有PoW算法的功耗缺点。</p><p id="f7db" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv"> PoET模拟器:<br/> </strong>它可以在任何硬件和虚拟化的云环境上实现PoET式的一致。</p><p id="890b" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv">开发模式:<br/> </strong>这是一种简化的随机领导机制，用于开发和测试。</p><ul class=""><li id="3d9f" class="le lf hu kg b kh kz kl la jr lg jv lh jz li ky nb lk ll lm dt translated"><strong class="kg hv">示例事务族<br/> </strong>事务语言和数据模型在一个事务族中实现。尽管用户可以构建定制的事务族来表示他们独特的需求，但是锯齿也提供了各种事务族作为模型。<strong class="kg hv"> IntegerKey </strong>用于测试已部署的总账。<br/> 2。<strong class="kg hv">身份</strong>用于管理验证者和交易者密钥的链上许可，以简化公钥列表的身份管理。<br/> 3。<strong class="kg hv">设置</strong>提供保存链上配置设置的实现。<br/> 4。<strong class="kg hv"> BlockInfo </strong>用于提供一种存储大量历史街区信息的方法。<br/> 5。<strong class="kg hv"> Smallbank </strong>用于在比较区块链系统的性能时管理性能测试和基准测试的性能分析。</li></ul><h1 id="e377" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">Hyperledger锯齿应用程序开发入门？</h1><figure class="ng nh ni nj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nf"><img src="../Images/0eea49995a6ae3ea03db908fed68ad49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NelM-n7g6K-MylRXhDMMFQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image Source: Hyperledger Sawtooth Documentation</figcaption></figure><p id="dd39" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">在开始在Hyperledger锯齿平台上开发应用程序之前，您必须设置并执行一个本地验证程序来测试您的应用程序。一旦网络开始运行，您就可以执行新的事务，并通过锯齿REST API和HTTP从区块链获取块数据和结果状态。</p><blockquote class="ls"><p id="90fe" class="lt lu hu bd lv lw nk nl nm nn no ky ek translated">锯齿验证器可以从预构建的Docker容器运行，这些容器使用Ubuntu 16.904安装或部署在AWS marketplace的AWS中。</p></blockquote><p id="b2e0" class="pw-post-body-paragraph ke kf hu kg b kh mc kj kk kl md kn ko jr me kq kr jv mf kt ku jz mg kw kx ky hn dt translated">我们将带您了解使用Docker Compose开发Hyperledger锯齿应用程序的过程。</p><h1 id="c65e" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">安装Docker引擎和Docker合成</h1><p id="993c" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated"><strong class="kg hv"> Windows: <br/> </strong>在Windows 上安装<a class="ae np" href="https://docs.docker.com/docker-for-windows/install/" rel="noopener ugc nofollow" target="_blank"> Docker引擎可以自动安装Docker Compose。</a></p><p id="7909" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv"> Linux: <br/> </strong>在Linux操作系统上，你需要同时安装<a class="ae np" href="https://docs.docker.com/engine/installation/linux/ubuntu/" rel="noopener ugc nofollow" target="_blank"> Docker引擎</a>和<a class="ae np" href="https://github.com/docker/compose/releases" rel="noopener ugc nofollow" target="_blank"> Docker Compose </a>。</p><p id="58c5" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv"> macOS: <br/> </strong>在macOS上，你要安装最新版本的<a class="ae np" href="https://docs.docker.com/docker-for-mac/install/" rel="noopener ugc nofollow" target="_blank"> Docker引擎</a>。与Windows类似，Docker Compose也是与Docker Engine一起自动安装在macOS上的。</p><h1 id="b036" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">设置环境</h1><p id="d690" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">提供了一个Docker合成文件来描述构建锯齿环境的过程。锯齿环境由以下容器组成:</p><ul class=""><li id="734b" class="le lf hu kg b kh kz kl la jr lg jv lh jz li ky nb lk ll lm dt translated">连接到验证器的REST API</li><li id="06cf" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">运行锯齿命令的客户端容器</li><li id="de98" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">使用开发模式共识的单个验证器</li><li id="920d" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">设置、XO事务处理器和IntegerKey</li></ul><blockquote class="nq nr ns"><p id="a725" class="ke kf nt kg b kh kz kj kk kl la kn ko nu lb kq kr nv lc kt ku nw ld kw kx ky hn dt translated">Docker合成文件还表示从Docker Hub获取的容器映像，以及容器正确交互所需的网络设置。</p></blockquote><p id="b213" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">Docker Compose文件是多容器锯齿应用程序开发环境的基础。下载Docker Compose文件并设置锯齿应用程序的开发环境。</p><p id="50fa" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv">启动锯齿环境包括以下任务:</strong></p><ul class=""><li id="2eaa" class="le lf hu kg b kh kz kl la jr lg jv lh jz li ky nb lk ll lm dt translated">打开终端窗口。</li><li id="cf91" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">将工作目录切换到存储Docker合成文件的目录。</li><li id="22f5" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">运行命令:% docker-compose-f sawtooth-default . YAML up</li></ul><p id="219e" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">下载docker映像可能需要几分钟时间。找到注册和构建初始块的容器后，继续下一步。</p><p id="5788" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">如果需要停止或重置环境，您需要注销客户机容器以返回到默认状态，然后在最初执行docker-compose的Windows系统中按CTRL- C。</p><h1 id="ff07" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">如何创建事务并提交给锯齿网络</h1><p id="b203" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">Sawtooth提供了intkey命令来生成IntegerKey (intkey)事务类型的样本事务，以便进行测试。该方法使用intkey来准备批量intkey事务，这些事务将一些键分配给随机值，然后随机增加和减少这些值。</p><p id="ab8f" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">这些批次存储在本地，并分发给网络内的验证器。</p><p id="db51" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><strong class="kg hv">从客户端容器运行下面提到的命令:</strong></p><p id="708a" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">$ intkey create _ batch—count 10—key-count 5 $ int key load-f batches . int key-U<a class="ae np" href="http://rest-api:8008" rel="noopener ugc nofollow" target="_blank">http://rest-API:8008</a><br/>运行docker-compose命令的终端窗口将作为验证器开始记录输出，int key事务处理器管理最近提交的事务。</p><p id="6033" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">除了使用intkey load，还可以使用“锯齿批处理提交”命令来提交事务。例如，使用以下命令提交batches.intkey文件中的事务:</p><p id="c3d1" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">$ sawtooth batch submit-f batches . int key—URL<a class="ae np" href="http://rest-api:8008" rel="noopener ugc nofollow" target="_blank">http://rest-API:8008</a></p><h1 id="e70e" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">查看区块链</h1><p id="0dc3" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">以下是用于查看块、块列表、特定块和全局状态的不同命令:</p><ul class=""><li id="f02a" class="le lf hu kg b kh kz kl la jr lg jv lh jz li ky nb lk ll lm dt translated">该子命令用于查看保存在区块链中的块。</li><li id="17c8" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">sawtoothblocklist <br/>该命令用于查看块存储的状态。</li><li id="ca6b" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">锯齿块显示—URL<a class="ae np" href="http://rest-api:8008" rel="noopener ugc nofollow" target="_blank">http://rest-API:8008</a>{ BLOCK _ ID }<br/>该命令用于查看使用块ID的特定区块链。</li><li id="83ff" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">该命令用于列出Merkle树中的节点。</li><li id="c918" class="le lf hu kg b kh ln kl lo jr lp jv lq jz lr ky nb lk ll lm dt translated">锯齿状态显示—URL<a class="ae np" href="http://rest-api:8008" rel="noopener ugc nofollow" target="_blank">http://rest-API:8008</a>{ STATE _ ADDRESS }<br/>该命令用于查看特定地址的数据。</li></ul><h1 id="64cc" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">连接到REST API</h1><p id="992e" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">使用命令“$ curl http://REST-API:8008/blocks”来确保可以通过主机连接到REST API。</p><p id="33e7" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">要从主机连接REST API，可以使用命令:“$ curl http://localhost:8008/blocks”。</p><p id="f0b2" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated">由于Hyperledger Sawtooth在构建模块化和可扩展的区块链应用程序方面的潜力，它正被区块链公司广泛用于为企业和初创公司提供区块链业务解决方案。</p><h1 id="91f5" class="mh jh hu bd ji mi mj mk jm ml mm mn jq mo mp mq ju mr ms mt jy mu mv mw kc mx dt translated">无耻的塞又名我们在超账本锯齿上的工作</h1><p id="e2cd" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky hn dt translated">我们在Hyperledger锯齿平台上构建了一个名为<a class="ae np" href="https://www.leewayhertz.com/project/tracerx/" rel="noopener ugc nofollow" target="_blank"> TraceRx </a>的分布式分类账平台，能够在区块链的整个医药供应链中实现端到端的可追溯性。该平台使UNO能够跟踪免费援助的分发情况，并快速执行召回。</p><figure class="ng nh ni nj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nx"><img src="../Images/8d8a798032e4240ce87fd948ca68e33b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kaIpWE8pvWu50f219O7KsA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image Source: LeewayHertz</figcaption></figure><p id="d75b" class="pw-post-body-paragraph ke kf hu kg b kh kz kj kk kl la kn ko jr lb kq kr jv lc kt ku jz ld kw kx ky hn dt translated"><em class="nt">在LeewayHertz，我们有一个由</em> <a class="ae np" href="https://www.leewayhertz.com/blockchain-consulting-services/" rel="noopener ugc nofollow" target="_blank"> <em class="nt">区块链顾问</em> </a> <em class="nt">组成的团队，他们可以帮助有兴趣利用分布式账本技术推进其业务运营的公司和个人。</em></p><figure class="ng nh ni nj fq iv"><div class="bz el l di"><div class="ny nz l"/></div></figure></div></div>    
</body>
</html>