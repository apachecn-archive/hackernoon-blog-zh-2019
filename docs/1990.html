<html>
<head>
<title>REBASE can be Helpful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调整基数可能会有帮助</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/guide-to-recover-from-accidental-commits-and-rebase-in-git-d46cc0b54046#2019-03-26">https://medium.com/hackernoon/guide-to-recover-from-accidental-commits-and-rebase-in-git-d46cc0b54046#2019-03-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/737ec7f405836afe935930849f6498b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QqZwxKbSlsQBZl-AhICbBA.gif"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Traditional working of Git Rebase</figcaption></figure><blockquote class="jg"><p id="0f04" class="jh ji hu bd jj jk jl jm jn jo jp jq ek translated">在<strong class="ak"> Git </strong>中，<strong class="ak"> rebase </strong>命令将变更从一个分支整合到另一个分支中。它是更广为人知的“合并”命令的替代选项。</p></blockquote><p id="d08e" class="pw-post-body-paragraph jr js hu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn jq hn dt translated">你听说这很恐怖，对吧？你可以创造或再造历史！🌗</p><p id="5f20" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">人们要求你远离 git rebase，但是，它有时非常有用。这篇文章介绍了 REBASE 命令的一个很好的用法，与官方的<a class="ae kt" href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="noopener ugc nofollow" target="_blank"> <em class="ku"> git 文档</em> </a> <em class="ku">中的定义相反。</em></p><h1 id="c549" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">git REBASE 的一个很好的应用</h1><p id="2f51" class="pw-post-body-paragraph jr js hu jt b ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk lx km kn jq hn dt translated">先说一个很常见的场景，我觉得所有开发者都可能遇到过或者有一天会遇到。</p><p id="ff11" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">假设您为公司和您的个人项目使用同一台机器，并且当您为您的<strong class="jt hv"> GitHub、</strong>使用两个不同的帐户时，您像这样配置您的本地 git:</p><blockquote class="jg"><p id="9d95" class="jh ji hu bd jj jk ly lz ma mb mc jq ek translated">git config —全局用户. name 您的姓名<br/> git config —全局用户. email you@companydomain</p></blockquote><p id="4487" class="pw-post-body-paragraph jr js hu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn jq hn dt translated">所以我也这样做了，同时也为我的个人项目做贡献。</p><h1 id="6ee2" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">黑色的一天</h1><p id="a35f" class="pw-post-body-paragraph jr js hu jt b ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk lx km kn jq hn dt translated">在一个晴朗的日子里，我刚刚在 GitHub  上查看了我的一个项目<strong class="jt hv"> <em class="ku">提交历史，看到下面的消息时，我的心跳了几下😧</em></strong></p><blockquote class="jg"><p id="1092" class="jh ji hu bd jj jk ly lz ma mb mc jq ek translated">提交显示<strong class="ak"> <em class="md">【未知】</em> </strong>用户😫</p></blockquote><p id="3595" class="pw-post-body-paragraph jr js hu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn jq hn dt translated">由于我的电子邮件不同，GitHub 无法识别我的身份，在我的个人资料上，我也无法获得我的贡献计数(提交已经消失，拉请求和问题创建仍然存在)</p><p id="8815" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated"><em class="ku">我陷入了困境，我想以某种方式弥补我的错误，我不得不重写历史⏳</em> </p><h1 id="6413" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">救援基地！</h1><p id="3b82" class="pw-post-body-paragraph jr js hu jt b ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk lx km kn jq hn dt translated">然后，经过大量的努力，我得到了这个有用的命令😍，我的生命救星:</p><blockquote class="jg"><p id="e746" class="jh ji hu bd jj jk ly lz ma mb mc jq ek translated">git rebase -ip 提交散列</p></blockquote><p id="73e4" class="pw-post-body-paragraph jr js hu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn jq hn dt translated">让我来给你解释如何正确使用这个<em class="ku">，否则</em>你可能会丢失你的跟踪历史<em class="ku">。</em></p><p id="62e5" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">Rebase 为您提供了编辑所有提交历史的工具，但在此之后，它可能会用当前时间和日期覆盖以前提交消息的时间和日期。</p><p id="a88d" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">所以在这篇文章中，我将解释使用这个命令的每一个步骤。</p><ol class=""><li id="ba00" class="me mf hu jt b ju ko jy kp kc mg kg mh kk mi jq mj mk ml mm dt translated">获取提交历史记录的所有哈希 id。</li></ol><pre class="mn mo mp mq fq mr ms mt mu aw mv dt"><span id="4e20" class="mw kw hu ms b fv mx my l mz na">$ git log<br/>$ git rebase -ip caaf71 </span></pre><ul class=""><li id="3caf" class="me mf hu jt b ju ko jy kp kc mg kg mh kk mi jq nb mk ml mm dt translated"><strong class="jt hv"> <em class="ku"> caaf71 </em> </strong>是 git 历史的提交 id。它应该至少是 4 位数。</li></ul><figure class="mn mo mp mq fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nc"><img src="../Images/c821e53382f8ce684e9e48fbe7d3e077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sbu2D87qzDZzkYoYab1yjQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">commit history</figcaption></figure><ul class=""><li id="57f7" class="me mf hu jt b ju ko jy kp kc mg kg mh kk mi jq nb mk ml mm dt translated"><em class="ku">如果你想重新存储整个提交历史，选择上次提交 id。</em></li><li id="5429" class="me mf hu jt b ju nd jy ne kc nf kg ng kk nh jq nb mk ml mm dt translated"><em class="ku">输入上面的命令后，你会得到下面的命令提示。</em></li></ul><figure class="mn mo mp mq fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ni"><img src="../Images/0a6a2d6ffd080372ebd5b58f4abc33ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HAN8Fjj6aBRD5wJWq3hrQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">vim file</figcaption></figure><p id="8c20" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">2.现在，通过按“I”在 vim 编辑器中编辑这个文件。这将进入编辑模式，然后编辑的东西，并取代选择编辑，然后保存它按下 Esc，":x "，然后输入。</p><p id="e9be" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">下面给出了一些有用的 vim 命令。如果您不熟悉 vim，请参考它们。</p><pre class="mn mo mp mq fq mr ms mt mu aw mv dt"><span id="76a8" class="mw kw hu ms b fv mx my l mz na">i  - insert mode <br/>wq - Save and quit<br/>q! - Quit without saving</span></pre><p id="1745" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">3.现在，您可以使用该命令轻松地相应更改用户名或电子邮件。</p><pre class="mn mo mp mq fq mr ms mt mu aw mv dt"><span id="4b0c" class="mw kw hu ms b fv mx my l mz na"><em class="ku">git commit --amend --author=”username &lt;current@email.id&gt;”--no-edit</em></span></pre><blockquote class="jg"><p id="b89a" class="jh ji hu bd jj jk jl jm jn jo jp jq ek translated">这里——no-edit 起着非常重要的作用，如果你使用它，那么它不会影响其他事情，比如提交时间。</p></blockquote><pre class="nj nk nl nm nn mr ms mt mu aw mv dt"><span id="9268" class="mw kw hu ms b fv mx my l mz na">4. git rebase --continue</span></pre><p id="9f1b" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated">5.重复第 3 步和第 4 步，直到您收到消息<em class="ku">“成功重置和更新参考/头/开发。”</em><br/>⑥。最后，只需将最后的修改从本地机器推送到 GitHub。它还会更新你现在的邮箱和用户名。</p><h1 id="f234" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">好吧，有一个黑客！</h1><blockquote class="jg"><p id="bb97" class="jh ji hu bd jj jk ly lz ma mb mc jq ek translated"><em class="md">当你有很多很难处理的提交时，总是做 REBASE 是一件令人兴奋的事情。</em></p></blockquote><p id="ba83" class="pw-post-body-paragraph jr js hu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn jq hn dt translated">我建议先用两个命令配置你的本地机器 repo，然后再开始工作。</p><pre class="mn mo mp mq fq mr ms mt mu aw mv dt"><span id="2e72" class="mw kw hu ms b fv mx my l mz na">git config user.email &lt;your email address&gt;<br/>git config user.name &lt;username&gt;</span></pre><h1 id="5ae0" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">谢谢你💝</h1><p id="1dce" class="pw-post-body-paragraph jr js hu jt b ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk lx km kn jq hn dt translated"><em class="ku">我希望你喜欢我的写作，我喜欢学习&amp;探索 JavaScript。我住在印度的诺伊达，在 Wesence 做软件工程师。</em></p><p id="1cc3" class="pw-post-body-paragraph jr js hu jt b ju ko jw jx jy kp ka kb kc kq ke kf kg kr ki kj kk ks km kn jq hn dt translated"><em class="ku">你可以访问我的网站:</em><a class="ae kt" href="https://thejsgirl.in" rel="noopener ugc nofollow" target="_blank"><strong class="jt hv"><em class="ku">the jsgirl</em></strong></a><em class="ku">，关注我的</em><a class="ae kt" href="https://github.com/thejsgirl" rel="noopener ugc nofollow" target="_blank"><strong class="jt hv"><em class="ku">Github</em></strong></a><em class="ku">&amp;</em><a class="ae kt" href="https://twitter.com/thejsgrl" rel="noopener ugc nofollow" target="_blank"><strong class="jt hv"><em class="ku">Twitter</em></strong></a></p><figure class="mn mo mp mq fq iv"><div class="bz el l di"><div class="no np l"/></div></figure></div></div>    
</body>
</html>