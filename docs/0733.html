<html>
<head>
<title>Protips: Git Your Ass to Mars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">普罗提普斯:滚去火星</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/protips-git-your-ass-to-mars-72568adee037#2019-01-30">https://medium.com/hackernoon/protips-git-your-ass-to-mars-72568adee037#2019-01-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/2fd2789f5fb5d759396928d9ec749b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zvrrwngLwilGm7KCcsRMhQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://www.nasa.gov/sites/default/files/thumbnails/image/esp_050703_2560.jpg" rel="noopener ugc nofollow" target="_blank">Photo courtesy of NASA</a></figcaption></figure><p id="9018" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些年来，我收集了一个 git 技巧的宝库，其中绝大多数来自原始必需品(也有一些只是技术上的整洁)。作为一名全栈开发人员，我已经开始在 Hacker Noon 工作，我已经与团队分享了其中的一些技巧，我也想与您分享其中的一些。</p><h2 id="3b4e" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated"><strong class="ak">问题:我怕我会把事情搞砸！</strong></h2><p id="3b4b" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">这不是一个真正的 git 问题，但我还是会回答它，因为 git 有一个强大的工具<em class="lf">而不是</em>把事情搞砸:分支。树枝非常便宜。根据需要创建多个。如果你认为你会搞砸，从你当前的分支中分支，分支策略见鬼去吧。分支策略是针对共享回购(Github 等。)，而不是你当地的回购——只要别推树枝，你就金了。我将在以后的文章中写更多关于分支策略的内容，包括我们在 Hacker Noon 使用的流程。</p><h2 id="a311" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated"><strong class="ak">问题:我犯了错误的分支！</strong></h2><p id="0357" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">这个问题的解决方案很大程度上取决于你有没有努力。如果你推了，你可能会被搞砸——跳过下一段看看为什么。</p><p id="5448" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们从简单的案例开始。如果你没有推过，没问题:<a class="ae jg" href="https://git-scm.com/docs/git-cherry-pick" rel="noopener ugc nofollow" target="_blank">本指南将带你完成摘樱桃的过程</a>。简而言之:只需切换到您想要提交的分支，然后<strong class="jj hv"> git 挑选$COMMIT_HASH </strong>。如果您没有推送，可以运行一个简单的命令来删除意外提交。<strong class="jj hv">不过，这个命令可以破东西。只有在绝对确定可以安全删除最后一次提交的情况下，才运行它。</strong>为此，在您意外提交的分支上运行<strong class="jj hv"> git reset — hard HEAD~1 </strong>。</p><p id="5ebb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">那么，你怎么能绝对肯定你能安全地删除你的意外提交呢？如果你按我说的去做，你可能会完蛋。如果有其他人在那个分支上工作，你就无能为力了。毕竟，你不能就此改写历史。</p><p id="1430" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">也就是说，如果你真的确定它不会弄乱其他任何人的工作(例如，你是唯一一个在分支上工作的人)，你可以运行上面的重置，然后使用另一个危险的命令，一个“强制推送”，来摆脱提交。<strong class="jj hv">当心！如果您强制推进其他人正在工作的分支，您将在不同的机器上有不同的修订，并且工作可能会丢失。这不是一个好的场景。</strong></p><p id="0b54" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你确定，你可以<strong class="jj hv"> git push -f origin $BRANCH </strong>来强制推送你的分支。</p><h2 id="5359" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated"><strong class="ak">问题:我有一个带任务号什么的怪怪的分支名字，我烦透了敲。</strong></h2><p id="2e35" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">这里的解决方案是双重的:您将希望为 git 安装 tab 补全，并且有一个在推送时引用分支的巧妙技巧。对于第一部分，您将需要类似于<a class="ae jg" href="https://github.com/robbyrussell/oh-my-zsh" rel="noopener ugc nofollow" target="_blank"> oh my zsh </a>的标签完成。至于第二部分，我喜欢用一个简单的捷径。简单的<strong class="jj hv"> git push -u origin HEAD </strong>就可以了！</p><p id="51c6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从那时起，你只需按下<strong class="jj hv">按钮</strong>，一切都会“正常工作”。请注意，<strong class="jj hv"> -u </strong>开关将源远程设置为该分支的上游源。本质上，这意味着 origin 将成为 git pull 和 git push 的默认远程源。</p><p id="83d4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一个相关的提示:您可以使用<strong class="jj hv"> git checkout — </strong>来检查您所在的最后一个分支。如果你需要检查一个队友正在工作的分支，并且想要在分支之间来回切换，这是很棒的。</p><h2 id="12ae" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated"><strong class="ak">问题:我找到了堆栈溢出问题的答案，但我不理解这个时髦的 git 命令。</strong></h2><p id="97a9" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">我讨厌告诉你这些，但是:是时候学习 git 内部了。但是不要害怕！Git 并不难学——从本质上来说，它实际上是一个相对简单的数据结构上的一组简单的命令。它只是一个动力工具——你可以用疯狂的方式使用它，因为作者决定给你这种能力。它是为许多不同的用例设计的，所以像从一个意外提交的分支中挑选樱桃这样的特定用例并不是最重要的。</p><p id="a5cc" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我无法像斯科特·沙孔在他的书《Git Internals》中解释得那么好，这本书可以在网上免费获得。请阅读这本书，我保证您会对 git 有更好的理解。</p><h2 id="b927" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">问题:我厌倦了输入这些又长又疯狂的 git 命令来解决问题。</h2><p id="9f72" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">这有一个快速而有用的解决方案:git 别名。您可以使用类似于<strong class="jj hv">git config—global alias . ci commit</strong>的内容来配置别名，然后您可以编写<strong class="jj hv"> git ci </strong>来运行<strong class="jj hv"> git commit </strong>。</p><p id="6e5f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我并不完全了解 git，但是希望这有所帮助。你有什么 git 技巧可以分享吗？</p></div></div>    
</body>
</html>