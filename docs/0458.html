<html>
<head>
<title>ReactJS Continuous Deployment to Firebase Hosting using CircleCI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CircleCI将ReactJS持续部署到Firebase主机</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/reactjs-continuous-deployment-to-firebase-hosting-using-circle-ci-ed31c0aee2ca?source=collection_archive---------12-----------------------#2019-01-18">https://medium.com/hackernoon/reactjs-continuous-deployment-to-firebase-hosting-using-circle-ci-ed31c0aee2ca?source=collection_archive---------12-----------------------#2019-01-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/136f429afa07da4d7ad60b01736120ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytMIcp6uu6UIZpApG1LFYg.png"/></div></div></figure><h1 id="5c63" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">介绍</h1><p id="6982" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">做同样的事情很无聊。在这个主题中，最无聊的部分是将我们的Web应用程序部署到<a class="ae ky" href="https://hackernoon.com/tagged/firebase" rel="noopener ugc nofollow" target="_blank"> Firebase </a>主机上。我们采取的步骤是:</p><ol class=""><li id="acba" class="kz la hu kc b kd lb kh lc kl ld kp le kt lf kx lg lh li lj dt translated">测试您的react应用程序，<code class="eh lk ll lm ln b">yarn test</code></li><li id="760a" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">按下<code class="eh lk ll lm ln b">git</code></li><li id="9785" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">构建你的react应用，<code class="eh lk ll lm ln b">yarn build</code></li><li id="f3d4" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">做部署到firebase托管，<code class="eh lk ll lm ln b">firebase deploy</code></li></ol><p id="95ab" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">上面的步骤很无聊，在这篇文章里我试着分享我的经验来把上面的四个工作总结成一个。因此，我们需要做的就是将更改推送到git存储库，CircleCI会做所有的事情。</p></div><div class="ab cl lw lx hc ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hn ho hp hq hr"><h1 id="628a" class="jc jd hu bd je jf md jh ji jj me jl jm jn mf jp jq jr mg jt ju jv mh jx jy jz dt translated">要求</h1><p id="d5f0" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">在进一步开始之前，您必须具备以下五项要求:</p><ol class=""><li id="3b3a" class="kz la hu kc b kd lb kh lc kl ld kp le kt lf kx lg lh li lj dt translated">React App。</li><li id="4ce4" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">Firebase项目，此处转到<a class="ae ky" href="http://console.firebase.google.com" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="4d14" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">Git存储库。我的资源库为本教程，<a class="ae ky" href="https://github.com/arryanggaputra/learn-cd-react-firebase" rel="noopener ugc nofollow" target="_blank">这里</a></li><li id="e0d9" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated">Firebase命令行工具，到<a class="ae ky" href="https://github.com/firebase/firebase-tools" rel="noopener ugc nofollow" target="_blank">这里</a>。</li><li id="c47e" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx lg lh li lj dt translated"><a class="ae ky" href="https://hackernoon.com/tagged/circleci" rel="noopener ugc nofollow" target="_blank"> CircleCI </a>账号，到<a class="ae ky" href="http://circleci.com" rel="noopener ugc nofollow" target="_blank">这里</a>。</li></ol><h1 id="47b0" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">开始吧！</h1><h2 id="1181" class="mi jd hu bd je mj mk ml ji mm mn mo jm kl mp mq jq kp mr ms ju kt mt mu jy mv dt translated">1.配置Firebase</h2><p id="d823" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">创建一个React项目，在本教程中我将使用<code class="eh lk ll lm ln b">create-react-app</code></p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="9376" class="mi jd hu ln b fv ne nf l ng nh">$ create-react-app learn-cd-react-firebase<br/>$ cd learn-cd-react-firebase<br/>$ yarn install<br/>$ yarn build</span></pre><p id="4861" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">我们需要配置我们的项目连接到Firebase，做<code class="eh lk ll lm ln b">firebase login</code></p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="37dc" class="mi jd hu ln b fv ne nf l ng nh">$ firebase login<br/><br/>? Allow Firebase to collect anonymous CLI usage and error reporting information? No</span><span id="4747" class="mi jd hu ln b fv ni nf l ng nh">Visit this URL on any device to log in:<br/><a class="ae ky" href="https://accounts.google.com/o/oauth2/auth?client_id=563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6.apps.googleusercontent.com&amp;scope=email%20openid%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloudplatformprojects.readonly%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Ffirebase%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloud-platform&amp;response_type=code&amp;state=327146197&amp;redirect_uri=http%3A%2F%2Flocalhost%3A9005" rel="noopener ugc nofollow" target="_blank">https://accounts.google.com/o/oauth2/auth?client_id=563584335869-x</a>xxxxxx</span><span id="4374" class="mi jd hu ln b fv ni nf l ng nh">Waiting for authentication...</span><span id="637c" class="mi jd hu ln b fv ni nf l ng nh">✔  Success! Logged in as <a class="ae ky" href="mailto:arryanggaputra@gmail.com" rel="noopener ugc nofollow" target="_blank">arryanggaputra@gmail.com</a></span></pre><p id="50c2" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">执行<code class="eh lk ll lm ln b">firebase init</code>，这将在当前目录下设置一个新的Firebase项目。该命令将在当前目录下创建一个<code class="eh lk ll lm ln b">firebase.json</code>配置文件。</p><p id="cc0d" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">用空格做选择，选择<code class="eh lk ll lm ln b">Hosting</code></p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="1c87" class="mi jd hu ln b fv ne nf l ng nh">You're about to initialize a Firebase project in this directory:</span><span id="bcd4" class="mi jd hu ln b fv ni nf l ng nh">/Users/arryanggaalievpratamaputra/sites/learn-cd-react-firebase</span><span id="48be" class="mi jd hu ln b fv ni nf l ng nh">? Which Firebase CLI features do you want to setup for this folder? Press Space to select features, then Enter to confirm your choices.<br/> ◯ Database: Deploy Firebase Realtime Database Rules<br/> ◯ Firestore: Deploy rules and create indexes for Firestore<br/> ◯ Functions: Configure and deploy Cloud Functions<br/>❯◉ <strong class="ln hv">Hosting: Configure and deploy Firebase Hosting sites</strong><br/> ◯ Storage: Deploy Cloud Storage security rules</span></pre><p id="b2ad" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">选择您的Firebase项目</p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="ea7d" class="mi jd hu ln b fv ne nf l ng nh">First, let's associate this project directory with a Firebase project. You can create multiple project aliases by running firebase use --add, but for now we'll just set up a default project.</span><span id="5b41" class="mi jd hu ln b fv ni nf l ng nh">? Select a default Firebase project for this directory:<br/>  [don't setup a default project]<br/>  mws-surabaya (mws-surabaya)<br/>❯ <strong class="ln hv">learn-cd-react-firebase (learn-cd-react-firebase)</strong><br/>  [create a new project]</span></pre><p id="f563" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">配置公共目录，键入<code class="eh lk ll lm ln b">build</code>，<code class="eh lk ll lm ln b">create-react-app</code>项目将把你的构建生成到<code class="eh lk ll lm ln b">build</code>文件夹中。<strong class="kc hv">配置为单页app </strong>，输入<code class="eh lk ll lm ln b">Yes</code></p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="1cfb" class="mi jd hu ln b fv ne nf l ng nh">=== Hosting Setup</span><span id="a334" class="mi jd hu ln b fv ni nf l ng nh">Your public directory is the folder (relative to your project directory) that<br/>will contain Hosting assets to be uploaded with firebase deploy. If you<br/>have a build process for your assets, use your build's output directory.</span><span id="bb83" class="mi jd hu ln b fv ni nf l ng nh">? What do you want to use as your public directory? <strong class="ln hv">build</strong><br/>? Configure as a single-page app (rewrite all urls to /index.html)? <strong class="ln hv">Yes</strong><br/>? File build/index.html already exists. Overwrite? <strong class="ln hv">No</strong><br/>i  Skipping write of build/index.html</span><span id="ec9e" class="mi jd hu ln b fv ni nf l ng nh">i  Writing configuration info to firebase.json...<br/>i  Writing project information to .firebaserc...</span><span id="6787" class="mi jd hu ln b fv ni nf l ng nh">✔  Firebase initialization complete!</span></pre><h2 id="0cf6" class="mi jd hu bd je mj mk ml ji mm mn mo jm kl mp mq jq kp mr ms ju kt mt mu jy mv dt translated">2.手动部署到Firebase</h2><p id="9350" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">为了确保我们的Firebase主机是否可以使用，我们将尝试手动部署。</p><p id="927a" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">我们用命令进行构建<code class="eh lk ll lm ln b">yarn build</code></p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="0e66" class="mi jd hu ln b fv ne nf l ng nh">yarn run v1.10.1<br/>$ react-scripts build<br/>Creating an optimized production build...<br/>Compiled successfully.</span><span id="d062" class="mi jd hu ln b fv ni nf l ng nh">File sizes after gzip:</span><span id="db96" class="mi jd hu ln b fv ni nf l ng nh">34.71 KB  build/static/js/1.fa92c112.chunk.js<br/>  763 B     build/static/js/runtime~main.229c360f.js<br/>  713 B     build/static/js/main.b50be446.chunk.js<br/>  511 B     build/static/css/main.3a30845b.chunk.css</span><span id="cc7b" class="mi jd hu ln b fv ni nf l ng nh">The project was built assuming it is hosted at the server root.<br/>You can control this with the homepage field in your package.json.<br/>For example, add this to build it for GitHub Pages:</span><span id="e9b5" class="mi jd hu ln b fv ni nf l ng nh">"homepage" : "<a class="ae ky" href="http://myname.github.io/myapp" rel="noopener ugc nofollow" target="_blank">https://</a><a class="ae ky" href="https://learn-cd-react-firebase.firebaseapp.com" rel="noopener ugc nofollow" target="_blank">learn-cd-react-firebase.firebaseapp.com</a>",</span><span id="a212" class="mi jd hu ln b fv ni nf l ng nh">The build folder is ready to be deployed.<br/>You may serve it with a static server:</span><span id="f0e5" class="mi jd hu ln b fv ni nf l ng nh">yarn global add serve<br/>  serve -s build</span><span id="66a3" class="mi jd hu ln b fv ni nf l ng nh">Find out more about deployment here:</span><span id="e36a" class="mi jd hu ln b fv ni nf l ng nh"><a class="ae ky" href="http://bit.ly/CRA-deploy" rel="noopener ugc nofollow" target="_blank">http://bit.ly/CRA-deploy</a></span><span id="3615" class="mi jd hu ln b fv ni nf l ng nh">✨  Done in 13.14s.</span></pre><p id="afb2" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">构建成功后，我们使用命令<code class="eh lk ll lm ln b">firebase deploy</code>部署到Firebase</p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="9758" class="mi jd hu ln b fv ne nf l ng nh">=== Deploying to 'learn-cd-react-firebase'...</span><span id="557a" class="mi jd hu ln b fv ni nf l ng nh">i  deploying hosting<br/>i  hosting[learn-cd-react-firebase]: beginning deploy...<br/>i  hosting[learn-cd-react-firebase]: found 15 files in build<br/>✔  hosting[learn-cd-react-firebase]: file upload complete<br/>i  hosting[learn-cd-react-firebase]: finalizing version...<br/>✔  hosting[learn-cd-react-firebase]: version finalized<br/>i  hosting[learn-cd-react-firebase]: releasing new version...<br/>✔  hosting[learn-cd-react-firebase]: release complete</span><span id="6331" class="mi jd hu ln b fv ni nf l ng nh">✔  Deploy complete!</span><span id="ab26" class="mi jd hu ln b fv ni nf l ng nh">Project Console: <a class="ae ky" href="https://console.firebase.google.com/project/learn-cd-react-firebase/overview" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/project/learn-cd-react-firebase/overview</a><br/>Hosting URL: <a class="ae ky" href="https://learn-cd-react-firebase.firebaseapp.com" rel="noopener ugc nofollow" target="_blank">https://learn-cd-react-firebase.firebaseapp.com</a></span></pre><p id="3ce7" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">这是工作🔥😎<a class="ae ky" href="https://learn-cd-react-firebase.firebaseapp.com" rel="noopener ugc nofollow" target="_blank">https://learn-cd-react-firebase.firebaseapp.com</a></p><figure class="mw mx my mz fq iv"><div class="bz el l di"><div class="nj nk l"/></div></figure><h2 id="9be1" class="mi jd hu bd je mj mk ml ji mm mn mo jm kl mp mq jq kp mr ms ju kt mt mu jy mv dt translated">3.用我们的项目配置CircleCI</h2><p id="a5bf" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">转到<a class="ae ky" href="http://circleci.com" rel="noopener ugc nofollow" target="_blank">circleci.com</a>和<code class="eh lk ll lm ln b">ADD PROJECT</code></p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div class="fe ff nl"><img src="../Images/c43cf4f19f025f3fe1fd9ab204836937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*_JP_pNXygpyKX2MI8yWa0w.jpeg"/></div><figcaption class="nm nn fg fe ff no np bd b be z ek">Press Setup Project button</figcaption></figure><p id="f706" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">选择<code class="eh lk ll lm ln b">Linux</code>作为操作系统，选择<code class="eh lk ll lm ln b">Node</code>作为我们的语言。</p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nq"><img src="../Images/582abd2d3126e76702807d4f9ff26675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qxyz--sxE2fEyHWp3bd47g.jpeg"/></div></div></figure><p id="9887" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">回到我们的项目，并创建CircleCI配置</p><ul class=""><li id="4acd" class="kz la hu kc b kd lb kh lc kl ld kp le kt lf kx nr lh li lj dt translated">创建一个名为<code class="eh lk ll lm ln b">.circleci</code>的文件夹</li><li id="5a97" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">添加一个文件<code class="eh lk ll lm ln b">config.yml</code>(这样文件路径就在<code class="eh lk ll lm ln b">.circleci/config.yml</code>)。</li><li id="5231" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">用样本<code class="eh lk ll lm ln b">config.yml</code>的内容填充<code class="eh lk ll lm ln b">config.yml</code></li><li id="9f3b" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">将此样本复制到我们的存储库中</li></ul><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="c125" class="mi jd hu ln b fv ne nf l ng nh">version: 2<br/>jobs:<br/>  build:<br/>    docker:<br/>      - image: 'circleci/node:8'<br/>    working_directory: ~/repo<br/>    steps:<br/>      - checkout<br/>      - restore_cache:<br/>          keys:<br/>            - 'v1-dependencies-{{ checksum "package.json" }}'<br/>            - v1-dependencies-<br/>      - run: 'yarn install'<br/>      - save_cache:<br/>          paths:<br/>            - node_modules<br/>          key: 'v1-dependencies-{{ checksum "package.json" }}'<br/>      - run: 'yarn test'</span></pre><p id="b0bf" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">把这个变化推上GitHub，开始构建！你需要按标有<code class="eh lk ll lm ln b">Start building!</code>的蓝色按钮</p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ns"><img src="../Images/7c3ab0f770a1f933eef32817561612ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Jb-PlRKpGIXaMgcYfpAMg.jpeg"/></div></div><figcaption class="nm nn fg fe ff no np bd b be z ek">If building success, you will see this</figcaption></figure><h2 id="3557" class="mi jd hu bd je mj mk ml ji mm mn mo jm kl mp mq jq kp mr ms ju kt mt mu jy mv dt translated">4.从CircleCI部署到Firebase主机</h2><p id="47a3" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">这一步将允许我们将项目自动部署到Firebase主机上。生成Firebase CI令牌。</p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="c712" class="mi jd hu ln b fv ne nf l ng nh">$ firebase login:ci</span><span id="6ba4" class="mi jd hu ln b fv ni nf l ng nh">Visit this URL on any device to log in:<br/><a class="ae ky" href="https://accounts.google.com/o/oauth2/auth?client_id=563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6.apps.googleusercontent.com&amp;scope=email%20openid%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloudplatformprojects.readonly%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Ffirebase%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcloud-platform&amp;response_type=code&amp;state=157166044&amp;redirect_uri=http%3A%2F%2Flocalhost%3A9005" rel="noopener ugc nofollow" target="_blank">https://accounts.google.com/o/oauth2/auth?client_id=563584335869-fgrhgmd</a></span><span id="3402" class="mi jd hu ln b fv ni nf l ng nh">Waiting for authentication...</span><span id="70cc" class="mi jd hu ln b fv ni nf l ng nh">✔  Success! Use this token to login on a CI server:</span><span id="dca4" class="mi jd hu ln b fv ni nf l ng nh">1/qV80aq1eE06WJkIkwEmkkoU12iIKq2DYOV2gNiTmg</span><span id="d23c" class="mi jd hu ln b fv ni nf l ng nh">Example: firebase deploy --token "$FIREBASE_TOKEN"</span></pre><p id="23ca" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">转到项目设置</p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div class="fe ff nl"><img src="../Images/4c0d5daf00504089499bacc58305d2d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*gbZb8ksk2R1XML3XTKnBFw.jpeg"/></div><figcaption class="nm nn fg fe ff no np bd b be z ek">Project Setting</figcaption></figure><p id="c272" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">转到环境变量</p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nt"><img src="../Images/d18773c0662902ba0c897e03f2f1a3b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Pup26LK5rQqrmb1RI6DJw.jpeg"/></div></div><figcaption class="nm nn fg fe ff no np bd b be z ek">Environtment Variables menu at CricleCI</figcaption></figure><p id="6c27" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">添加变量<code class="eh lk ll lm ln b">FIREBASE_TOKEN</code>，用我们之前得到的令牌值填充。</p><figure class="mw mx my mz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nu"><img src="../Images/b0732478a54d6bd30346e53393128c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQprsCDxzWlOpvE6fGVU6A.jpeg"/></div></div></figure><p id="5fcf" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">打开<code class="eh lk ll lm ln b">.circleci/config.yml</code>。将此行添加到<code class="eh lk ll lm ln b">config.yml</code>的底部</p><pre class="mw mx my mz fq na ln nb nc aw nd dt"><span id="ef48" class="mi jd hu ln b fv ne nf l ng nh">- run:<br/>    name: 'Build Project'<br/>    command: 'yarn build'<br/>- run:<br/>    name: 'Deploy to Firebase Hosting'<br/>    command: './node_modules/.bin/firebase deploy --token=$FIREBASE_TOKEN'</span></pre><ul class=""><li id="f391" class="kz la hu kc b kd lb kh lc kl ld kp le kt lf kx nr lh li lj dt translated">添加firebase工具作为开发依赖项<code class="eh lk ll lm ln b">yarn add firebase-tools --dev</code></li><li id="5672" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">将更改推送到github。</li><li id="ffef" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">每次你在github上推动改变，CircleCI都会进行部署</li><li id="d0a2" class="kz la hu kc b kd lo kh lp kl lq kp lr kt ls kx nr lh li lj dt translated">和成功</li></ul><figure class="mw mx my mz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nv"><img src="../Images/a817dab2a5d072da7201b67339152694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o3BarXCm_lg85-DDXRyVNg.jpeg"/></div></div></figure><figure class="mw mx my mz fq iv"><div class="bz el l di"><div class="nw nk l"/></div></figure><p id="1236" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">我们现在已经设置了一个持续部署来将您的项目部署到Firebase主机。</p><p id="002e" class="pw-post-body-paragraph ka kb hu kc b kd lb kf kg kh lc kj kk kl lt kn ko kp lu kr ks kt lv kv kw kx hn dt translated">如果你在以上部分的任何一点上卡住了，或者如果我在某个地方犯了错误或者错过了一个关键点，请在评论中告诉我。</p><h2 id="7b43" class="mi jd hu bd je mj mk ml ji mm mn mo jm kl mp mq jq kp mr ms ju kt mt mu jy mv dt translated">如果这有用，请点击拍手👏下面扣几下，以示支持！⬇⬇⬇ 🙏🏼</h2><h1 id="eeb7" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">我的其他帖子</h1><div class="nx ny fm fo nz oa"><a rel="noopener follow" target="_blank" href="/@arryanggaputra"><div class="ob ab ej"><div class="oc ab od cl cj oe"><h2 class="bd hv fv z el of eo ep og er et ht dt translated">阿利扬加·阿利耶夫·pratamaputra‏‏‎-中等</h2><div class="oh l"><h3 class="bd b fv z el of eo ep og er et ek translated">阅读阿林加·阿利耶夫·pratamaputra‏‏‎在媒介上的作品。‏‏‎Front终端开发者- React爱好者。每天…</h3></div><div class="oi l"><p class="bd b gc z el of eo ep og er et ek translated">medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ja oa"/></div></div></a></div><figure class="mw mx my mz fq iv"><div class="bz el l di"><div class="op nk l"/></div></figure></div></div>    
</body>
</html>