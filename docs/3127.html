<html>
<head>
<title>Find the best API Endpoint for your EOS DApp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的EOS DApp找到最佳的API端点</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/find-the-best-api-endpoint-for-your-eos-dapp-7b7489cb6449?source=collection_archive---------14-----------------------#2019-05-17">https://medium.com/hackernoon/find-the-best-api-endpoint-for-your-eos-dapp-7b7489cb6449?source=collection_archive---------14-----------------------#2019-05-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="a92c" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">任何DApp的关键部分是与EOS节点的HTTP API端点的交互。</h2></div><p id="45b4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以，如果你想开发一个基于EOS区块链的DApp，而不想用HTTP API端点运行你自己的节点，因为这是一个相当复杂的任务，需要大量的资源。你可以尝试使用一些像eosinfra或dfuse这样的服务，它们为你提供现成的API，但是在某些时候这些服务并不便宜。</p><p id="d0e5" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">EOS区块链的核心是你投票支持的块生产者，但他们不是网络上唯一提供公共API端点的，许多其他BP候选人也提供它们，所以为什么不使用它们呢？</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="a3da" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我的想法是收集一份在EOS区块链注册的所有BP的列表，并找出它们所有的API端点，以便进一步测试。</p><p id="7921" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我为这个任务写了一些脚本，但我还没准备好展示(如果你感兴趣，我会清理它并在某一天发布=)，所以我只向你展示收集的结果:</p><ul class=""><li id="e17a" class="km kn hu jl b jm jn jp jq js ko jw kp ka kq ke kr ks kt ku dt translated"><a class="ae kv" href="https://gist.github.com/akme/89a4e596587cb605b530bd825994a0db" rel="noopener ugc nofollow" target="_blank"> HTTP API端点</a></li><li id="146c" class="km kn hu jl b jm kw jp kx js ky jw kz ka la ke kr ks kt ku dt translated"><a class="ae kv" href="https://gist.github.com/akme/fe1e2797aeac06480a1e287445109bc0" rel="noopener ugc nofollow" target="_blank"> HTTPS API终点</a></li></ul><p id="4136" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在我们需要找出具有最低延迟的端点，这样我们就可以有更好的性能(如果BP有好的节点)，但find主机不是一个选项，因为一些端点隐藏在CDN或负载平衡器后面。</p><p id="5681" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">API是动态服务，缓存它是个坏主意，所以我们需要测量HTTP请求-响应时间来找出最近的(就网络而言)主机。</p><p id="d318" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于这个任务，我将使用<a class="ae kv" href="https://github.com/akme/get-closer" rel="noopener ugc nofollow" target="_blank">变得更近</a>(这是我为此类任务编写的)。</p><p id="3b95" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">测试的逻辑非常简单，只需测量HTTP请求时间并与其他时间进行比较。</p><p id="6bc2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于HTTP，您只需运行:</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="6fdd" class="lk ll hu lg b fv lm ln l lo lp">$ get-closer http -f <a class="ae kv" href="https://gist.githubusercontent.com/akme/89a4e596587cb605b530bd825994a0db/raw/db790fa2ffc1f9aef63a6b4b83b16a6badc71276/eos.http.txt" rel="noopener ugc nofollow" target="_blank">https://gist.githubusercontent.com/akme/89a4e596587cb605b530bd825994a0db/raw/db790fa2ffc1f9aef63a6b4b83b16a6badc71276/eos.http.txt</a></span></pre><p id="0d1c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你会得到这样的结果:</p><figure class="lb lc ld le fq lq"><div class="bz el l di"><div class="lr ls l"/></div></figure><p id="518a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于HTTPS:</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="790b" class="lk ll hu lg b fv lm ln l lo lp">$ get-closer http --ssl -f <a class="ae kv" href="https://gist.github.com/akme/fe1e2797aeac06480a1e287445109bc0" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/akme/fe1e2797aeac06480a1e287445109bc0</a></span></pre><p id="592e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">结果:<a class="ae kv" href="https://gist.github.com/akme/73c6826436968bb34a6edf2468da7d86" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/akme/73c 6826436968 bb 34 a 6 EDF 2468 da 7d 86</a></p><h1 id="7448" class="lt ll hu bd lu lv lw lx ly lz ma mb mc ja md jb me jd mf je mg jg mh jh mi mj dt translated">结论</h1><p id="446a" class="pw-post-body-paragraph jj jk hu jl b jm mk iv jo jp ml iy jr js mm ju jv jw mn jy jz ka mo kc kd ke hn dt translated">这是一个非常原始的想法，但是我对你的反馈很感兴趣。你认为基于这样的测量来选择终点怎么样？</p></div></div>    
</body>
</html>