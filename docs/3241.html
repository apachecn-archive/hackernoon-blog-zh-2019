<html>
<head>
<title>A Complete Guide to Recording Time &amp; Date Periods With a Chatbot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用聊天机器人记录时间和日期的完整指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-complete-guide-to-recording-time-date-periods-with-a-chatbot-1751d3f1f629?source=collection_archive---------23-----------------------#2019-05-22">https://medium.com/hackernoon/a-complete-guide-to-recording-time-date-periods-with-a-chatbot-1751d3f1f629?source=collection_archive---------23-----------------------#2019-05-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/52808e5446710c7efd7af8fc83b61585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g3u82tOF8D3Mmjg6fcnNhA.jpeg"/></div></div></figure><p id="db06" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">日期是许多业务场景中必不可少的关键参数，如创建休假或旅行请求，为日期或期间的后端数据生成对话报告。然而，有时记录各种日期格式和组合(一个日期、几个日期、周期)似乎是一个挑战。</p><h1 id="ae89" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">先决条件</h1><p id="db22" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">本教程是为高级用户设计的，所以如果你还没有制作你的第一个机器人，请跟随本教程。<br/>如果你想学习如何在SAP对话式AI平台上使用bot builder掌握内存管理，请先阅读<a class="ae ld" href="https://cai.tools.sap/blog/mastering-memory-management-bot-builder/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>！</p><h1 id="1be0" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">解决办法</h1><p id="c8cc" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">从可重用性和统一技能开发的角度来看，这里的最佳实践可能是仅使用一种技能来解决在不同情况下获取单个日期、多个日期或一段时间的任务。在这种情况下，我们首先捕获从聊天用户那里收到的任何日期输入实体(可以有两个日期，一个日期，或者也是一个标准实体的周期)。</p><p id="ece2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们尝试在<em class="le">需求</em>选项卡中捕获至少一个<strong class="je hv">#日期时间</strong>实体(日期自)(1)或一个<strong class="je hv">#间隔</strong>实体(作为日期自和日期至参数)(2):</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lf"><img src="../Images/44cb7f263e30b1cbb80410152c6e5c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tjLSlFJtXzn9ygHZ.png"/></div></div></figure><p id="5d2a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">保存来自<strong class="je hv"> #datetime </strong>实体的Date From值，我们捕获日期数组的第一个元素，并记录标准实体的ISO部分。这是记录标准化值的很好的实践，因为它对于集成可能是至关重要的:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lk"><img src="../Images/626a1ecc2a67f3646ee8b2f846c90085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-rIkFb295bXyCnU4.png"/></div></div></figure><p id="1ac7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<strong class="je hv"> #Interval </strong>实体处理中，我们记录时间段的开始和结束，以区分这些内存参数:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ll"><img src="../Images/8ff121a1abe90176bff7cb567f90589d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vgfIKFH39tvoQkjG.png"/></div></div></figure><p id="1846" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此外，如果用户在一条消息中提供了两个独立的日期(不是一个时间段)，我们会将Date To value记录为技能的<em class="le"> Actions </em>选项卡中的<strong class="je hv"> #datetime </strong>数组的第二个元素:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lm"><img src="../Images/317386d6cb2a950c42fe17f9eb1f01a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DwqODm_U3g9R86Vt.png"/></div></div></figure><p id="96ad" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果我们的场景假定有两个日期，但是用户最初只提供了一个日期，那么我们需要额外检查所需的内存参数是否存在(Date To):</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lm"><img src="../Images/6c5878bc1c67d1da856e7c01a1f218b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wtN5pibtuwd8Ti-b.png"/></div></div></figure><p id="0ddd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果缺少这样一个内存参数(第二个日期，在我们的示例中为Date To ),我们要求用户在主技能中输入适当的日期(例如，创建休假请求),我们调用一个附加技能在<em class="le">需求</em>选项卡中记录第二个日期:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ln"><img src="../Images/8cf31a75e50ffe55d8985a06905501fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t3D8o88jRIfV2MvE.png"/></div></div></figure><p id="abb1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这种情况下，一旦我们已经向用户询问了第二个日期(在我们的例子中是Date To ),我们就将<strong class="je hv"> #datetime </strong>数组的第一个元素记录为Date To memory参数:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lo"><img src="../Images/35cdfabf0417c8190865429ed335f058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_eor35cCpq6lYt6j.png"/></div></div></figure><p id="84ed" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这个阶段，我们可能会问自己以下问题:“<em class="le">如果用户决定立即提供日期，而不等待机器人的澄清问题，该怎么办？</em></p><p id="4d21" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于这种情况，我们也有解决方案。在主要业务技能中，有两种类型的动作块:</p><p id="5166" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 1。</strong>如果实体被分配，目标参数为空，则直接调用获取日期技能，直接记录日期:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/73fa123cd46fa51017b5ec4012f4c1b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/0*AWy-xHxbkWhTuMrH.png"/></div></figure><p id="bdd4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 2。</strong>如果目标实体未被识别，则我们要求提供日期，并通过等待用户输入选项重定向到获取日期技能:</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lq"><img src="../Images/eed7503de046f91783fdbe581f433306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zxwLh750Xhpl5QZQ.png"/></div></div></figure><p id="9a25" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这里，我们有一个统一的机制，允许我们记录任何日期组合和任何类型的日期输入！</p><h1 id="6fb8" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">用例</h1><h2 id="a0dc" class="lr kb hu bd kc ls lt lu kg lv lw lx kk jn ly lz ko jr ma mb ks jv mc md kw me dt translated"><strong class="ak">案例1:记录一个日期:创建半天休假申请</strong></h2><p id="a591" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">该技能允许用户创建最多一天的休假请求。休假时间以小时为单位。在这个场景中，我们需要从用户输入中记录一个日期。</p><p id="58d7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ld" href="https://www.skybuffer.com/leave-request-creation-half-day-leave/" rel="noopener ugc nofollow" target="_blank">https://www . sky buffer . com/leave-request-creation-half-day-leave/</a></p><h2 id="e750" class="lr kb hu bd kc ls lt lu kg lv lw lx kk jn ly lz ko jr ma mb ks jv mc md kw me dt translated"><strong class="ak">案例2:记录期间(日期自—日期至):差旅申请创建</strong></h2><p id="7d14" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">这种人工智能技能使SAP用户能够为他们即将到来的旅行创建一个旅行请求。聊天机器人会询问必要的细节，如日期、目的地、预期的旅行费用等。在这种情况下，机器人请求旅行的开始和结束日期。</p><p id="fdb0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ld" href="https://www.skybuffer.com/travel-request-creation/" rel="noopener ugc nofollow" target="_blank">https://www.skybuffer.com/travel-request-creation/</a></p><h2 id="c823" class="lr kb hu bd kc ls lt lu kg lv lw lx kk jn ly lz ko jr ma mb ks jv mc md kw me dt translated"><strong class="ak">案例3:选择决定—一个或两个日期:教育假创建</strong></h2><p id="2b56" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">所谓教育假，我们指的是为了自学和提高个人资格而休假的时间。用户可以请一天或更长时间的假——我们的聊天机器人总是会澄清这一点。</p><p id="fc47" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ld" href="https://www.skybuffer.com/leave-request-creation-educational-leave/" rel="noopener ugc nofollow" target="_blank">https://www . sky buffer . com/leave-request-creation-educational-leave/</a></p><h2 id="312c" class="lr kb hu bd kc ls lt lu kg lv lw lx kk jn ly lz ko jr ma mb ks jv mc md kw me dt translated"><strong class="ak">案例4:记录两个(或更多)单独的日期:供应商发票创建</strong></h2><p id="3408" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">这项功能性技能允许聊天用户创建供应商的发票。这里，我们需要记录两个独立的日期:文档日期和发布日期。</p><p id="5c91" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ld" href="https://www.skybuffer.com/create-supplier-invoice/" rel="noopener ugc nofollow" target="_blank">https://www.skybuffer.com/create-supplier-invoice/</a></p><h1 id="8f28" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">什么是Skybuffer？</h1><p id="e1a4" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">Skybuffer是一家国际SAP实施和开发公司，成立于2013年。</p><p id="d487" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">自2018年以来，Skybuffer一直专注于为SAP on-premise系统(SAP Business Suite和SAP S/4HANA)开发基于SAP对话式AI的新用户体验，为企业用户提供通过文本(聊天机器人)和语音支持的渠道与SAP系统合作的机会。</p><p id="5bfd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Skybuffer托管了一个公共的创新演示门户，任何人都可以尝试新的基于SAP对话式人工智能的用户体验，以了解与SAP系统聊天或语音交谈如何减轻压力、提高工作效率以及方便访问SAP内部数据。</p><p id="59b2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想了解其他教程，请随时查看<a class="ae ld" href="https://cai.tools.sap/blog/category/tutorial/" rel="noopener ugc nofollow" target="_blank">本页</a>。快乐机器人大厦！🤖</p></div><div class="ab cl mf mg hc mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hn ho hp hq hr"><p id="c366" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="le">原载于2019年5月22日</em><a class="ae ld" href="https://cai.tools.sap/blog/complete-guide-to-recording-time-date-periods-with-a-chatbot/" rel="noopener ugc nofollow" target="_blank"><em class="le">https://Cai . tools . sap</em></a><em class="le">。</em></p></div></div>    
</body>
</html>