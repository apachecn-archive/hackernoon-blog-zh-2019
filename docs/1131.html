<html>
<head>
<title>Zero Knowledge Proof Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">零知识证明示例</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/zero-knowledge-proof-example-fb2f110573be?source=collection_archive---------9-----------------------#2019-02-15">https://medium.com/hackernoon/zero-knowledge-proof-example-fb2f110573be?source=collection_archive---------9-----------------------#2019-02-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/78e85ef84e8b4e1f1f7f9bbd9385db77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44j64ja9ho6dEVx5dGV6ZA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Jigsaw Puzzle by Madfox</figcaption></figure><p id="36b9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">零知识证明正在成为区块链圈子里的新流行语。但是你怎么向你13岁的儿子解释呢？</p><p id="1d63" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">作为一个思想实验，我决定角色扮演我自己的零知识证明的例子，它只需要最少的数学知识。请记住，这不是一篇学术论文。</p><p id="ba3f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们开始吧:</p><p id="b8e5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">比方说，爱丽丝和鲍勃是拼图游戏的建造大师。他们想比赛看谁能更快地组装一个1000块的拼图，而谁也不知道拼图成品应该是什么样子。</p><p id="120e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">他们要求查理，一个他们在玩具店外偶然遇到的人，去买两套相同的拼图模型。在整套游戏中，他们让查理用0到999之间的唯一数字随机列举两个谜题的碎片。Charlie在不同的器械组中对同一枚棋子使用相同的编号(即，器械组#1中编号为255的棋子与器械组#2中编号为255的棋子相同，依此类推)。然后查理洗牌，把每个拼图的碎片扔进塑料袋，把一组1000个编号的碎片给爱丽丝，另一组给鲍勃。然后，查理回到商店，销毁所有剩余的拼图。</p><p id="7eee" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">此时，查理被解除了职责，双方都不再使用他的服务。</p><p id="3109" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">比赛开始了。</p><p id="3c34" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">爱丽丝是两个人中较快的一个，她首先完成了她的拼图。她现在想向Bob证明她有一套完整的拼图，但是因为她不相信Bob不会复制她的拼图并获得胜利，所以她想向Bob证明她的胜利，而不透露完整拼图的样子。</p><p id="0a16" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这些情况下，Alice是“证明者”, Bob是“验证者”,他们都执行下面的过程。</p><p id="b510" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">Bob从他尚未组装的拼图集中随机选择一块，并将该块的编号发送给Alice。然后，Alice从拼图的每一面拍摄这个与其他拼块相连的拼块(边缘拼块的一边不相连，角拼块的两边不相连)。她将照片发给Bob，让他相信，他选择的这个随机碎片确实是组装拼图的一部分。Bob将Alice照片中的作品与他自己的作品副本进行比较，并验证是否匹配。想想看，通过这样做，Bob没有学到任何他不能通过查看他的棋子推断出的关于拼图结构的东西，除了他现在知道这个棋子包括在Alice的拼图中。</p><p id="966b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果爱丽丝此时只完成了拼图的一半，她只有大约50%的机会正确地拍摄随机组合的图片。</p><p id="3be3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">他们现在一次又一次地重复这个过程，随着Alice发送的显示一个组合件的每一张组合件的照片，Bob更加确信Alice确实拥有一套完全组合的拼图。</p><p id="bb26" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果爱丽丝只完成了拼图的一半，她连续误导鲍勃128次的几率是1/2⁸，这显然是不可能的。即使她完成了更高比例的拼图，但不是全部，重复这个过程足够多次，最终会暴露她的虚张声势。</p><p id="7400" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">尽管如此，即使在尝试了128次之后，鲍勃还是不知道这个谜题的完整结构。</p><p id="dfd3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这个系统的美妙之处在于，即使拼图有一百万或十亿或两个⁵⁶块，也可以用同样的方法向鲍勃证明爱丽丝以同样的保证完成了拼图。</p><p id="51a4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这种方法被称为交互式零知识证明。Alice向Bob证明了一个陈述，而Bob <a class="ae ke" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">并未了解</a>关于这个陈述的任何信息。</p><p id="47d7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">但是，如果没有与鲍勃乏味的互动交流，爱丽丝能证明同样的情况吗？原来她可以！</p><p id="e92a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">假设从鲍勃那里收到的第一个数字是x，爱丽丝可以计算出x模1000，x模1000，…，x ⁸模1000，并向鲍勃发送128张照片。</p><p id="651e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">计算mod 1000非常简单，所有你需要做的是使用任何结果数字的最后三位数。</p><p id="d895" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">示例:</p><p id="bc5b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">0 mod 1000 = 0，1 mod 1000 = 1，2 mod 1000 = 2，…，999 mod 1000 = 999，1000 mod 1000 = 0，1001 mod 1000 = 1，…，2003 mod 1000 = 3，…，987654321 mod 1000 = 321</p><p id="33ac" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">加法是这样工作的:</p><p id="b944" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">(2 + 3) mod 1000 = 5</p><p id="681b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">(2 + 999) mod 1000 = 1001 mod 1000 = 1</p><p id="ba03" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">乘法和幂:</p><p id="afa2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">(7*11*13) mod 1000 = 1001 mod 1000 = 1</p><p id="92da" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">2⁰mod 1000 =(2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2)mod 1000 = 1024 mod 1000 = 24</p><p id="c7af" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">使用这种方法，假设鲍勃提供的随机数是<strong class="ji hv"> 255 </strong>，爱丽丝开始计算这个数的幂，她计算255 = 255*255 = 65025，然后她计算65025 mod 1000以接收<strong class="ji hv"> 25 </strong>作为第二个数。然后，她计算x，即255 * 255 * 255 = 25 * 255 = 6375，这一次，使用最后3位数字<strong class="ji hv"> 375 </strong>作为下一个数字。然后她计算375*255 = 95625得到<strong class="ji hv"> 625 </strong>等等。如果其中一个数字重复，她就加1，直到收到一个新的数字，如果有必要，就从999绕回0，然后继续乘以255。</p><p id="9c20" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">然后，她取出由此产生的128个唯一的数字，并通过一条消息将这些组合件的相应照片发送给鲍勃。Bob可以重复计算，并验证这128张照片确实对应于从他的初始随机数导出的片段，而Alice不可能事先知道这些片段。</p><p id="f8a9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">鲍勃现在毫无疑问地确信，爱丽丝只用一条给爱丽丝的信息和她的一个回答就完成了这个难题。尽管鲍勃不得不承认失败，但他仍然对这个谜题的完整结构一无所知。</p><p id="fd29" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">事实证明，类似的方法，尽管复杂得多，也可以在区块链世界使用，以提高隐私和优化性能。但是在另一篇文章中会有更多的介绍。</p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="kj kk l"/></div></figure></div></div>    
</body>
</html>