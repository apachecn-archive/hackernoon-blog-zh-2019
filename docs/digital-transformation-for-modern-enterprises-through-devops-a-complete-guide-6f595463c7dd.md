# 通过 DevOps 实现现代企业的数字化转型——完整指南

> 原文：<https://medium.com/hackernoon/digital-transformation-for-modern-enterprises-through-devops-a-complete-guide-6f595463c7dd>

现代企业成功之旅的五条戒律。

![](img/52a12891c9cb055b0a187a3fe967e5f3.png)

Credits: [Tom Fishburne](https://twitter.com/tomfishburne/status/1053984481231732736)

## 1.心态很重要:设定“文化第一”的方法

固定的思维模式——“人们总是这样做的。”
成长思维——“让我们想办法做得更好。”

![](img/459f2966d00da8934821143b06894e98.png)

John Willis at DOC19

今天需要坚实的工程文化。在不了解业务和/或平台环境的情况下提出工具对任何人都没有帮助。它不仅仅是快速移动和打破东西；自信地前进才是最重要的！这不是自动化的东西；它是关于整个组织的学习和知识共享。文化就是这样建立起来的。这是一项团队运动，因此需要 DevOps。

变化是唯一不变的，或者如查尔斯·达尔文所说，“幸存下来的不是最强的物种，而是适应性最强的”

在敏捷的旅程中，你有时可能会失败，但你需要记住亚里士多德说过的话，“*我们就是我们反复做的事情。因此，优秀不是一种行为，而是一种习惯。*”

![](img/dc19fa5fc8d848d23ec8706a4cd6a568.png)

Image by Scott Simmerman

> “不要自动化一个糟糕的流程，你最终会得到一个自动化的糟糕流程”——DOES 2018

你无法衡量一个糟糕的流程或文化。如果 DevOps 在枪伤上贴创可贴，你知道最终，你会从里面流血。开发运维/敏捷实际上是一种文化，所以组织的认同是至关重要的。

## 2.所有权和责任

在实际场景中，核心假设是如果编写代码的人同时也是代码的管理员，部署会更好。给予产品所有权会激励个人对自己的工作承担更大的责任。

在 Amazon，开发和部署过程非常成熟，每秒钟都会处理一个新的软件部署。

![](img/f856a1c48ffbe375d06ab28bc2c1468c.png)

Werner Vogels — Amazon

分担责任是优秀 DevOps 团队的核心原则。不推卸责任，不耍花招。我喜欢 Cloudant 联合创始人兼首席科学家麦克·米勒的这条建议。

![](img/b02a69935189c6b4eb2c7a75e0d65087.png)

Credit source: [Mike Miller](http://www-new.studiob.com/index.php/mike-miller/)

## 3.它从来都不是关于工具:先解决方案，后工具的方法

这与工具无关。这是一种心态。只有当你知道自己想要实现什么时，工具才会帮助你完成工作。

我们应该不断地问自己:为什么我们需要这样做，为什么我们要这样做？这不是“必须”使用的心态。尽管如此，当涉及到开发运维时，我们看到大多数人都在考虑“工具优先”的方法。

对于任何希望通过 DevOps 实现数字化转型的公司来说，打破孤岛并让事情清晰地运作非常重要。弥合开发人员和运营人员之间的差距是 DevOps 的精髓，其中考虑到了文化。

![](img/bd53f63735025613a3d1ac929cdad5f7.png)

Credits: Don’t remember, I saw this on Twitter

核心上，DevOps 应该始终致力于建立一个环境，在这个环境中，构建、测试和发布软件可以快速、频繁、更可靠地进行。这应该是一个团队的努力，而不应该分配给个人。

## 4.安全是重中之重

DevOps 确保价值和可用性，DevSecOps 确保安全、信任和信心。虽然许多公司正在转型成为 DevOps 公司，但安全性已经成为一个问题&已经成为优先考虑的问题。

![](img/a3386b21c4e3ef745e452585cdb016d1.png)

DevOps and Security should go hand in hand

随着近年来技术的不断进步，人们希望公司能够快速行动、快速交付，同时将安全性作为重中之重。DevSecOps 是新游戏。

## **集成 DevOps + Security = DevSecOps**

![](img/93b856caff955596b4728e4714c73f90.png)

DevOps and DevSecOps

从开发生命周期的一开始，安全性就应该是一个焦点。从源代码控制到管理您的依赖项、环境和二进制文件，再到打包它们和整个组织的流程。我个人不知道[工件库管理系统](https://jfrog.com/artifactory/)如此重要。似乎他们在软件开发过程中添加了所需的真正保护。

忽视安全性会带来巨大的代价，因为您的安全缺陷会直接影响您的业务、品牌和真实性。这就是 DevSecOps 变得如此重要的原因。如今，开发人员需要从客户的角度考虑问题，并从一开始就嵌入安全性。

![](img/b3d177e642e2eea99a44bb82b7b69979.png)

“安全性”是您的客户最倾向于考虑的因素之一，您需要确保他们处于良好、安全的状态。不要光说，要证明。这就是 DevSecOps 原则的用武之地，确定“安全性”是最重要的，并且从一开始就在软件开发周期的每个阶段嵌入安全性。我始终认为，任何组织要取得成功，工程、产品、营销和销售团队都应该团结一致，因此，你们都意识到并相互传递关键信息。这是一个互联的世界。确保你的安全比你的威胁更强大。

## 5.自动化是关键

多年来，组织一直在努力采用敏捷。这就是 DevOps 来救援的地方。

DevOps 之路的一种系统方法是零接触自动化的思维方式。是的。就像诺曼·文森特的名言，“向月亮射击”。即使你错过了，你也会在群星中着陆”。但是等等，这并不意味着您必须直接部署到生产环境中。只是如果你*想让*去做，你应该能做到。

您应该能够达到这样一个阶段，甚至一个操作人员只需按一个按钮就可以做到这一点，而不需要运行一堆服务器。

> CI/CD 管道是 DevOps 团队实现的最佳实践之一，用于更频繁、更可靠地交付代码变更。

CI 管道是一组构建和测试过程，产生产品的发布候选。CD 管道接收该候选版本，在测试环境中对其进行更严格的系统测试，如果这些测试通过(现在还包括 DevSecOps 测试，如自动笔测试),则将该候选版本部署到生产环境中。

**这里有一些很酷的 CI/CD 教程，你可以试试。**

1.  *连续交货有* [*Docker*](https://www.docker.com/) *，*[*Kubernetes*](https://kubernetes.io/)*，以及*[*GoCD*](https://www.gocd.org/)*:*

*2。CI/CD 管道使用* [*JFrog Artifactory，它也作为一个工件库*](https://jfrog.com/artifactory/) *:*

*3。CI:CD 为* [*节点。JS*](https://nodejs.org/en/) *和*[*KUBERNETES*](https://kubernetes.io/)*:*

*4。*[*open shift*](https://www.openshift.com/)*4 个 CI/CD 管道:*

*5。CI-CD 为*[*Azure Kubernetes*](https://azure.microsoft.com/en-in/services/kubernetes-service/)*服务 AK 使用*[*Azure devo PS*](https://azure.microsoft.com/en-in/services/devops/)*:*

这些天我对 Kubernetes 有一种特殊的依恋，我相信这样的工具彻底改变了软件开发生态系统。有了一个充满活力的社区和巨人的支持，这个工具的流行将在未来几年爆发。因此，我很乐意分享一些对软件驱动的组织有重大影响的案例研究。

最近，许多公司都在像' [Kubernetes](https://kubernetes.io/) '这样的工具的参与下进行了数字化转型，我们来谈谈一些例子和真实案例。

# 著名的 Kubernetes 数字化转型案例研究

## Tinder 搬到 Kubernetes

![](img/f6551caeb54faf981676ebfb1d4aabc8.png)

Credits: Tinder

由于高流量，Tinder 的工程团队面临着规模和稳定性的挑战。他们做了什么？

是的，答案是 [Kubernetes](https://kubernetes.io/) 。

Tinder 的工程团队解决了迁移 200 个服务和运行 Kubernetes 集群的有趣挑战，该集群的规模总计 1，000 个节点、15，000 个 pod 和 48，000 个运行容器。

容易吗？不会吧。但他们不得不这样做，以使未来的业务运营更加顺畅。他们的一位工程负责人说:“随着我们在 Kubernetes 上搭载越来越多的服务，我们发现自己运行的 DNS 服务每秒钟可以响应 250，000 个请求。”奇妙的文化，Tinder 的整个工程组织现在有了关于如何在 Kubernetes 上封装和部署他们的应用程序的知识和经验。

阅读下面这个有趣的案例研究，

[](/@tinder.engineering/tinders-move-to-kubernetes-cda2a6372f44) [## Tinder 搬到 Kubernetes

### 作者:Chris O'Brien，工程经理|Chris Thomas，工程经理| Jinyong Lee，高级软件…

medium.com](/@tinder.engineering/tinders-move-to-kubernetes-cda2a6372f44) 

## Reddit 的 Kubernetes 故事:

![](img/d10ddf9501ffda66426df00e8b86f01f.png)

Credits: Reddit

Reddit 是世界上最繁忙的网站之一。Kubernetes 构成了 Reddit 内部基础设施的核心。

多年来，Reddit 基础设施团队一直遵循传统的供应和配置方式。然而，这并没有持续很长时间，直到他们看到在用老方法做事时出现了一些巨大的缺点和失败。他们搬到了“Kubernetes”

请看这个[惊人的视频](https://www.youtube.com/watch?v=z7TIzCAEo0M)，其中他们的基础设施发布工程经理在 Reddit 上描述了 Kubernetes 的故事。

## 纽约时报的库伯内特之旅

![](img/aa44769b1ddb6ef612b0e1b921aa8b60.png)

Credits: The New York Times

如今，他们大多数面向客户的应用程序都运行在 Kubernetes 上。多么惊人的故事！最大的影响是加快了部署和生产效率。耗时长达 45 分钟的传统部署现在只需几分钟即可完成。这也给了开发者更多的自由和更少的瓶颈。《纽约时报》已经从请求资源和每周部署时间表的基于票证的系统转变为允许开发人员独立推送更新。

查看《纽约时报》技术堆栈的演变和迷人的故事

[](https://stackshare.io/posts/evolution-of-new-york-times-tech-stack) [## 《纽约时报》技术栈的演变| StackShare

### 这是 Stack Stories 的第四集，由。由 StackShare 创始人兼首席执行官 Yonas 主持，主要介绍…

stackshare.io](https://stackshare.io/posts/evolution-of-new-york-times-tech-stack) 

## Airbnb 的 Kubernetes 故事

![](img/b309bdd042d552678707dd040ad02428.png)

Credits: Slides by Melanie Cebula at QCon London 2019

Airbnb 从整体架构到微服务架构的转变相当惊人。他们需要横向扩展连续交付，目标是让公司的 1000 名左右的工程师可以使用连续交付，以便他们可以添加新的服务。Airbnb 支持 1000 多名工程师同时为 Kubernetes 配置和部署 250 多项关键服务(平均每天约 500 次部署)。我想让你看看 Airbnb 的基础设施工程师 Melanie Cebula 的精彩演示。

[](https://www.infoq.com/presentations/airbnb-kubernetes-services) [## 利用 Airbnb 大规模开发数百项 Kubernetes 服务

### Melanie Cebula 指出了使开箱即用的 Kubernetes 对开发人员不太友好的关键问题，并提出了策略…

www.infoq.com](https://www.infoq.com/presentations/airbnb-kubernetes-services) 

## Pinterest 的 Kubernetes 故事

![](img/2598c578a3f4b7cb2e2333afb5e3dc7e.png)

Image credits: Pinterest

每月活跃用户超过 2.5 亿，每天提供超过 100 亿条推荐，这是一个巨大的数字。(这些数字现在可能已经改变了)因为他们知道这些数字将会每天增长，他们开始意识到可伸缩性和性能问题的痛苦。

他们最初的策略是将工作负载从 EC2 实例转移到 Docker 容器；因此，他们首先将服务转移到 Docker，以节省花在 Puppet 上的工程时间，并拥有一个不可变的基础设施。

然后下一个策略是搬到 Kubernetes。现在，他们可以在几分钟内将想法从构思变成产品，而以前，他们需要几个小时甚至几天。他们通过利用 Kubernetes 削减了大量的管理费用，并消除了大量的手工工作，而无需让工程师担心底层的基础设施。

在 Kubernetes 网站上阅读他们令人印象深刻的故事' [Pinterest 案例研究](https://kubernetes.io/case-studies/pinterest/)

## 口袋妖怪 Go 的 Kubernetes 故事

![](img/2dfa9010652cc9a64b0a45d3d57e3a6f.png)

Image credits: [iThome](https://www.ithome.com.tw/news/108719)

《口袋妖怪 Go》是如何如此高效地扩大规模并取得如此成功的？答案是 Kubernetes。Pokemon Go 由 Niantic Inc .开发并发布，拥有 5 亿+的下载量和 2000 万+的日活跃用户。

Pokemon Go 工程师从未想过他们的用户群会在短时间内以指数级增长，超出预期，他们还没有做好准备，甚至服务器也无法处理这么多的流量。

***挑战***

一方面是水平扩展，但 Pokemon Go 在垂直扩展方面也面临着严峻的挑战，因为全球数百万用户的实时活动。Niantic 对此没有准备。

***解***

容器的魔力。游戏的应用程序逻辑运行在由开源 Kubernetes 项目支持的谷歌容器引擎(GKE)上。Niantic 选择 GKE 是因为它有能力在全球范围内协调容器集群，使其团队能够专注于为玩家部署实时变化。通过这种方式，Niantic 使用谷歌云将 Pokémon GO 变成了一项面向数百万玩家的服务，不断适应和改进。这让他们有更多的时间专注于构建游戏的应用逻辑和新功能，而不是担心缩放部分。

令人印象深刻，不是吗？阅读在[谷歌云](https://cloud.google.com/blog/products/gcp/bringing-pokemon-go-to-life-on-google-cloud)上分享的完整案例研究。

# 说到微服务，我有一个著名的网飞例子

![](img/da766be22a1a49f00a143e0b54e97a80.png)

Amazon Web Services/YouTube

你知道网飞是如何完美地工作的吗？数百个微服务，一个巨型服务——网飞。

网飞所经历的是一场现代技术革命，也是一个如何适当扩大规模的例子。只需点击播放按钮，观看您最喜欢的节目，如此简单，对不对？没有。

有很多工作在幕后进行，以确保最终用户满意。网飞就是这样一家公司，它很早就理解了微服务的重要性。它将其单片架构改为微服务架构，不同的微服务通过 API 相互通信。一个微服务存储你看过的所有节目，一个从你的信用卡中扣除月费，一个为你的设备提供它可以播放的正确视频文件，一个查看你的观看历史并使用算法猜测你会喜欢的电影列表，等等。

这种方法改变了网飞的业务，并使他们成为世界上值得信赖的品牌。还是那句话，为什么选择微服务？微服务架构易于开发、测试、部署和扩展。

阅读更多关于[网飞如何使用微服务架构](/refraction-tech-everything/how-netflix-works-the-hugely-simplified-complex-stuff-that-happens-every-time-you-hit-play-3a40c9be254b)的信息。

# 安索斯

![](img/25b34b97c982b93b5e789d69f5d8d28f.png)

虽然在[云下一次会议](https://cloud.withgoogle.com/next/sf/)上发布了 100 多个公告，但 Anthos 脱颖而出。谷歌首席执行官桑德尔·皮帅宣布 Anthos it 背后的理念是“编写一次，在任何地方运行”

我知道，理解一切可能会令人困惑。但是，如果你想了解更多，我有一个建议——[贾纳基拉姆·MSV](https://twitter.com/janakiramm)最近在福布斯上分享了一篇令人惊叹的文章，[你想知道的关于 Anthos 的一切——谷歌的混合和多云平台](https://www.forbes.com/sites/janakirammsv/2019/04/14/everything-you-want-to-know-about-anthos-googles-hybrid-and-multi-cloud-platform/#356bd3ec5b66)

# 下一步是什么

现在许多公司都是软件公司，而且每个公司都可能很快成为 DevOps 公司。物联网与技术进步有很大关系&在软件开发领域。

[](https://jfrog.com/blog/how-devops-empowers-maslows-hierarchy-of-needs-2-0/) [## 马斯洛 2.0: DevOps 将主宰世界上所有的软件

### 我们都熟悉马斯洛的需求层次理论。我们最基本的人类需求，像食物和水，都在…

jfrog.com](https://jfrog.com/blog/how-devops-empowers-maslows-hierarchy-of-needs-2-0/) 

物联网和 DevOps 是如此奇妙的组合。如果物联网产品和流程必须成功，它们需要开发运维。我看了一段视频，视频中谷歌首席执行官桑德尔·皮帅谈到了物联网设备及其进步。看到传统手表如何通过增加计算能力、连接性和一层智能来改造成物联网设备，我印象深刻。这就是最终用户想要的，技术的升级版本和增强的体验。

为了让物联网事物始终保持连接并相互通信，你需要让你的软件尽可能地流畅。这就是 DevOps 发挥重要作用的地方，开发和部署正在从固定的版本化版本转向经验证的软件组件流。液化软件开发过程在更快、更频繁、更低成本的发布中产生巨大的利益。(我喜欢 [JFrog 的液态软件愿景](https://jfrog.com/whitepaper/a-vision-of-liquid-software/))

***IoT 和 DevOps 的范围是什么？***

预计到 2020 年，全球物联网设备的安装数量将增长至近 310 亿台。这个数字足以看到 DevOps 和 IoT 的巨大潜力。

![](img/30dc8c214887078dd3e11965efcb088b.png)

Image credits: Statista

谈到实现数字化转型的工具，今天的工具将被即将到来的更现代的解决方案所取代，我们已经看到这种情况在过去几年中发生了。

顺便说一句，你看了我最近写的关于 DevOps 趋势的文章吗？如果没有，下面是链接，

[](https://hackernoon.com/8-devops-trends-to-be-aware-of-in-2019-b4232ac8f351) [## 2019 年需要注意的 8 个开发运维趋势

### 从微服务到 ML 到 AI 到…

hackernoon.com](https://hackernoon.com/8-devops-trends-to-be-aware-of-in-2019-b4232ac8f351) 

这是我们对快速变化的技术趋势的快速反应，这产生了兴奋和推动品牌价值，DevOps 通过以更有组织的方式更快地向市场提供趋势性的东西(功能)，帮助增长黑客您的品牌价值指数。

你有什么想让我知道的吗？下面我们连线上 [**推特**](https://twitter.com/Pavan_Belagatti) **。**