<html>
<head>
<title>Hosting a Free Static Website on Google Cloud Storage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在谷歌云存储上托管一个免费的静态网站</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/hosting-a-free-static-website-on-google-cloud-storage-d0d83704173b#2019-01-13">https://medium.com/hackernoon/hosting-a-free-static-website-on-google-cloud-storage-d0d83704173b#2019-01-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/17744cfb73b7ae5fb5bf03d46e65b17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W8MU64X2qfYMbEUbl3fJ7A.jpeg"/></div></div></figure><p id="f26c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本指南将引导您使用 Google 云平台服务，通过自定义域名设置一个免费的桶来服务一个静态网站。</p><p id="1352" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">登录谷歌云平台，导航到<a class="ae ka" href="https://console.cloud.google.com/net-services/dns/zones" rel="noopener ugc nofollow" target="_blank">云 DNS </a>服务，创建一个新的公共 DNS 区域:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/3fbcd197fbb173b85a5f841aae4cfbe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GAxhggBgSjIC82kpVpuFZw.png"/></div></div></figure><p id="1667" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">默认情况下，它将有一个<strong class="je hv"> NS </strong>(名称服务器)<strong class="je hv"> </strong>和一个<strong class="je hv"> SOA </strong>(授权开始)记录:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kg"><img src="../Images/68b26eb288706d86f25e97ef9973d4af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-E4rtq_YwlyjUi9ZtPkxA.png"/></div></div></figure><p id="847b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">去你的域名注册商，在我的情况下我从<a class="ae ka" href="https://dcc.godaddy.com/manage/" rel="noopener ugc nofollow" target="_blank"> GoDaddy </a>购买了一个域名(超级便宜)。添加您的<strong class="je hv"> NS </strong>记录中列出的名称服务器名称:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/565a70097fa2efe6dd5fd0b38bfc7c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*79_y4podYSyv1bPAPgp0ng.png"/></div></div></figure><blockquote class="kh"><p id="2ed5" class="ki kj hu bd kk kl km kn ko kp kq jz ek translated"><em class="kr">PS:go daddy 上的更改传播到 Google Cloud DNS 可能需要一些时间。</em></p></blockquote><p id="b0f6" class="pw-post-body-paragraph jc jd hu je b jf ks jh ji jj kt jl jm jn ku jp jq jr kv jt ju jv kw jx jy jz hn dt translated">接下来，使用<a class="ae ka" href="https://www.google.com/webmasters/verification/home" rel="noopener ugc nofollow" target="_blank">打开搜索控制台</a>验证您拥有该域名。有许多方法可用(HTML 元数据、Google 分析等)。最简单的方法是通过 TXT 记录进行 DNS 验证:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/aef3bb92abf0aee63af7de0dc432d5fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9otGJmglhipPeatj-T-ihA.png"/></div></div></figure><p id="122e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">将 TXT 记录添加到之前创建的 DNS 区域:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kx"><img src="../Images/b3b935f0772effd98712711a3ba12493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urR2QNr88UvMC2Bqv4Dtcw.png"/></div></div></figure><p id="ecc1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">DNS 更改可能需要一些时间来传播:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/56f95bc3e64764a74d0ef612c98f31b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*djinuWdkFhu77PiY-DifGA.png"/></div></div></figure><p id="98c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦您验证了域，您就可以在验证的域名下使用<a class="ae ka" href="https://console.cloud.google.com/storage/browser" rel="noopener ugc nofollow" target="_blank">云存储</a>创建一个 bucket。存储类别应为“<strong class="je hv">多区域</strong>”(地理冗余存储桶，以防断电) :</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/b438d038cd68b9b04ab0891fcf6b8c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KDYvQ0xODjAeFUeH9GAe_Q.png"/></div></div></figure><p id="65ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用以下命令将网站静态文件复制到桶中:</p><blockquote class="ky kz la"><p id="b362" class="jc jd lb je b jf jg jh ji jj jk jl jm lc jo jp jq ld js jt ju le jw jx jy jz hn dt translated"><em class="hu">gsutil rsync-R . GS://www . server less movies . com/</em></p></blockquote><p id="96c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">上传完成后，您的静态文件应该在 bucket 上可用，如下所示:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lf"><img src="../Images/5d39104b957d2c5f4b9a11d4deac5ea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5LKKb8GWmNHkb0aHlDrodQ.png"/></div></div></figure><p id="7672" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，通过将具有<em class="lb">对象查看器</em>角色的<em class="lb"> allUsers </em>实体添加到 bucket permissions，使文件可以公开访问:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/8e8483f265fb253ae7e7e1522be735ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vFL1rdOuj0QqoZOwFoulQ.png"/></div></div></figure><p id="c466" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">公开共享后，在<em class="lb">公共访问</em>列中会出现每个对象的链接图标。您可以单击此图标获取该对象的 URL:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lg"><img src="../Images/df719d0e9fa6a7a7ac1facd47d1385f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQctJg5hnCEcTIetb-77LA.png"/></div></div></figure><p id="5787" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过请求浏览器中的<em class="lb">index.html</em>链接，验证内容是否从存储桶提供:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/04691e5cc4ad41c9274e024086e83271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lN-YH-YQG0tEkJVMiVtZCA.png"/></div></div></figure><p id="659a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，从<strong class="je hv">编辑网站配置</strong>部分<strong class="je hv"> : </strong>设置主页面为<em class="lb">index.html</em></p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lh"><img src="../Images/a2db3393b203ab031ebd3d1f2984e645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFf5vDEzl7JAFLWBNATU4w.png"/></div></div></figure><p id="be1b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我们需要将我们的域名映射到我们之前创建的 bucket。创建一个指向<em class="lb">c . storage . Google APIs . com:</em>的<strong class="je hv"> CNAME </strong>记录</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kg"><img src="../Images/0e5f99d940a0211832466a9bac2fcad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XW7vl8kH9umCWBkX0BdMOw.png"/></div></div></figure><p id="8a05" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">将您的浏览器指向您的域名，您的网站将得到服务:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/45fe07f3cf8c796683e368081c89684a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S1B9AZRz4wBzHP1xon9Ixw.png"/></div></div></figure><p id="5c92" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然我们的解决方案非常有效，但我们只能通过 HTTP 访问我们的内容(谷歌云存储只有在通过<em class="lb"> CNAME </em>记录使用它时才支持 HTTP)。在下一篇文章中，我们将使用<strong class="je hv">内容交付网络</strong> (CDN)，通过 SSL 上的自定义域提供我们的内容。</p><p id="bcce" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请在下面留下您的评论、反馈或建议，或者直接在 Twitter 上与我联系<a class="ae ka" href="https://twitter.com/mlabouardy" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> @ </strong> mlabouardy </a>。</p></div></div>    
</body>
</html>