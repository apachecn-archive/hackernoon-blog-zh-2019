<html>
<head>
<title>20 Hours, $18, and 11 Million Passwords Cracked</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">20小时，1800万美元和1100万美元的密码被破解</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/20-hours-18-and-11-million-passwords-cracked-c4513f61fdb1?source=collection_archive---------0-----------------------#2019-06-25">https://medium.com/hackernoon/20-hours-18-and-11-million-passwords-cracked-c4513f61fdb1?source=collection_archive---------0-----------------------#2019-06-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><h2 id="d407" class="hs ht hu bd b gc hv hw hx hy hz ia ek ib translated" aria-label="kicker paragraph">轻松破解密码</h2><div class=""/><figure class="fi fk jb jc jd je fe ff paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="fe ff ja"><img src="../Images/b7f89703d9ccc998f27b4dac3c9de476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NCTCiMU_5o6EgFKUp90wUA.jpeg"/></div></div></figure><p id="ebef" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">多年来，我一直对密码提供的安全性以及攻击密码保护账户的方法感兴趣。所以我想看看普通的开发者在没有专业知识的情况下如何成功破解数百万个密码。</p><p id="3fa9" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">道德黑客攻击:本实验中使用的真实世界的密码被黑客攻击并在网上泄露，黑客不是我本人。这些密码现在可以在网上免费获得。像这样对泄露的密码进行虚拟攻击，使我们能够教育个人他们的密码所提供的保护，因此可以帮助他们免受真正的攻击。在开展工作之前，我从泄露的文件中剔除了所有个人身份信息。** </p><p id="99d9" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">人们使用密码来保护网上的几乎所有东西:从电子邮件到银行账户，再到加密交易账户。虽然许多网站现在提供双因素身份验证(“2FA”)的使用，但这通常没有公开或强制执行，大量网站仍然根本不提供2FA。因此，提供的安全密码对于保护人们的身份和金钱至关重要。</p><p id="62c9" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">自然，密码背后存储的价值激发了许多针对密码的攻击。你可以阅读大量关于复杂密码破解算法的研究论文，这些算法使用复杂的概率和机器学习技术，可以破解超过90%的密码。</p><p id="ebd2" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">虽然这些算法有多好令人害怕，但它们感觉不像是对普通人群的非常现实的威胁——有多少人真正知道如何进行这些攻击？他们为什么要针对我？！因此，我决定研究一种更加现实的攻击:攻击者知道如何创建AWS实例(或其他云实例)，并可以在其上运行一些开源软件。</p><p id="5e11" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">如果你已经知道密码散列法，请跳过“<em class="kj">背景简介:存储密码”</em>。如果你知道针对哈希的离线攻击，请跳过<em class="kj">‘背景简介二:攻击哈希’</em>。</p><h2 id="c115" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">简要背景:存储密码</h2><p id="df21" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">当登录到受密码保护的应用程序时，<em class="kj">出现</em>的事件顺序如下:</p><ol class=""><li id="c378" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki lo lp lq lr dt translated">用户输入密码(密码将被发送以供批准)</li><li id="0a25" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">将输入的密码与记录的密码进行比较</li><li id="738f" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">如果匹配，则授予访问权限</li></ol><p id="83c8" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">然而，像这样传输和存储密码是非常不安全的。为了增加安全性，许多系统(尽管遗憾的是不是所有系统)实际上将用户密码的'<em class="kj">散列'</em>'存储在数据库中，而不是密码本身。你可以把散列想象成密码不可逆的混乱；如果攻击者发现了密码的散列，他们就不能逆转发现密码本身的过程。</p><p id="a03a" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">当用户在这样的系统中输入密码时，事件的实际顺序如下:</p><ol class=""><li id="a3c0" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki lo lp lq lr dt translated">用户输入密码</li><li id="88a4" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated"><em class="kj">哈希(密码)</em>在本地计算并传输哈希</li><li id="ff81" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">将该散列与记录的散列进行比较</li><li id="0d96" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">如果匹配，则授予访问权限</li></ol><h2 id="7cfa" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">简要背景II:强力散列</h2><p id="9f22" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">在使用散列的系统中，如果攻击者设法得到了密码数据库，他们仍然看不到用户的密码。针对此类系统的攻击无法通过反转散列来找到相应的密码，因此会如下进行:</p><ol class=""><li id="2c1e" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki lo lp lq lr dt translated">猜密码</li><li id="bd3e" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">计算这个猜测的散列值</li><li id="7af3" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">将它与真正的哈希进行比较</li><li id="a07c" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki lo lp lq lr dt translated">重复步骤1–3，直到找到匹配项</li></ol><p id="244a" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">这听起来相当耗时，但是对于一台可以并行猜测数千个密码的机器，你可以想象事情开始加速。</p><h1 id="fdd5" class="lx kl hu bd km ly lz ma kq mb mc md ku me mf mg kx mh mi mj la mk ml mm ld mn dt translated">袭击</h1><h2 id="b80b" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">软件</h2><p id="f575" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">我用的软件叫Hashcat，是一个高级的密码恢复工具，被誉为<em class="kj">“世界上最快的密码破解者”</em>。Hashcat是<a class="ae mo" href="https://github.com/hashcat/hashcat" rel="noopener ugc nofollow" target="_blank">开源的</a>，可以从他们的<a class="ae mo" href="https://hashcat.net/hashcat/" rel="noopener ugc nofollow" target="_blank">网站</a>下载源代码和二进制文件，并且有一个广泛的<a class="ae mo" href="https://hashcat.net/wiki/" rel="noopener ugc nofollow" target="_blank"> wiki指南</a>到这个工具。可以肯定地说，你不必成为使用它的专家。</p><h2 id="2ed0" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">五金器具</h2><p id="184d" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">我在Nvidia Tesla K80上运行Hashcat，这是一款具有4992个核心的GPU，你可以在AWS上以每小时0.90美元的价格租用(P2.xlarge)。我从查看K80的哈希功能开始，只是为了看看它与标准的内置笔记本电脑GPU相比如何。</p><figure class="mq mr ms mt fq je fe ff paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="fe ff mp"><img src="../Images/ead3d0c5360a7e815be0d1ba1a5d28d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PDMsq6rSKlTeq8dEGhWELw.png"/></div></div></figure><p id="801c" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">K80的速度是普通英特尔显卡的16倍。K80每秒可以计算大约8亿次SHA-256散列……也就是说每小时将近3万亿次。</p><h2 id="369f" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">密码</h2><p id="0ef4" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">如前所述，我运行攻击的密码是被一个攻击者在网上泄露的。在这次攻击中，有超过1400万个密码被泄露，所有这些密码都是由真实世界的用户创建的。我不会提供密码的链接——没有必要不必要地分享它们——但是我很容易通过谷歌搜索找到它们。</p><h2 id="b9ab" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">我攻击的逻辑</h2><p id="9a72" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">虽然Hashcat允许您执行简单的暴力攻击(尝试指定长度的每一个可能的密码)，但是它们也有用于稍微复杂一些的攻击的命令。众所周知，大多数人的密码都是基于一个单词，形式多样:</p><ul class=""><li id="6be6" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki mu lp lq lr dt translated">只是一个词(可能有不同的大写)——<strong class="jn ie">密码</strong></li><li id="be06" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">一个单词后面跟着一些数字/符号——<strong class="jn ie">猴子！</strong>或<strong class="jn ie">咖啡12 </strong></li><li id="f1a6" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">应用了'<em class="kj"> leet speak' </em>的单词— <strong class="jn ie"> p4ssw0rd </strong>或<strong class="jn ie"> f4c3b00k </strong></li><li id="42a3" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">多个单词粘在一起— <strong class="jn ie">是不安全的</strong></li></ul><p id="e5de" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">真是太巧了…如果你能在一个文件中提供一个单词列表，Hashcat内置了不同的模式，可以猜测:</p><ul class=""><li id="d37d" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki mu lp lq lr dt translated">每一个字</li><li id="1ab8" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">附加了每个可能的数字/符号的每个单词</li><li id="b5b7" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">应用了指定规则的每个单词(即“用0替换每个0”)</li><li id="ce0e" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">每个单词组合粘在一起</li></ul><p id="6f75" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">所以我下载了一个包含数百万英语单词的字典文件，用于我的攻击。</p><p id="d3bb" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">从那里你可以得到一点更通用的东西，指定Hashcat应该尝试的“掩码”。这意味着，你可以尝试“6个小写字母后跟2个数字”的所有密码，而不是告诉Hashcat尝试“所有长度为8的密码”——这是7万亿种不同的组合。</p><h2 id="84eb" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">那么这次攻击效果如何呢？</h2><p id="024e" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">老实说，这比我想象的要成功得多。实际上非常成功…</p><figure class="mq mr ms mt fq je fe ff paragraph-image"><div role="button" tabindex="0" class="jf jg di jh bf ji"><div class="fe ff mv"><img src="../Images/63d12c1c7399e02ebe70fead912b21a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94pik-Zulu0MECF2cT0w9g.png"/></div></div></figure><ul class=""><li id="a58b" class="lj lk hu jn b jo jp js jt jw ll ka lm ke ln ki mu lp lq lr dt translated">2小时:48%的密码被破解</li><li id="9b0b" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">8小时:将近70%被破解</li><li id="fba3" class="lj lk hu jn b jo ls js lt jw lu ka lv ke lw ki mu lp lq lr dt translated">20小时:超过80%已经被破解</li></ul><h2 id="f851" class="kk kl hu bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld ia dt translated">行动呼吁</h2><p id="88b4" class="pw-post-body-paragraph jl jm hu jn b jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki hn dt translated">我来总结一下。</p><blockquote class="mw"><p id="f0dd" class="mx my hu bd mz na nb nc nd ne nf ki ek translated">20个小时。每小时0.90美元。那只是18美元。1400万个密码中有80%被破解。</p></blockquote><p id="bb3c" class="pw-post-body-paragraph jl jm hu jn b jo ng jq jr js nh ju jv jw ni jy jz ka nj kc kd ke nk kg kh ki hn dt translated">让它深入人心。</p><p id="1604" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">太吓人了。真的很吓人。人们<em class="kj">需要</em>来使他们的密码更加安全。用“0”替换“o”，用“3”替换“e”<em class="kj">不会使您的密码安全。在单词末尾添加数字和符号也不行。太容易预测了。</em></p><p id="ddd9" class="pw-post-body-paragraph jl jm hu jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">我不是安全专家——我不能给你一些规则，让你可以遵循，使密码不可破解。正是人们遵循可预测的规则才使得这些密码如此容易被破解。不可预测。或者更好的是，使用像<a class="ae mo" href="https://www.lastpass.com/" rel="noopener ugc nofollow" target="_blank"> LastPass </a>或<a class="ae mo" href="https://1password.com/" rel="noopener ugc nofollow" target="_blank"> 1Password </a>这样的密码管理器，让你变得不可预知。</p></div></div>    
</body>
</html>