<html>
<head>
<title>Publishing a JavaScript Library Online: The Definitive Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在线发布 JavaScript 库:权威指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/publishing-a-javascript-library-online-the-definitive-guide-142547baa70d#2019-02-05">https://medium.com/hackernoon/publishing-a-javascript-library-online-the-definitive-guide-142547baa70d#2019-02-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/65c70b70d4f7e6073948f78806c0b421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LmWG7D4YC6l2FSRvhBpE4A.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Background by Unsplash</figcaption></figure><p id="c9db" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这是我之前<a class="ae ke" href="https://hackernoon.com/converting-your-js-boiler-plate-into-npm-modules-the-definitive-guide-3dfa0f9f0a9c" rel="noopener ugc nofollow" target="_blank">指南</a>的延续。参考它以了解如何向 npm 发布代码</p><p id="1ad8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">本文主要关注发布在<strong class="ji hv">浏览器</strong>中使用的代码。</p><p id="b71f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">本指南将分为两个部分:</p><ol class=""><li id="3106" class="kf kg hu ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated">发布浏览器-本机代码🌐</li><li id="0393" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">转换在浏览器中使用的 npm 模块🔃</li></ol><p id="c4f3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">对于这两种情况，我们最终都会将代码部署到<strong class="ji hv"> npm </strong>来利用免费 CDN <a class="ae ke" href="http://unpkg.com" rel="noopener ugc nofollow" target="_blank"> unpkg </a>的力量</p></div><div class="ab cl kt ku hc kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hn ho hp hq hr"><h2 id="b065" class="la lb hu bd lc ld le lf lg lh li lj lk jr ll lm ln jv lo lp lq jz lr ls lt lu dt translated">1.发布浏览器-本机代码🌐</h2><p id="0c27" class="pw-post-body-paragraph jg jh hu ji b jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd hn dt translated">这个容易些。由于代码已经是浏览器可用的格式，所以只需要通过<code class="eh ma mb mc md b">&lt;script&gt;</code>标签将它包含在 HTML 代码中。</p><p id="cab4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这将使它的变量和函数自动对浏览器可用。</p><p id="fe04" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">要将其发布到 CDN:</p><ol class=""><li id="0536" class="kf kg hu ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated">使用<code class="eh ma mb mc md b">npm init -y</code>为存储库初始化一个<code class="eh ma mb mc md b">package.json</code>。</li><li id="8aca" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">通过此处给出的步骤将其发布到 NPM:<a class="ae ke" href="https://hackernoon.com/converting-your-js-boiler-plate-into-npm-modules-the-definitive-guide-3dfa0f9f0a9c" rel="noopener ugc nofollow" target="_blank">发布步骤</a></li><li id="8667" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">发布到<code class="eh ma mb mc md b">npm</code>时，根据您提供的库名导航到<code class="eh ma mb mc md b">unpkg.com/repository-name</code>。这是从 npm 自动生成的 CDN。</li><li id="f2b4" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">如果您获得了想要的文件，您可以通过<code class="eh ma mb mc md b">&lt;script&gt;</code>标签在浏览器中使用它。如果您获得了一个文件目录结构，只需导航到所需的文件，并通过<code class="eh ma mb mc md b">&lt;script&gt;</code>标签将其包含在您的前端。</li><li id="1404" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">通过名字直接访问你的变量和函数</li></ol></div><div class="ab cl kt ku hc kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hn ho hp hq hr"><h2 id="a281" class="la lb hu bd lc ld le lf lg lh li lj lk jr ll lm ln jv lo lp lq jz lr ls lt lu dt translated">2.转换在浏览器中使用的 npm 模块🔃</h2><p id="137b" class="pw-post-body-paragraph jg jh hu ji b jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz lz kb kc kd hn dt translated"><strong class="ji hv">browser fiy</strong>将你的 js 文件的所有依赖项捆绑到一个文件中，并将一个<strong class="ji hv">变量</strong>导出到<code class="eh ma mb mc md b">window</code>以便在浏览器中使用。</p><ol class=""><li id="9563" class="kf kg hu ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated">安装浏览器<code class="eh ma mb mc md b">npm add browserify -g</code>。</li><li id="ca8a" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">要生成浏览器可用的文件，请执行以下操作</li></ol><p id="7025" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh ma mb mc md b">browserify ./main.js -o ./bundle.js -s variableName</code></p><p id="3cdf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这里，<code class="eh ma mb mc md b">main.js</code>是您想在浏览器中使用的文件，</p><p id="1bb0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh ma mb mc md b">-o</code>标志用来定义输出文件的位置，并且</p><p id="5221" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh ma mb mc md b">-s</code>标志用于定义导出到浏览器的变量名</p><ol class=""><li id="bda1" class="kf kg hu ji b jj jk jn jo jr kh jv ki jz kj kd kk kl km kn dt translated">发布到 npm，包括捆绑的 JS 文件。导航至<code class="eh ma mb mc md b">unpkg.com/repository-name</code>以访问为您的回购生成的 CDN。</li><li id="0ddc" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">如果你得到了你想要的文件，你可以通过<code class="eh ma mb mc md b">&lt;script&gt;</code>标签在浏览器中使用它。如果您获得了一个文件目录结构，只需导航到想要的文件，并通过<code class="eh ma mb mc md b">&lt;script&gt;</code>标签将它包含在您的前端。</li><li id="bd55" class="kf kg hu ji b jj ko jn kp jr kq jv kr jz ks kd kk kl km kn dt translated">通过您导出的变量名访问您的代码。</li></ol></div><div class="ab cl kt ku hc kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hn ho hp hq hr"><p id="b6b0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">就这样，你成功发布了你的 JS 库🎉！</p><p id="0b95" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">拍拍自己的背，这是你应得的😁！</p><p id="cc08" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">取得联系！！</p><p id="cbba" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae ke" href="https://www.github.com/akash-joshi" rel="noopener ugc nofollow" target="_blank">Github</a>T4】LinkedInT6】Twitter</p></div></div>    
</body>
</html>