<html>
<head>
<title>Using HTML components with webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 webpack 中使用 HTML 组件</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-html-components-with-webpack-f383797a5ca#2019-04-24">https://medium.com/hackernoon/using-html-components-with-webpack-f383797a5ca#2019-04-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3ed8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">用 JavaScript 替换 PHP</p><p id="322f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PHP 的一个强大特性是它的<code class="eh jp jq jr js b">&lt;?include?&gt;</code>特性，它允许你将 HTML 文件导入到服务器本身的 DOM 中。然而，对于许多人来说，使用 PHP 并不是一个可行的解决方案——尤其是前端开发人员。GitHub Pages 不支持 PHP 这样的服务器端语言；因此，我们必须找到一个更好的解决方案。</p><p id="1441" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们希望在客户端使用 JavaScript 来在单页面应用程序中使用 HTML 模块。webpack 通过提供<code class="eh jp jq jr js b">html-loader</code>来拯救我们。HTML 加载器允许我们将 HTML 代码注入 JavaScript，然后 JavaScript 可以将 HTML 组件动态注入主 DOM。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff jt"><img src="../Images/d20d910b08cbf73fdd3a417fead1441b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-v9pKj_9UAJS5ftV"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Photo by <a class="ae kj" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Max Nelson</a> on <a class="ae kj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="32e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我把这些 HTML 模块称为“静态组件”。它们没有内在状态，也不像 React 组件那样包含任何 JavaScript 代码。这使得它们和普通的 HTML+普通 JS 一样快，并且增加了模块化的便利。</p><h1 id="5275" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">安装 HTML 加载程序</h1><p id="b2ad" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">假设您安装了 webpack，</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="0505" class="lr kl hu js b fv ls lt l lu lv">npm install --save-dev html-loader<br/># or<br/>yarn add -D html-loader</span></pre><p id="9ded" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在您必须将它添加到您的配置文件中:</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="9ec2" class="lr kl hu js b fv ls lt l lu lv">// webpack.config.js</span><span id="f30a" class="lr kl hu js b fv lw lt l lu lv">module.exports = {<br/>  module: {<br/>    rules: [<br/>      {<br/>        test: /\.html$/,<br/>        use: [<br/>          {<br/>            loader: 'html-loader',<br/>            options: {<br/>              minimize: true,<br/>              interpolation: false<br/>            }<br/>          }<br/>        ]<br/>      }<br/>    ]<br/>  }<br/>};</span></pre><h2 id="1928" class="lr kl hu bd km lx ly lz kq ma mb mc ku jc md me ky jg mf mg lc jk mh mi lg mj dt translated">向项目中添加静态组件</h2><p id="36f2" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">我喜欢为我的 HTML 模块创建一个单独的文件夹。</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="7a5b" class="lr kl hu js b fv ls lt l lu lv">static-components/<br/>  registration.html<br/>  header.html<br/>  footer.html</span></pre><h1 id="6665" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">将 HTML 注入 JavaScript，然后注入 DOM</h1><p id="5459" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">现在，您可以将 JavaScript 文件中的 HTML 模块作为字符串导入。这些字符串可以被设置为容器的<code class="eh jp jq jr js b">innerHTML</code>属性。</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="f8b9" class="lr kl hu js b fv ls lt l lu lv">// main.html<br/>&lt;html&gt;&lt;head&gt;...&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;div id="root"&gt;&lt;/div&gt;<br/>  &lt;script src="index.js"&gt;&lt;/script&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="eb9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，在您的代码中:</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="550f" class="lr kl hu js b fv ls lt l lu lv">// index.js</span><span id="1315" class="lr kl hu js b fv lw lt l lu lv">import header from './static-components/header.html'<br/>import footer from './static-components/footer.html'</span><span id="491e" class="lr kl hu js b fv lw lt l lu lv">document.onload = function() {<br/>  document.getElementById("root").innerHTML = header + footer;<br/>}</span></pre><h1 id="983e" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">类比反应</h1><p id="78f4" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">HTML 模块类似于 React 组件，只是它们是“静态”的。它们不会随着时间而改变，也没有状态。</p><p id="8bb1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，您可以创建控制器，每当您在 DOM 中添加和删除 HTML 时，控制器就会被加载和卸载。这些控制器可以添加 DOM 事件处理程序来制作交互式应用程序。</p><pre class="ju jv jw jx fq ln js lo lp aw lq dt"><span id="367b" class="lr kl hu js b fv ls lt l lu lv">// StaticController.js</span><span id="f2fa" class="lr kl hu js b fv lw lt l lu lv">window.staticControllers = {};</span><span id="1fe7" class="lr kl hu js b fv lw lt l lu lv">// HeaderController.js</span><span id="2437" class="lr kl hu js b fv lw lt l lu lv">import header from 'path/to/header.html'<br/>window.staticControllers.headerController = {<br/>  initialRender: function() {<br/>    return header;<br/>  },<br/>  onLoad: function() {<br/>    document.getElementById('id').onclick = ...;<br/>  }<br/>};</span></pre><p id="4b3f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，与 React 相比，静态组件几乎没有开销，因为它不再渲染。此外，您不需要在站点中加载数百千字节的数据。</p><h2 id="8e84" class="lr kl hu bd km lx ly lz kq ma mb mc ku jc md me ky jg mf mg lc jk mh mi lg mj dt translated">结合 JSX 和 HTML 模块</h2><p id="f379" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">一个非常好的特性能够将长 JSX 从实际的 JavaScript 文件中分离出来，对吧。唯一的障碍是在运行时评估 JSX 的对象符号。当然，通天塔开发者将不得不添加该功能。</p><p id="7b92" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，如果有一天我们做到了这一点，你可能会在单独的标记文件中编写 JSX！！！</p><p id="23c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">延伸阅读:</p><ul class=""><li id="756e" class="mk ml hu it b iu iv iy iz jc mm jg mn jk mo jo mp mq mr ms dt translated"><a class="ae kj" href="https://medium.freecodecamp.org/full-overview-of-the-html-canvas-6354216fba8d" rel="noopener ugc nofollow" target="_blank">HTML 画布的完整概述</a></li><li id="d1b0" class="mk ml hu it b iu mt iy mu jc mv jg mw jk mx jo mp mq mr ms dt translated"><a class="ae kj" href="https://medium.freecodecamp.org/how-non-integer-values-are-stored-in-a-float-and-why-it-floats-902effacbfb9" rel="noopener ugc nofollow" target="_blank">非整数值如何存储在浮点型中(以及它为什么会浮点型)</a></li><li id="2972" class="mk ml hu it b iu mt iy mu jc mv jg mw jk mx jo mp mq mr ms dt translated"><a class="ae kj" rel="noopener" href="/@sukantk3.4/circular-dependencies-in-javascript-34183fc2720">移除 JavaScript 中的循环依赖</a></li><li id="8f2a" class="mk ml hu it b iu mt iy mu jc mv jg mw jk mx jo mp mq mr ms dt translated"><a class="ae kj" href="https://medium.freecodecamp.org/how-to-synchronize-your-game-app-across-multiple-devices-88794d4c95a9" rel="noopener ugc nofollow" target="_blank">如何在多台设备上同步您的应用程序</a> (Android)</li><li id="7bde" class="mk ml hu it b iu mt iy mu jc mv jg mw jk mx jo mp mq mr ms dt translated"><a class="ae kj" href="https://medium.freecodecamp.org/match-making-with-firebase-hashnode-de9161e2b6a7" rel="noopener ugc nofollow" target="_blank">如何使用 Firebase 构建多人安卓游戏</a></li></ul><figure class="ju jv jw jx fq jy"><div class="bz el l di"><div class="my mz l"/></div></figure></div></div>    
</body>
</html>