# 快速调试 AWS Lambda 函数

> 原文：<https://medium.com/hackernoon/quickly-debug-your-aws-lambda-functions-b9b0d7cb6096>

![](img/5a2d59b37cf53b2d1e34fb15b29a428d.png)

伟大的作家用隐喻来表达他们的观点，所以让我很快的尝试一下。虫子是讨厌的小害虫，嗯？很难摆脱它们，但除了到处喷洒毒药，只剩下几个选择了。其中一个选择是利用天敌来对付这些虫子，比如鸟类。所以鸟可以帮你赶走虫子。我在一家名为 Dash **bird** 的公司工作，帮助开发人员调试他们的 AWS Lambda 应用程序。看到我做了什么吗？害虫\虫子< - >小鸟\Dashbirds？很聪明，对吧？现在，我需要打电话给谁来获得我的普利策奖？

# 使用 AWS Lambda 函数的主要原因

AWS Lambda 的好处之一是，正如 AWS 声称的**“你可以忘记所有项目的基础设施，只专注于在云中启动应用程序，而你将能够与其他亚马逊服务进行集成。”**可扩展性和使用 AWS 计算资源的低成本是随之而来的其他好处。

![](img/52c6b52632a208303a6195d724926fcb.png)

*Lambda 函数的剖析——AWS re:Invent 2017*

首先，您需要做的就是编写您的函数，将它连接到一个事件，部署它，AWS 会处理剩下的事情。Lambda 函数将能够在 AWS 上每小时处理数千个请求，而不需要我们付出任何努力。

# 如何调试 AWS Lambda 函数？

当谈到 AWS Lambda 函数的调试过程时，有四种方法是最常用的。

1.  当得到其他 AWS 服务(如 Kinesis)的支持时，可以对部署的 Lambda 函数进行日志记录。在这个过程中，手动创建这些工具的需要将花费开发人员大量的时间，这进一步意味着它将花费更多的成本，因为将使用额外的亚马逊基础设施。但乍一看，这个过程似乎相当快。
2.  离线调试作为第二种选择，让您有机会在标准开发过程中在本地工作。
3.  AWS Cloudwatch 是最受欢迎的调试选项，虽然它很容易安装，但也有缺点。所有的日志都被分组在一起，当你的应用程序中有很多活动部件时，要找出问题所在可能需要很长时间。然而，如果您刚刚开始使用 AWS Lambda，这可能是最好的选择。
4.  第三方工具是调试您的功能的一个很好的方法，它将通过预先提供所有必要的信息来加快开发过程，为您节省无数的挖掘时间。

[无服务器离线](https://www.npmjs.com/package/serverless-offline)非常适合在开发过程中调试应用程序。它的行为非常类似于 AWS，让您访问各种服务，如 SQS，社交网络，S3 等，而不是请求击中现场服务，它去一个本地仿真服务。

如果你有一个实时服务，或者有一个开发/试运行环境，或者有多个开发人员同时在同一个项目上工作，你将需要开始寻找实时调试服务，虽然有大量的工具来调试 monolith 应用程序，但具体来说，对于无服务器应用程序，只有少数几个调试工具，有些比其他的好。

Dashbird.io 是专门用于调试 AWS Lambda 应用程序的工具之一，我们的用户喜欢这项服务的主要原因是它的简单性。从微服务的总体统计数据到单个功能执行概况，一切都只需点击一下鼠标。

# 用 Dashbird 调试 AWS Lambda 函数

Dashbird 是一个很好的选择，因为它是专门为开发人员设计的，能够快速检测任何类型的故障。Dashbird 为有效调试提供了相当多的功能，例如:

*   错误视图，这必然是故障发现的一个点，它让开发人员从这个视图中洞察出了什么错误。
*   日志搜索允许你搜索 Lambda 函数的日志，这意味着你可以找到相关的调用。
*   “函数视图”允许您更仔细地查看任何看起来行为不当的函数，并彻底地解决它。
*   实时跟踪允许开发人员对函数的活动进行实时观察。
*   跟踪让您对您的调用正在做什么有一个令人难以置信和令人信服的了解。

![](img/3196398369e920e618fbb57752a62a15.png)

AWS Lambda 函数在一个隔离的环境中工作，但正因为如此，调试变得越来越复杂。当您的代码处于开发阶段时，使用无服务器离线或无服务器应用程序模型来监控和调试您的代码是至关重要的。你有哪些快速调试函数的经验？如果你相信你能帮助我们的读者和我们解决你的策略，请在下面的评论框中告诉我们你的解决方案，让我们一起讨论。

*原载于 2019 年 4 月 9 日*[*dash bird . io*](https://dashbird.io/blog/quickly-debug-aws-lambda-functions/)*。*