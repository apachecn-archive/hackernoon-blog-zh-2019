<html>
<head>
<title>The thing about Hardware Security Modules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于硬件安全模块</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-thing-about-hardware-security-modules-6f2cc38b5319?source=collection_archive---------5-----------------------#2019-05-29">https://medium.com/hackernoon/the-thing-about-hardware-security-modules-6f2cc38b5319?source=collection_archive---------5-----------------------#2019-05-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a636" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">硬件安全模块(HSM)不容易维护，并且它们并不总是提供您所希望的安全性。如果你正在检查你的FIPS 140–2复选框，那么是的，去得到那个X级HSM。但是，如果您真的关心保护您的基础设施，您可能需要考虑几个额外的要点。</p><h1 id="d155" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">什么是HSM，什么不是</h1><p id="7d60" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">HSM安全地生成和存储加密密钥，并执行加密操作，如签名、签名验证、加密、解密和散列。HSM是一种加密神谕，人们可以要求它执行某些操作。差不多就是这样。但通常，更重要的问题是谁(或什么)可以查询这个神谕。例如，想象你把你的比特币钱包的私钥保存在一个HSM里。攻击者可能无法窃取密钥，但如果她可以要求HSM用它签署数据，她就可以批准非预期的交易并窃取比特币。关键是，您需要正确地指定和实施访问控制，并限制谁可以操作HSM。您还需要考虑保护访问HSM的凭证。</p><p id="859a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们在与客户的合作中注意到，虽然用户会在其他地方打开安全罐，并通过使用HSM来获得FIPS合规性，但他们可能无法正确保护支持HSM认证的PIN码。一个例子是使用存储在HSM中的密钥对机器上的数据进行加密，但是将PIN码与加密数据一起放在HSM中。打个比方，你不会锁上门，然后把钥匙放在门前，对吧？也许你会请你的邻居保管你的钥匙。但是你不会把邻居家的钥匙放在你的门前，是吗？关于这个问题的真实例子，请看这篇博文。</p><h1 id="ca2b" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">网络与USB/PCI连接的HSM</h1><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/d35c4948e1c1ebc70f15c98bdcb2ebfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*RfB8LoGGUUQmzgl4.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Illustration of a PCI connected Hardware Security Module</figcaption></figure><p id="5868" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">网络HSM是带有网络(以太网)端口的设备，可以通过加密的通信通道处理请求。建立从客户端软件到HSM的加密且经过身份验证的连接对于阻止中间人攻击和防止未经授权的客户端从HSM请求服务至关重要。</p><p id="3a93" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">USB和PCI连接的HSM安装在主机上(例如Linux服务器)。虽然HSM生成和存储的密钥可能受到保护，但是端到端的安全性变得依赖于主机的安全性。您真正的安全边界不是HSM本身，而是它所连接的主机。干得好，您刚刚将您的密钥暴露给了网络漏洞、操作系统中的零日漏洞或主机上运行的特权软件中的错误。如果您对该主机的安全性感觉良好，那么为什么首先要附加一个HSM，而不只是将密钥放在Linux机器上呢？</p><p id="6a0c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">公平地说，如果不在HSM连接的主机上运行，攻击者将无法窃取密钥，并使用它们离线解密或签名数据。但我们可能想争取更好的安全性。</p><h1 id="1eb9" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">保护工作流，而不仅仅是密钥</h1><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff lf"><img src="../Images/f7efa04bb3c4df0c20c8c37a2a02527f.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*LRrpLr6p-Fnqf9bDfxpxRA.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Applications connecting to an HSM should only have access to authentication PIN or other credentials if they are trusted. An attacker that can authenticate and request service from the HSM would be able to sign maliciously crafted certificates, approve illegal transactions, get unauthorized access to encrypted data, etc.</figcaption></figure><p id="93c3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们必须考虑哪些用户或应用程序正在访问HSM，以及如何控制这种访问。理想情况下，我们希望将访问密钥或存储密钥的HSM的权限限制在可信应用程序。<br/>如果我们能够将访问密钥或访问HSM的身份验证凭据的权限限制在特定的应用程序身份，我们就可以端到端地保护整个工作流。</p><h1 id="7981" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">运行时安全性</h1><p id="8a20" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">Anjuna提供了一种独特的方法，使用<em class="lg">运行时安全性</em>来保护整个工作流、绑定数据和可信应用的密钥。它利用基于英特尔软件防护扩展(SGX)和AMD Secure Encrypted virtual ization(SEV)等技术的安全飞地来加密敏感数据，如用于向HSM进行身份验证的凭据，或加密密钥本身，以便数据只能由授权应用程序访问。这使得能够端到端地保护工作流、连接到密钥管理解决方案或HSM的应用以及它向密钥管理解决方案本身认证自身所需的凭证(如果使用软件密钥管理系统)。你可以在安茹娜的网站上了解更多。</p><figure class="ku kv kw kx fq ky"><div class="bz el l di"><div class="lh li l"/></div></figure></div></div>    
</body>
</html>