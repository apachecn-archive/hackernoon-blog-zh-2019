<html>
<head>
<title>Upgrade Driven Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">升级驱动发展</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/upgrade-driven-development-36235719d1ca?source=collection_archive---------8-----------------------#2019-04-19">https://medium.com/hackernoon/upgrade-driven-development-36235719d1ca?source=collection_archive---------8-----------------------#2019-04-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="c146" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">或者:我是如何学会停止担忧，热爱不变的代码的。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/aeb9e2d68b5fccef271cff07c8afdb58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rk5glLCw-cPoyDW7S2GY4w.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Photo by <a class="ae jz" href="https://unsplash.com/photos/3ym6i13Y9LU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Mike Tinnion</a> on <a class="ae jz" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="9871" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">关于</h1><p id="dddc" class="pw-post-body-paragraph ks kt hu ku b kv kw iv kx ky kz iy la lb lc ld le lf lg lh li lj lk ll lm ln hn dt translated">这是一个关于开发者在以太坊<a class="ae jz" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>上构建应用的设计理念的简单概述。它建立在我与以太坊生态系统内外的开发人员的多次对话的基础上。它基于我三月份在巴黎<a class="ae jz" href="https://ethcc.io/" rel="noopener ugc nofollow" target="_blank">以太坊社区会议</a>上的一次演讲。这是一个尝试，创造一个包容的，积极的替代流行的区块链设计思想的方式，培养和鼓励开发人员创造令人兴奋的链上应用程序。</p><p id="1302" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">注意，我是<a class="ae jz" href="http://zeppelin.solutions" rel="noopener ugc nofollow" target="_blank"> Zeppelin </a>的开发者倡导者，这意味着我有点倾向于根据我们创建的软件来思考问题，特别是<a class="ae jz" href="https://zeppelinos.org" rel="noopener ugc nofollow" target="_blank"> ZeppelinOS </a>。也就是说，在以太坊空间升级智能合约的能力不仅仅是Zeppelin的项目，还有许多提案，如<a class="ae jz" href="https://github.com/ethereum/EIPs/issues/1538#" rel="noopener ugc nofollow" target="_blank"> ERC1538 </a>和<a class="ae jz" href="https://ethereum-magicians.org/t/eip-1822-universal-upgradeable-proxy-standard-uups/2842" rel="noopener ugc nofollow" target="_blank"> EIP-1822 </a>正在努力尝试和标准化代理的使用，以构建可升级的智能合约应用程序。</p><h1 id="6088" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">什么是升级驱动发展？</h1><ul class=""><li id="54c5" class="lt lu hu ku b kv kw ky kz lb lv lf lw lj lx ln ly lz ma mb dt translated">一种在不可变区块链上迭代创建动态和安全的基于智能合约的应用程序的设计思想。</li><li id="6221" class="lt lu hu ku b kv mc ky md lb me lf mf lj mg ln ly lz ma mb dt translated">理解决定如何以及何时升级链上部署的软件背后的治理过程对于用户的信任期望是至关重要的。</li><li id="7e8e" class="lt lu hu ku b kv mc ky md lb me lf mf lj mg ln ly lz ma mb dt translated">应该在软件开发过程的早期考虑升级的治理过程，并清楚地进行沟通。</li><li id="736e" class="lt lu hu ku b kv mc ky md lb me lf mf lj mg ln ly lz ma mb dt translated">拥抱隔离风险的哲学，通过诸如代码可组合性的实践，创建更容易测试和理解的代码的更小单元。</li><li id="b0d2" class="lt lu hu ku b kv mc ky md lb me lf mf lj mg ln ly lz ma mb dt translated">一种信念，即复杂和创造性的应用程序可以安全可靠地建立在不变的区块链上，并经过深思熟虑的设计。</li><li id="0d6e" class="lt lu hu ku b kv mc ky md lb me lf mf lj mg ln ly lz ma mb dt translated">开发人员可以将应用程序抽象成可组合的信任、风险、责任、财务和代码单元。</li></ul><p id="0c1f" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">如果你对这些想法的更多背景感兴趣，我会在下面的演讲中列举一些例子:</p><p id="b154" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">来自巴黎ETHCC 2019的录制直播流</p><h1 id="7755" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">这有什么关系？</h1><p id="e7b3" class="pw-post-body-paragraph ks kt hu ku b kv kw iv kx ky kz iy la lb lc ld le lf lg lh li lj lk ll lm ln hn dt translated">传统智能合约开发者从以太坊社区的高调代码失败的创伤性经历中获得信息，例如<a class="ae jz" rel="noopener" href="/@pullnews/understanding-the-dao-hack-for-journalists-2312dd43e993"> DAO黑客</a>和<a class="ae jz" href="https://blog.zeppelin.solutions/on-the-parity-wallet-multisig-hack-405a8c12e8f7" rel="noopener ugc nofollow" target="_blank">平价钱包黑客</a>(以及许多其他事件)。这些经验(与gas等其他限制相结合)导致开发人员尝试将功能迁移到链外，(部分是因为他们希望不可变的链上错误的风险最小化)，并通过消除功能来减少代码库的大小(和审计成本)。</p><p id="1acb" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">结果是减少了链上应用程序的种类和多样性，因为开发人员害怕创建“危险的”复杂和难以测试的链上智能合约。</p><p id="5f53" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">当攻击的表面区域不清楚并且错误的恢复/修复选项有限时，开发人员本能地犯了谨慎的错误。围绕治理的社区遗留教条放大了这种影响，这导致开发人员怀疑升级的智慧。</p><p id="7826" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">这种怀疑和不灵活不仅对现有的开发者有负面影响，而且对考虑区块链空间的大型传统企业客户也有负面影响。对于许多潜在的生态系统参与者来说，不灵活的、潜在的妥协代码的叙述是不可接受的，它会导致不可调和的损失。</p><h1 id="6aac" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">升级驱动的开发如何提供一种替代方案？</h1><p id="fa46" class="pw-post-body-paragraph ks kt hu ku b kv kw iv kx ky kz iy la lb lc ld le lf lg lh li lj lk ll lm ln hn dt translated">升级驱动的开发提供了一种本质上积极的设计叙事，并且更符合传统软件开发人员的工作流程。软件错误被视为可以计划的设计缺陷，而不是存在的威胁。</p><p id="7916" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">开发人员应该假设他们的代码会有不可预见的错误，并以这样一种方式进行设计，即可以检测、划分和隔离危险，以最小化灾难性事件的影响。</p><p id="20b0" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">升级是一种工具，允许开发人员用新版本的代码替换受损或过时的应用程序块。这包括教育开发人员，在项目的规划阶段需要考虑代码升级的规划。</p><p id="63b4" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">通过鼓励开发人员在计划阶段为项目中的单个组件构建升级路径，他们可以在以后自由决定他们实际需要多少代码可变性。根据产品开发的阶段，这个决定很难或者不可能反过来做。</p><p id="940d" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">升级驱动开发使以太坊智能合约开发与传统软件开发保持一致。它建立在已知的测试驱动开发过程的基础上，为开发人员提供了一种切实可行的方法来自信地创建安全的、动态的、有创造性的代码。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mh"><img src="../Images/fb4010070dc3cad84080764ae3c12584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2pA4x1gEf3XoJeYS30h3qA.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Have a boat. Because people hate too much text in blog posts. Photo by <a class="ae jz" href="https://unsplash.com/photos/EnC09G-ICbU?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Matthias Jordan</a> on <a class="ae jz" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="b06b" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">这如何支持以太坊开发生态系统？</h1><p id="9a84" class="pw-post-body-paragraph ks kt hu ku b kv kw iv kx ky kz iy la lb lc ld le lf lg lh li lj lk ll lm ln hn dt translated">采用升级驱动的开发叙事为开发者工具和服务创造了坚实的市场需求。以2000年代早期测试驱动开发的<a class="ae jz" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank">重新引入为例，一个完整的行业已经建立起来，为坚持其原则的开发人员的需求服务。</a></p><p id="bc2a" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">测试库如Mocha、Chai、伊斯坦布尔(在javascript中)已经成为行业标准。像Travis-ci这样的持续集成工具(如果没有标准化的软件测试工具，这是不可能的)现在已经成为标准并广泛使用。以太坊生态系统有许多新生的测试框架，随着开发的增加，我预计这些工具会成熟并激增。</p><p id="7697" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">代码可以升级的开发哲学为创建一套全新的开发工具打开了大门——这些工具在许多情况下已经存在于其他编程语言中。这些工具的创造者有很大的机会在智能合约软件生态系统中赢得开发者的注意力。</p><p id="387c" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">最近，提出可升级代码和代理工具标准的不同项目越来越多，这证明升级链上代码作为一个概念正在获得开发人员和团队的认可。</p><h1 id="47d0" class="ka kb hu bd kc kd ke kf kg kh ki kj kk ja kl jb km jd kn je ko jg kp jh kq kr dt translated">问题:</h1><p id="7768" class="pw-post-body-paragraph ks kt hu ku b kv kw iv kx ky kz iy la lb lc ld le lf lg lh li lj lk ll lm ln hn dt translated"><strong class="ku hv"> <em class="mi">这是暂时的问题吗？</em> </strong></p><p id="c25a" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">由于生态系统在公共网络上构建不可变代码的初期经验，升级可能是“临时问题的临时解决方案”。以太坊网络的未来<a class="ae jz" href="https://upscri.be/hackernoon/" rel="noopener ugc nofollow" target="_blank">https://upscri.be/hackernoon/</a>版本可能会支持本地代码升级，如果这一特性在协议层面变得明显有价值的话。</p><p id="e1b1" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">然而，升级驱动的开发不是产品本身，而是一种支持新叙事的设计哲学。代码可组合性、风险隔离、治理决策等实践不太可能很快过时。</p><p id="ec1b" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">升级驱动开发的核心思想也不是新的或独特的，在许多方面只是简单健康的编程。</p><p id="0c3f" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated"><strong class="ku hv"> <em class="mi">难道是“蛇油”？</em>T13】</strong></p><p id="e33b" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">不。虽然升级驱动的发展肯定是一个模糊的哲学思想，但它确实为区块链发展的主流叙事提供了一个积极的反叙事。智能合同开发的风险是众所周知的，通过适当的规划可以降低风险。</p><p id="871c" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">像大多数想法一样，这种叙述是“开源的”:对社区的解释和定义开放。随着区块链空间的成熟:实践、哲学和工具自然会变得更加成熟、健壮和定义良好。今天智能合约开发的“狂野西部”本质将最终让位于更类似于传统软件开发的标准实践。升级驱动的发展是在那个方向上的一个贡献。</p><p id="9177" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated"><strong class="ku hv"> <em class="mi">是否缩放？</em>T3】</strong></p><p id="6036" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">是的。随着以太坊规模的扩大，对更复杂、更动态、更大代码库和扩展功能的应用程序的需求也会增加。Skale、Loom、POA、xDai等第二层解决方案仍然是不可变的区块链，但与以太坊主网络相比，其gas fee结构允许非常不同的链上计算量。</p><p id="0345" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">随着应用程序复杂性的增加，迭代添加功能和修复缺陷的必要性也将增加。这就是为可升级代码库设计的哲学变得更加重要的地方。</p><p id="b76f" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">智能合约开发者将无法用当前单一、整体应用的理念为这些网络设计这种软件，没有升级和完善的代码库。</p><p id="e70a" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated"><strong class="ku hv"> <em class="mi">所有东西都需要升级吗？</em> </strong></p><p id="31ff" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">不会。开发人员可以自由考虑应用程序的哪些元素需要升级路径。并非所有应用程序或所有应用程序的所有组件都需要升级路径。一些应用程序将利用不可变的代码库作为一个特性，而其他应用程序将根据项目需要混合和匹配。</p><p id="2fc7" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated"><strong class="ku hv"> <em class="mi">治理如何融入其中？</em>T11】</strong></p><p id="f416" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">谁来决定升级什么以及何时升级将永远是一个重要的设计考虑因素。治理的复杂性不应该吓走开发人员的潜力。应用程序的一些元素可以通过核心开发人员的多重签名来升级，而其他元素可以通过DAO(分布式自治组织)或其他编程方式来控制。治理可以被设计成与手边的任务相匹配，并且反映被升级的组件的性质以及所涉及的涉众。</p><p id="1467" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated"><a class="ae jz" href="https://twitter.com/DennisonBertram" rel="noopener ugc nofollow" target="_blank">在Twitter上关注我</a></p><p id="1e91" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">特别感谢:</p><p id="548f" class="pw-post-body-paragraph ks kt hu ku b kv lo iv kx ky lp iy la lb lq ld le lf lr lh li lj ls ll lm ln hn dt translated">Zeppelin的团队、<a class="ae jz" href="https://twitter.com/ramonrecuero" rel="noopener ugc nofollow" target="_blank"> Ramon Recuero </a>、<a class="ae jz" href="https://twitter.com/smpalladino" rel="noopener ugc nofollow" target="_blank"> Santiago Palladino </a>、德米安Brenner、<a class="ae jz" href="https://twitter.com/martriay" rel="noopener ugc nofollow" target="_blank"> Martin Triay </a>以及我在以太坊社区内外交谈过的许多开发者。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>