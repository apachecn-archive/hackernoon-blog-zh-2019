<html>
<head>
<title>Useful Vim tricks for 2019</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2019 年有用的 Vim 技巧</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/useful-vim-tricks-for-2019-e7c1db7a18d6#2019-01-01">https://medium.com/hackernoon/useful-vim-tricks-for-2019-e7c1db7a18d6#2019-01-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/cab83a1d3c84c990e61530f1fa27b5c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RVXdnZYd8HHmcMNgEJYfkg.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Courtesy of Unsplash, some cool tricks!</figcaption></figure><p id="a3cf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">Vim 有一个陡峭的学习曲线，我们不要试图覆盖它。但是一旦你开始了解它的细微差别，你就会发现 Vim 充满了节省时间的技巧。这就是我们将在本文中讨论的内容。</p><p id="7ded" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我在网上搜索 Vim 的窍门。有些来自不同的网站，twitter 帖子，有些是我自己的。无论如何，其中一些可能有助于在 2019 年改善你的工作流程。</p><p id="2aca" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">但我刚刚开始使用 Vim </strong></p><p id="ef3a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">没问题，开始使用 Vim 时，您真正需要知道的一切可以浓缩成一句话:</p><blockquote class="ke kf kg"><p id="8dae" class="jg jh kh ji b jj jk jl jm jn jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kd hn dt translated">用“vim {filename}”打开一个文件。输入“I”开始添加文本。添加完文本后，输入“ESC”。最后，输入':wq '保存并退出，':w '保存，或者':q！'不存就退出。</p></blockquote><p id="2c5a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我将向您展示的一些“技巧”并不是真正的技巧，只是简单的快捷方式，以及内置于 Vim 中的命令。事实是，这些命令中的一些非常有用，它们本身就可以被认为是技巧。</p><p id="3f89" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">所以，我想给你们介绍的第一个是 vimtutor。Vim 附带了一个交互式教程，可以用来学习编辑器的基础知识。本教程充满了有用的信息，如如何移动，vim 模态方式，搜索等等。所以，如果你刚刚开始使用 Vim，这是我希望你尝试的第一个技巧。</p><p id="35ff" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">只需在 Vim 中键入<strong class="ji hv"> &lt; ESC &gt; </strong>后跟<strong class="ji hv"> :Tutor </strong>即可启动它。</p><p id="0297" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">我是一名中级/高级 Vim 用户</strong></p><p id="4c05" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">其中一些建议可能适合你。我就筛选一下，不多解释。这些提示的目的是让你使用它们。如果你想真正理解它们是如何工作的，帮助文件总是在那里等着你。</p><p id="9dd2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">在文件内移动</strong></p><p id="c2d7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">很多时候，在一个文件中，我们需要做一些事情，比如跳到文件的末尾或开头。当处理大型文件时，其中一些任务可能会非常繁琐。Vim 提供了一系列在文件内部移动的快捷方式。</p><p id="93ad" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> G </strong>会跳到文件的末尾，<strong class="ji hv"> gg </strong>会跳到文件的开头。如果我们想移动到特定的行，我们可以使用下列之一:<strong class="ji hv"> :123 &lt; CR &gt; </strong>，<strong class="ji hv"> 123G </strong>或<strong class="ji hv"> 123gg </strong>。所有这些选项都会将光标移动到第 123 行。</p><p id="3527" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">同样，<strong class="ji hv"> $vim filename +123 </strong>将在 vim 上启动已经在第 123 行的文件。</p><p id="6a6f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">行导航也很棘手，所以<strong class="ji hv"> 0 </strong>会将光标移动到当前行的开头，<strong class="ji hv"> $ </strong>会移动到行尾。</p><p id="c06b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> H </strong>将光标移动到当前窗口的顶部，<strong class="ji hv"> M </strong>将光标移动到当前窗口的中间。</p><p id="4cd1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最后，如果您正在编辑代码，<strong class="ji hv"> % </strong>将跳转到匹配的括号。</p><p id="153b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">请注意，所有这些命令都适用于正常模式。当然，在插入模式下，这些不是命令，只是正在写入的字符。</p><p id="39c7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在文件中移动的命令有很多，但是有了这些，我们应该能够更快地执行大多数日常任务。</p><h2 id="baab" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">去做更有趣的事情</h2><figure class="lh li lj lk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lg"><img src="../Images/1ee8ee6ff78d0c97bee3a78b1ad951e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XKqi_KvdZf0jftGCl5jOwQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Courtesy of Unsplash</figcaption></figure><p id="fa4d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">虽然非常有用，但上面的提示是乏味的。它们只是伪装成提示的常规命令。更复杂的东西呢？</p><p id="bbc4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -恢复信息</strong> <br/>有时候我们需要关闭正在做的事情，没有时间创建一个会话来存储东西。Vim 提供了将光标放在最后一个已知位置上来打开机器上最后一个编辑过的文件的能力。为此，我们启动 Vim 并点击<strong class="ji hv"> CTRL + o + o </strong>。</p><p id="b9ce" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> - Shell 命令</strong> <br/>另一个真正有用的功能是在 Vim 中输出终端命令的结果。Vim 提供了在其中运行 shell 命令的能力。为此，我们使用<strong class="ji hv">！</strong>命令。例如，要输出运行 ls 的结果，我们可以使用<strong class="ji hv"> :r！ls </strong>，<strong class="ji hv"> :r！cal </strong>输出当前月历或<strong class="ji hv"> :r！日期</strong>为当前日期和时间。</p><p id="2f30" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -历史</strong> <br/> Vim 提供了最近运行的命令的历史。有时我们需要重新运行一些命令，但是<strong class="ji hv"> :history </strong>命令仅供参考。要重新运行这些命令，我们可以使用交互式命令历史窗口。要启动它，我们可以使用<strong class="ji hv"> q: </strong>。接下来就是选择要运行的命令并用<strong class="ji hv"> &lt; CR &gt; </strong>执行它。</p><p id="15b9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -压缩文件</strong> <br/>另一个可以派上用场的是无需解压即可打开、编辑和保存压缩文件的能力。这可以通过打开压缩文件来实现。例如，<strong class="ji hv">$维姆 archive.tar.gz</strong>。这将启动浏览器。然后，我们可以打开、编辑和保存这些文件，而不必提取它们。</p><p id="b64f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -不知道命令是做什么的？</strong> <br/>在正常模式下点击<strong class="ji hv"> K </strong>将启动光标下关键字的联机帮助页。此外，点击<strong class="ji hv"> * </strong>将搜索光标下出现的所有单词。</p><p id="425f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -缩进</strong> <br/> <strong class="ji hv"> gg=G </strong>将根据我们使用的标签的定义缩进我们的整个文件。为了更进一步，我们可以设置标记来缩进整个文件并将光标保持在原来的位置，为此我们可以使用<strong class="ji hv"> mmgg=G'm </strong>。这看起来很复杂，但很有效。我发现使用这个命令的最好方法是重新映射它，而不是试图记住它。只是太多了。</p><p id="16a5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们之前看到，我们可以从 Vim 内部运行 shell 命令。对于 grep，Vim 提供了自己的版本 Vimgrep。<br/> Vimgrep 不过是它的 shell 版本的别名，但是比'<strong class="ji hv">:！grep…</strong>’。<br/>例如，搜索所有“错误”的所有出现。txt 文件我们可以使用<strong class="ji hv"> :vimgrep error *。txt </strong>。<br/>有关 Vimgrep 的更多信息，请使用<strong class="ji hv"> :h vimgrep </strong>。</p><p id="4253" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> -使用 Vim </strong> <br/>检查不同的 git 分支内容很多时候，在使用 git 的时候，我们需要检查不同分支的内容。使用一些 bass-fu 和 Vim，我们可以在一个不同的分支中看到给定文件的内容，而不必进入它。</p><p id="27b5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">git show branch _ name:/path/to/file . txt | vim-</strong></p><p id="a37c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">基本上，我们将不同分支中的文件显示到 Vim 中。</p><p id="5647" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这些是我自己发现并使用的一些技巧。如您所见，了解一些 Vim 的内部工作原理，就有可能做一些非常酷的事情，从而节省我们大量的时间。</p><p id="6d08" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">你呢？你有哪些 2019 年的 Vim 小妙招和我们分享？</p></div><div class="ab cl ll lm hc ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hn ho hp hq hr"><figure class="lh li lj lk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ls"><img src="../Images/053f3cacbb0c0a4d951a5d9075cfbc3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZjfXGpUJUWfbJIlMY0XtA.png"/></div></div></figure><p id="ba67" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">想了解更多关于 Vim 的知识？想学习如何将其用作 IDE？看看我的新书<a class="ae lt" href="https://leanpub.com/anidecalledvim" rel="noopener ugc nofollow" target="_blank">一个叫做 Vim </a>的 IDE。从基本的 Vim 使用到文件查找、自动完成、文件管理器等等，它都有。</p></div></div>    
</body>
</html>