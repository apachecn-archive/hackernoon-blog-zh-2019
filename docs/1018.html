<html>
<head>
<title>React Hooks: useState(using the state hook)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React 钩子:useState(使用状态钩子)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/react-hooks-usestate-using-the-state-hook-89ec55b84f8c#2019-02-11">https://medium.com/hackernoon/react-hooks-usestate-using-the-state-hook-89ec55b84f8c#2019-02-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/961286e888f682072de57bfe4e4d3f3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ijet6kVJqGgul6adezDLQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><strong class="bd jg">A new way of working with React.</strong></figcaption></figure></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><blockquote class="jo"><p id="f611" class="jp jq hu bd jr js jt ju jv jw jx jy ek translated">React 挂钩目前在 create-react-app 中可用</p></blockquote><p id="9b62" class="pw-post-body-paragraph jz ka hu kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv jy hn dt translated">在本文中，我们将试图理解什么是<a class="ae kw" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> React 钩子</a>以及使用它们时我们必须遵循的规则。另外，我们将使用<strong class="kb hv"> <em class="kx"> useState React 钩子创建一个计数器应用程序。</em>T12】</strong></p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="bd53" class="ky kz hu bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">什么是 React 钩子？</h1><blockquote class="jo"><p id="ddad" class="jp jq hu bd jr js jt ju jv jw jx jy ek translated">React 挂钩是让我们从功能组件中挂钩到 React 状态和生命周期特性的功能。</p></blockquote><p id="e053" class="pw-post-body-paragraph jz ka hu kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv jy hn dt translated">这里，我们的意思是钩子允许我们轻松地操作功能组件的状态，而不需要将它们转换成类组件。</p><p id="c2b6" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">钩子在类内不起作用(<em class="kx">因为</em> <em class="kx">它们让你在没有类的情况下使用 React】)。通过使用它们，我们可以完全避免使用生命周期方法，例如<em class="kx">组件卸载</em>、<em class="kx">组件更新</em>、<em class="kx">组件卸载</em>。相反，我们将使用类似<code class="eh mb mc md me b">useEffect</code>的内置钩子。</em></p><p id="af9f" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated"><strong class="kb hv">基本内置挂钩:</strong></p><ol class=""><li id="8e44" class="mf mg hu kb b kc lw kg lx kk mh ko mi ks mj jy mk ml mm mn dt translated">返回一个有状态值和一个更新它的函数— <strong class="kb hv"> <em class="kx">使用状态</em> </strong></li><li id="7693" class="mf mg hu kb b kc mo kg mp kk mq ko mr ks ms jy mk ml mm mn dt translated">允许您在功能组件中执行副作用— <strong class="kb hv"> <em class="kx">使用效果</em> </strong></li><li id="c3cf" class="mf mg hu kb b kc mo kg mp kk mq ko mr ks ms jy mk ml mm mn dt translated">接受上下文对象(从<code class="eh mb mc md me b">React.createContext</code>返回的值)并返回当前上下文值，该值由给定上下文的最近上下文提供者给出— <strong class="kb hv"> <em class="kx"> useContext </em> </strong></li></ol></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="099b" class="ky kz hu bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">钩子的规则</h1><p id="dac4" class="pw-post-body-paragraph jz ka hu kb b kc mt ke kf kg mu ki kj kk mv km kn ko mw kq kr ks mx ku kv jy hn dt translated">钩子是 JavaScript 函数，但是它们强加了两个额外的规则:</p><ol class=""><li id="f91a" class="mf mg hu kb b kc lw kg lx kk mh ko mi ks mj jy mk ml mm mn dt translated">不要调用循环、条件或嵌套函数内的钩子— <em class="kx">只调用顶层的钩子</em><strong class="kb hv"><em class="kx"/></strong><em class="kx">。</em></li><li id="fe38" class="mf mg hu kb b kc mo kg mp kk mq ko mr ks ms jy mk ml mm mn dt translated">不要从常规的 JavaScript 函数调用钩子——只从 React 函数组件调用钩子<strong class="kb hv">。</strong></li></ol></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><blockquote class="my mz na"><p id="d3ce" class="jz ka kx kb b kc lw ke kf kg lx ki kj nb ly km kn nc lz kq kr nd ma ku kv jy hn dt translated"><em class="hu">让我们深入了解一下</em><strong class="kb hv"><em class="hu">use state hook</em></strong><em class="hu">特性是如何工作的。</em></p></blockquote><p id="6c46" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">首先，使用<a class="ae kw" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>创建一个名为<code class="eh mb mc md me b">counter</code>的新 React 应用。</p><pre class="ne nf ng nh fq ni me nj nk aw nl dt"><span id="522a" class="nm kz hu me b fv nn no l np nq">$ npx create-react-app counter<br/>$ cd counter<br/>$ npm start</span></pre><figure class="ne nf ng nh fq iv fe ff paragraph-image"><div class="fe ff nr"><img src="../Images/eec68c7f81a37807e43685b7a8705b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*NyxSyIZtN5W1BIoWTpFluA.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">counter app</figcaption></figure><p id="e7f8" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">现在我们需要创建<code class="eh mb mc md me b">Counter</code>组件和一个按钮来更新计数器。<br/>并将<code class="eh mb mc md me b">Counter</code>内的初始状态(计数)设置为 0 值。并添加一个事件处理程序，以便每当单击按钮时，<code class="eh mb mc md me b">count</code>就增加 1。</p><p id="1012" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">我们在组件内部直接调用<code class="eh mb mc md me b">useState</code>钩子:</p><figure class="ne nf ng nh fq iv fe ff paragraph-image"><div class="fe ff ns"><img src="../Images/643d63e1759c4556fa93173756bce3cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*AQGvV3VsZ8kf27Wb8ta5cw.png"/></div></figure><p id="5148" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated"><code class="eh mb mc md me b">const [count, setCount] = useState(0);</code>声明一个<strong class="kb hv"> <em class="kx">状态变量</em> </strong>。<code class="eh mb mc md me b">useState()</code>钩子的唯一参数是初始状态。</p><p id="a5d5" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated"><strong class="kb hv"> <em class="kx"> useState </em> </strong>返回一对值:当前状态和更新它的函数。这就是我们写<code class="eh mb mc md me b">const [count, setCount] = useState()</code>的原因。这类似于一个班里的<code class="eh mb mc md me b">this.state.count</code>和<code class="eh mb mc md me b">this.setState</code>。</p><blockquote class="my mz na"><p id="66b2" class="jz ka kx kb b kc lw ke kf kg lx ki kj nb ly km kn nc lz kq kr nd ma ku kv jy hn dt translated">您可以在单个组件中多次使用状态挂钩:</p></blockquote><pre class="ne nf ng nh fq ni me nj nk aw nl dt"><span id="3fd7" class="nm kz hu me b fv nn no l np nq">function ExampleWithManyStates() {<br/>  const [age, setAge] = useState(42);<br/>  const [fruit, setFruit] = useState('banana');<br/>  const [todos, setTodos] = useState([{ text: 'Learn Hooks' }]);<br/>} </span></pre><blockquote class="my mz na"><p id="24d7" class="jz ka kx kb b kc lw ke kf kg lx ki kj nb ly km kn nc lz kq kr nd ma ku kv jy hn dt translated"><code class="eh mb mc md me b">const [count, setCount] = useState(0);<br/></code>数组析构语法让我们给通过调用<code class="eh mb mc md me b">useState</code>声明的状态变量取不同的名字。这些名字不是<code class="eh mb mc md me b">useState</code> API 的一部分。</p></blockquote><p id="e606" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">在这里你可以找到一个 React 钩子使用状态的例子:<a class="ae kw" href="https://github.com/jscodelover/react-hooks" rel="noopener ugc nofollow" target="_blank">https://github.com/jscodelover/react-hooks</a></p><p id="ee3d" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">在<a class="ae kw" href="https://twitter.com/jscodelover" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kw" href="https://www.linkedin.com/in/jscodelover" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae kw" href="https://github.com/jscodelover" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上关注我。</p><p id="5029" class="pw-post-body-paragraph jz ka hu kb b kc lw ke kf kg lx ki kj kk ly km kn ko lz kq kr ks ma ku kv jy hn dt translated">希望这篇文章对你有用。感谢阅读&amp;继续编码！！</p></div></div>    
</body>
</html>