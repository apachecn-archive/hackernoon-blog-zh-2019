<html>
<head>
<title>Continuous Development with Docker and VSCode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Docker 和 VSCode 进行持续开发</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/continuous-development-with-docker-and-vscode-go-version-164ee78d09bf#2019-06-27">https://medium.com/hackernoon/continuous-development-with-docker-and-vscode-go-version-164ee78d09bf#2019-06-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="ee42" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">— Go 版本</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/41ac221429319b2d434d7519d815a5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_mFEdypZ151fZ5lBp3AUlQ.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Source Image: <a class="ae jz" href="https://www.getwrecked.com/self-compiling-go-docker-container/" rel="noopener ugc nofollow" target="_blank">https://www.getwrecked.com/self-compiling-go-docker-container/</a></figcaption></figure><h2 id="ccba" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated"><strong class="ak">TL；</strong>博士提出的解决方案是关于:</h2><ol class=""><li id="6225" class="ky kz hu la b lb lc ld le kl lf kp lg kt lh li lj lk ll lm dt translated">建立 Docker 容器并与主机目录上的项目文件集成</li><li id="b5f7" class="ky kz hu la b lb ln ld lo kl lp kp lq kt lr li lj lk ll lm dt translated">使用 VSCode for Go 中的调试模块</li><li id="27d6" class="ky kz hu la b lb ln ld lo kl lp kp lq kt lr li lj lk ll lm dt translated">基于用途(基础、调试、生产)分离 Docker 映像</li></ol><div class="ls lt fm fo lu lv"><a href="https://github.com/weisurya/go-docker-continuous-development" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">Wei surya/go-docker-持续发展</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">使用 Docker 和 VSCode 的持续开发环境，Go 版本-Wei surya/Go-Docker-持续开发</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">github.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj jt lv"/></div></div></a></div><p id="fbf0" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">作为一名需要与使用其他操作系统(如 Ubuntu 或 MacOS)的开发人员一起工作的 Windows 用户，我通常会对我的工作能否在其他操作系统上运行感到沮丧。即使我和其他人使用相同的操作系统，关于不同环境的问题仍然很常见。所以，Docker 是一个解决方案，对于像我这样不想花很多时间调试这个重复问题的开发人员来说。</p><h1 id="3a0c" class="mz kb hu bd kc na nb nc kg nd ne nf kk ja ng jb ko jd nh je ks jg ni jh kw nj dt translated">建立 Docker 容器并与主机目录上的项目文件集成</h1><p id="909d" class="pw-post-body-paragraph mk ml hu la b lb lc iv mn ld le iy mp kl nk mr ms kp nl mu mv kt nm mx my li hn dt translated">当我使用 Docker 进行开发时有一个缺点——我仍然在我的主机中编写和运行代码。我认为 Docker 无法解决我对不同环境的担忧。当我仍处于开发阶段时，我不希望如此频繁地构建——我希望有一种方法，在这种方法中，我只能使用 Docker 容器作为环境，但仍然可以按需编码。对于这一个，你可以在这里检查<a class="ae jz" href="https://github.com/weisurya/go-docker-continuous-development#establish-docker-container-by-integrating-with-project-file-in-host-directory" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff nn"><img src="../Images/5c06276037ebf84863dd7054397437d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*r-dWsDppLmsxBhoCUmh03Q.png"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Created by using: Draw.io</figcaption></figure><p id="395a" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">上图高度概括了这种方法的工作原理。在当前项目目录和容器中的目录之间进行挂载绑定。因此，无论何时您在本地机器上进行任何更改，它都会直接反映到 Docker 容器中。因此，它解决了以下问题:</p><ol class=""><li id="1121" class="ky kz hu la b lb mm ld mo kl no kp np kt nq li lj lk ll lm dt translated">机器之间的环境不同。</li><li id="b18a" class="ky kz hu la b lb ln ld lo kl lp kp lq kt lr li lj lk ll lm dt translated">持续开发，而不把代码和构建在一起作为一个 Docker 镜像。</li></ol><h1 id="99e7" class="mz kb hu bd kc na nb nc kg nd ne nf kk ja ng jb ko jd nh je ks jg ni jh kw nj dt translated">使用 VSCode for Go 中的调试模块</h1><p id="04b9" class="pw-post-body-paragraph mk ml hu la b lb lc iv mn ld le iy mp kl nk mr ms kp nl mu mv kt nm mx my li hn dt translated">此外，作为一个微软可视化代码用户，我喜欢使用他们的调试模块。它真的帮助我开发了一个大规模的项目，一步一步地跟踪流程。但是，默认情况下，它只支持 Node.js 运行时，并且可以调试 Javascript、TypeScript 和任何其他 JavaScript 支持的语言。幸运的是，VSCode 有一个开源市场，我们可以在那里找到调试器扩展。我在这里写关于<a class="ae jz" href="https://github.com/weisurya/go-docker-continuous-development#use-debug-module-from-vscode" rel="noopener ugc nofollow" target="_blank">的循序渐进教程</a>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff nr"><img src="../Images/ff57bbb02ff1d428e0037c9d7c2c7763.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*CyGuDeidiG5qKBQTkq1hiA.png"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Created by using: Draw.io</figcaption></figure><p id="732b" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">上图高度概括了这种方法的工作原理。想法很简单，我们想为<a class="ae jz" href="https://github.com/go-delve/delve" rel="noopener ugc nofollow" target="_blank"> go-delve </a>做一个后门来监听容器内部的系统。在这里，我将容器暴露给另一个端口，在本例中是 1234。</p><h1 id="0291" class="mz kb hu bd kc na nb nc kg nd ne nf kk ja ng jb ko jd nh je ks jg ni jh kw nj dt translated">基于用途(基础、调试、生产)分离 Docker 映像</h1><p id="396b" class="pw-post-body-paragraph mk ml hu la b lb lc iv mn ld le iy mp kl nk mr ms kp nl mu mv kt nm mx my li hn dt translated">此外，因为我想在 Docker 中调试，所以我不想把它和我只想放在生产容器中的堆栈混在一起。所以我根据目的把 Dockerfile 文件分开了。我把每个文件的想法和用法写在<a class="ae jz" href="https://github.com/weisurya/go-docker-continuous-development#use-debug-module-from-vscode" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ns"><img src="../Images/3af507dd6b86b926263e357d63b013b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*U6iVp4lgJzcHV_Ev6HzAZw.png"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Created by using: Draw.io</figcaption></figure><p id="977f" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">上图高度概括了这种方法的工作原理。通过这种方法，我们可以确保:</p><ol class=""><li id="bf69" class="ky kz hu la b lb mm ld mo kl no kp np kt nq li lj lk ll lm dt translated">你的码头工人形象会保持小。</li><li id="101f" class="ky kz hu la b lb ln ld lo kl lp kp lq kt lr li lj lk ll lm dt translated">您只将相关的包放在每个环境中。</li><li id="cfca" class="ky kz hu la b lb ln ld lo kl lp kp lq kt lr li lj lk ll lm dt translated">您仍然保持生产和测试映像之间的标准。</li></ol><p id="4505" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">我希望这篇教程能帮助你更好地享受你在 Go 语言中的开发时光！我很高兴听到你的反馈。</p><p id="4e19" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">尽管如此，编码快乐！</p></div><div class="ab cl nt nu hc nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="hn ho hp hq hr"><p id="eaaf" class="pw-post-body-paragraph mk ml hu la b lb mm iv mn ld mo iy mp kl mq mr ms kp mt mu mv kt mw mx my li hn dt translated">Surya 在职业生活中是一名软件工程师，在个人生活中是一名技术布道者。今年，他建立了一个决议，叫做“<a class="ae jz" href="https://www.linkedin.com/pulse/learn-unlearn-keep-sharing-soen-surya-soenaryo/" rel="noopener ugc nofollow" target="_blank">学会忘却并保持分享</a>”。如果你有兴趣或者想了解他的进展，你可以访问他的个人网站<a class="ae jz" href="http://soensurya.com" rel="noopener ugc nofollow" target="_blank">soensurya.com</a>，或者<a class="ae jz" href="https://linkedin.com/in/weisurya" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>。</p></div><div class="ab cl nt nu hc nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="hn ho hp hq hr"><h1 id="4fd1" class="mz kb hu bd kc na oa nc kg nd ob nf kk ja oc jb ko jd od je ks jg oe jh kw nj dt translated">参考</h1><div class="ls lt fm fo lu lv"><a href="https://docs.docker.com/samples/library/golang/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">戈朗</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">Go (golang)是一种通用的、更高级的命令式编程语言。GitHub 报告…</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">docs.docker.com</p></div></div><div class="me l"><div class="of l mg mh mi me mj jt lv"/></div></div></a></div><div class="ls lt fm fo lu lv"><a href="https://code.visualstudio.com/docs/editor/debugging" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">Visual Studio 代码中的调试</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">Visual Studio 代码中最棒的事情之一就是调试支持。设置断点，单步执行，检查变量和…</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">code.visualstudio.com</p></div></div><div class="me l"><div class="og l mg mh mi me mj jt lv"/></div></div></a></div><div class="ls lt fm fo lu lv"><a href="https://docs.docker.com/storage/bind-mounts/#choose-the--v-or---mount-flag" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">使用绑定挂载</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">绑定挂载从 Docker 早期就已经出现了。与…相比，绑定装载的功能有限</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">docs.docker.com</p></div></div><div class="me l"><div class="oh l mg mh mi me mj jt lv"/></div></div></a></div><div class="ls lt fm fo lu lv"><a href="https://code.visualstudio.com/docs/languages/go" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">使用 Visual Studio 代码</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">使用 Visual Studio 代码的 Go 扩展，您可以获得像智能感知、代码导航、符号…</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">code.visualstudio.com</p></div></div><div class="me l"><div class="oi l mg mh mi me mj jt lv"/></div></div></a></div><div class="ls lt fm fo lu lv"><a href="https://docs.docker.com/engine/security/seccomp/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">Docker 的 Seccomp 安全性配置文件</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">安全计算模式(seccomp)是 Linux 内核的一个特性。您可以使用它来限制在…内可用的动作</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">docs.docker.com</p></div></div><div class="me l"><div class="oj l mg mh mi me mj jt lv"/></div></div></a></div><div class="ls lt fm fo lu lv"><a href="https://github.com/go-delve/delve/blob/master/Documentation/usage/dlv.md" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">去钻研/钻研</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">Delve 是 Go 编程语言的调试器。-去钻研/钻研</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">github.com</p></div></div><div class="me l"><div class="ok l mg mh mi me mj jt lv"/></div></div></a></div></div></div>    
</body>
</html>