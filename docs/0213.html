<html>
<head>
<title>Set Up Airbnb’s Linter (React &amp; Node)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置 Airbnb 的 Linter(反应和节点)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-simple-linter-setup-finally-d908877fa09#2019-01-09">https://medium.com/hackernoon/a-simple-linter-setup-finally-d908877fa09#2019-01-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/9df54709044eaf5e4abf7fecd1edb6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJ-9WLQQYQTzr8X2QbZ2IA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">let’s get your code squeaky clean</figcaption></figure><p id="f8bf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">linter 会标记代码中任何违反其预定义规则的内容(“样式指南”)。对于什么是“好的”JavaScript 代码，每个风格指南都有不同的看法。这个帖子用的是<a class="ae ke" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank"> Airbnb </a>的风格指南；谷歌的也很受欢迎。</p><p id="299d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">尽管一些开发者在全球范围内安装他们的 linter，这篇文章旨在通过为每个项目创建一个定制的配置来更加精确。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="6c37" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">首先，让我们设置 ESLint(最流行的 linter 工具之一)。幸运的是，ESLint 内置了一个神奇的工具！🎩</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="6c88" class="kv kw hu kr b fv kx ky l kz la">$ cd PROJECT<br/>$ npx eslint --init</span></pre><p id="5f51" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这将询问一系列关于您想要的设置的问题。我的选择:</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="dc59" class="kv kw hu kr b fv kx ky l kz la">"To check syntax, find problems, and enforce code style"<br/>(if React, "JavaScript, if Node "CommonJS"<br/>(if React, "React")<br/>(if React, "Browser", if Node "Node")<br/>Use a popular style guide<br/>Airbnb<br/>JavaScript<br/>Yes</span></pre><h2 id="2b1b" class="kv kw hu bd lb lc ld le lf lg lh li lj jr lk ll lm jv ln lo lp jz lq lr ls lt dt translated">我用的是 yarn，为什么它创建了一个<code class="eh lu lv lw kr b">package-lock.json</code>文件！？😡</h2><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="4b6a" class="kv kw hu kr b fv kx ky l kz la">$ rm package-lock.json<br/>$ yarn install</span></pre><blockquote class="lx"><p id="68e7" class="ly lz hu bd ma mb mc md me mf mg kd ek translated">如果您使用了 Create React 应用程序，请跳到⚛️</p></blockquote><h2 id="6263" class="kv kw hu bd lb lc mh le lf lg mi li lj jr mj ll lm jv mk lo lp jz ml lr ls lt dt translated">我该怎么操作这个东西？🤔</h2><p id="027f" class="pw-post-body-paragraph jg jh hu ji b jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd hn dt translated">将<code class="eh lu lv lw kr b">eslint . &amp;&amp;</code>添加到<code class="eh lu lv lw kr b">test</code>脚本的开头(即<code class="eh lu lv lw kr b">package.json</code>中的<code class="eh lu lv lw kr b">eslint . &amp;&amp; mocha)</code>)。这将在您每次运行<code class="eh lu lv lw kr b">npm test</code>时运行<code class="eh lu lv lw kr b">eslint</code>(在命令行上)。或者，如果你想将<code class="eh lu lv lw kr b">eslint .</code>与<code class="eh lu lv lw kr b">test</code>分开，只需编写一个运行<code class="eh lu lv lw kr b">eslint .</code>的<code class="eh lu lv lw kr b">lint</code>脚本。您应该在根目录下运行这两个脚本，这样它就链接到了您的整个项目。</p><h2 id="5312" class="kv kw hu bd lb lc ld le lf lg lh li lj jr lk ll lm jv ln lo lp jz lq lr ls lt dt translated">我的测试文件有这么多错误！😕</h2><p id="4db4" class="pw-post-body-paragraph jg jh hu ji b jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd hn dt translated">只需将<code class="eh lu lv lw kr b">mocha</code>(或者另一个测试框架)添加到您的<code class="eh lu lv lw kr b">.eslintrc.js</code>中:</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="2439" class="kv kw hu kr b fv kx ky l kz la">{<br/>  "env": {<br/>    "mocha": true<br/>  }<br/>}</span></pre><h1 id="57ed" class="mr kw hu bd lb ms mt mu lf mv mw mx lj my mz na lm nb nc nd lp ne nf ng ls nh dt translated">⚛️创建 React 应用</h1><p id="aeb7" class="pw-post-body-paragraph jg jh hu ji b jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd hn dt translated">CRA 内置了 ESLint，但它是有意宽容的(不警告<code class="eh lu lv lw kr b">console.log</code>、分号等)。).但是我们什么也不怕，让我们把这些“垃圾”从我们的项目中清理出来。💪</p><h2 id="8d86" class="kv kw hu bd lb lc ld le lf lg lh li lj jr lk ll lm jv ln lo lp jz lq lr ls lt dt translated">我的 React 应用程序中有这么多错误！？😰</h2><p id="3617" class="pw-post-body-paragraph jg jh hu ji b jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz mq kb kc kd hn dt translated">1.告诉<code class="eh lu lv lw kr b">eslint</code>忽略<code class="eh lu lv lw kr b">serviceWorker.js</code></p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="2f7c" class="kv kw hu kr b fv kx ky l kz la">$ echo src/serviceWorker.js &gt; .eslintignore</span></pre><p id="09cc" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">2.将<code class="eh lu lv lw kr b">jest</code>和<code class="eh lu lv lw kr b">babel-eslint</code>添加到您的。<code class="eh lu lv lw kr b">eslintrc.js</code>:</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="c874" class="kv kw hu kr b fv kx ky l kz la">{<br/>  parser: 'babel-eslint',<br/>  env: {<br/>    jest: true,<br/>  }   <br/>}</span></pre><p id="08dd" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">3.将所有<code class="eh lu lv lw kr b">jsx</code>文件更改为扩展名为<code class="eh lu lv lw kr b">.jsx</code>的文件</p><p id="5884" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">4.给你的<code class="eh lu lv lw kr b">package.json</code>添加一个<code class="eh lu lv lw kr b">lint</code>脚本，告诉<code class="eh lu lv lw kr b">eslint</code>除了查看<code class="eh lu lv lw kr b">.js</code>文件之外，还要查看<code class="eh lu lv lw kr b">.jsx</code>文件:</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="6cfc" class="kv kw hu kr b fv kx ky l kz la">"lint": "eslint --ext .js,.jsx ."</span></pre><p id="e676" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在你可以运行<code class="eh lu lv lw kr b">eslint</code>的自动修复了:</p><pre class="km kn ko kp fq kq kr ks kt aw ku dt"><span id="8cc4" class="kv kw hu kr b fv kx ky l kz la">$ yarn lint --fix</span></pre><p id="a1ea" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">从命令行(在根目录中)使用<code class="eh lu lv lw kr b">$ yarn lint</code>或<code class="eh lu lv lw kr b">$ npm run lint</code>来<code class="eh lu lv lw kr b">lint</code>你的应用程序。CRA 的内置 linter 功能仍然相同，在运行应用程序时会出现在控制台和终端中。</p><blockquote class="lx"><p id="2353" class="ly lz hu bd ma mb ni nj nk nl nm kd ek translated">相关:<a class="ae ke" href="https://hackernoon.com/set-up-eslint-in-atom-83dfb3d34fdf" rel="noopener ugc nofollow" target="_blank">在 Atom 中设置 ESLint 的说明</a>，这样你就可以直接在你的文本编辑器中看到警告</p></blockquote><p id="b886" class="pw-post-body-paragraph jg jh hu ji b jj nn jl jm jn no jp jq jr np jt ju jv nq jx jy jz nr kb kc kd hn dt translated">这有用吗？你被卡住了吗？让我知道！✌️</p></div></div>    
</body>
</html>