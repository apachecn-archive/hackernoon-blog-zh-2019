<html>
<head>
<title>Code a Loading Animation with CADisplayLink in Swift &amp; Xcode without CocoaPods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift和Xcode中使用CADisplayLink编码加载动画，而不使用CocoaPods</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/code-a-loading-animation-with-cadisplaylink-in-swift-xcode-without-cocoapods-12ad88283be6?source=collection_archive---------14-----------------------#2019-06-03">https://medium.com/hackernoon/code-a-loading-animation-with-cadisplaylink-in-swift-xcode-without-cocoapods-12ad88283be6?source=collection_archive---------14-----------------------#2019-06-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3b92" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">使用CADisplayLink为您的iOS应用程序创建dope加载动画。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/9a08148892bd7bd9243f42d60942669b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gV7nPU6tzb5ps8tnDypYLA.png"/></div></div></figure><p id="227c" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我叫Max，我跑<em class="kc"/><a class="ae kd" href="https://www.maxcodes.io" rel="noopener ugc nofollow" target="_blank"><strong class="iu hv"><em class="kc">maxcodes . io</em></strong></a><strong class="iu hv">。很高兴终于见到你了。</strong></p><p id="d1a7" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我在这里录制了一个关于这个主题的视频。  </p><h1 id="d5ba" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第一步。创建一个圆圈</h1><p id="7839" class="pw-post-body-paragraph is it hu iu b iv lc ix iy iz ld jb jc jd le jf jg jh lf jj jk jl lg jn jo jp hn dt translated">创建一个视图，用下面几行代码约束屏幕上的垃圾内容。</p><div class="jr js jt ju fq ab cb"><figure class="lh jv li lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/f64e74b7767c7c4fdcb91ba324d4ded5.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*DgCITlQbJNi6jwSKBBDCiw.png"/></div></figure><figure class="lh jv ln lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/1bd19cdbda1a3ce55d5d3df052d272dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1566/format:webp/1*Czcrw0H_ANRajibXfaIAsg.png"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek ls di lt lu">the following lines of code.</figcaption></figure></div><h1 id="b534" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第二步。创建CADisplayLink实例</h1><ul class=""><li id="ad5d" class="lv lw hu iu b iv lc iz ld jd lx jh ly jl lz jp ma mb mc md dt translated">在我解释之前，声明CADisplayLink的一个实例，并用下面几行代码将其附加到一个方法。</li><li id="5e66" class="lv lw hu iu b iv me iz mf jd mg jh mh jl mi jp ma mb mc md dt translated">创建一个值CGFloat变量，我们可以使用它在每次帧更新时修改视图的alpha或不透明度。</li><li id="a692" class="lv lw hu iu b iv me iz mf jd mg jh mh jl mi jp ma mb mc md dt translated">将值增加1并打印除以100的值。您应该会看到这样的输出，它会一直持续下去。</li></ul><p id="ee63" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated"><a class="ae kd" href="https://www.udemy.com/coreanimation/?couponCode=THEPROFESSIONAL" rel="noopener ugc nofollow" target="_blank"> <strong class="iu hv"> <em class="kc">我在这里找到的最新课程中使用了很多CADisplayLink。</em> </strong> </a></p><p id="f508" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们在这里所做的是向设备上的主线程添加一个CADisplayLink，它将与显示器的刷新率同步。你可以在CADisplayLink上的<a class="ae kd" href="https://developer.apple.com/documentation/quartzcore/cadisplaylink" rel="noopener ugc nofollow" target="_blank">苹果开发者文档中阅读所有相关内容。</a></p><div class="jr js jt ju fq ab cb"><figure class="lh jv mj lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/b3040ae00e2026a756aa88597c7816ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1654/format:webp/1*6PTDVGZnDFVh9j7OAPLB-g.png"/></div></figure><figure class="lh jv mk lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/e6c64b49b935d4bb749ee2577c98627c.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*my9NGFa-yWB-9bKQBo43Ug.png"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek ml di mm lu">yes, these are the following lines of code. The output is pictured on the right.</figcaption></figure></div><h1 id="5751" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第三步——制作动画。</h1><p id="42fe" class="pw-post-body-paragraph is it hu iu b iv lc ix iy iz ld jb jc jd le jf jg jh lf jj jk jl lg jn jo jp hn dt translated">想想我们在这里能做什么。在一段时间内，这个值从0到1。</p><p id="e5aa" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们可以在设置颜色时应用，或者将这个值传递给UIColor上的<strong class="iu hv"><em class="kc">with alpha component</em></strong>方法。这将允许我们慢慢淡化任何给定的颜色。</p><p id="b7f6" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">您可以用一行代码淡入颜色，这一行代码包含在下面的代码图像中的蓝色框内。</p><p id="a09c" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">但是，如果你想让它来回褪色，你需要应用一些基本的逻辑，我在这里找到的这篇文章的<a class="ae kd" href="https://youtu.be/iHeeOULNdFA" rel="noopener ugc nofollow" target="_blank"> <strong class="iu hv"> <em class="kc">视频版本中100%免费解释这些逻辑。</em>T34</strong></a></p><div class="jr js jt ju fq ab cb"><figure class="lh jv mn lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/c6aeb10a0654c173bcd7eae2b36681be.png" data-original-src="https://miro.medium.com/v2/resize:fit:286/1*LJui5TWP8IIP4d2y8MvAlg.gif"/></div></figure><figure class="lh jv mo lj lk ll lm paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/e2e16fa18575f5cf4b20c557fa3027ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1716/format:webp/1*2MOdUX_7UKJzksX60GP0tw.png"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek mp di mq lu">ahh yes, the following lines of code; with output on the left of course.</figcaption></figure></div><h1 id="9e46" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第4步—输出如上图gif所示。</h1><p id="cf52" class="pw-post-body-paragraph is it hu iu b iv lc ix iy iz ld jb jc jd le jf jg jh lf jj jk jl lg jn jo jp hn dt translated">好了，我们完成了，但是<strong class="iu hv">什么</strong> <em class="kc">是</em>步骤4？步骤4是可选的。如果你想使用<strong class="iu hv"> CADisplayLink </strong>以及类似<a class="ae kd" href="https://www.udemy.com/coreanimation/?couponCode=THEPROFESSIONAL" rel="noopener ugc nofollow" target="_blank"><strong class="iu hv"><em class="kc">cashaplayer、UIBezierPath、cabasicamation</em></strong></a>等类从头到尾创建复杂的动画，那么你会想参加<a class="ae kd" href="https://www.udemy.com/coreanimation/?couponCode=THEPROFESSIONAL" rel="noopener ugc nofollow" target="_blank">我的最新课程</a>、<a class="ae kd" href="https://www.udemy.com/coreanimation/?couponCode=THEPROFESSIONAL" rel="noopener ugc nofollow" target="_blank"><strong class="iu hv"><em class="kc">iOS开发动画课程——Swift 5&amp;Xcode 10</em></strong></a></p><h1 id="d58b" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">谢了，老兄。</h1><p id="4c20" class="pw-post-body-paragraph is it hu iu b iv lc ix iy iz ld jb jc jd le jf jg jh lf jj jk jl lg jn jo jp hn dt translated">我真的很感谢那些观看我的视频，阅读我的文章，参加我的课程的人。</p><p id="00b2" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">为了听到第一个<strong class="iu hv">新的文章公告、课程、YouTube系列和视频博客，</strong>一定要看看我的网站<a class="ae kd" href="http://maxcodes.io" rel="noopener ugc nofollow" target="_blank"> <strong class="iu hv">加入开发人员名单。</strong>T25】</a></p><p id="9e3c" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">谢谢，</p><p id="3dd6" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">一如既往，我们将在下一段视频中再见。T29】</p><p id="dbf0" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated"><strong class="iu hv"><em class="kc">-最大</em> </strong></p></div></div>    
</body>
</html>