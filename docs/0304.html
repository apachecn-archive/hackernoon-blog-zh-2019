<html>
<head>
<title>Getting Started with Salesforce DX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Salesforce DX入门</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/getting-started-with-salesforce-dx-5e28e0d7d318?source=collection_archive---------19-----------------------#2019-01-12">https://medium.com/hackernoon/getting-started-with-salesforce-dx-5e28e0d7d318?source=collection_archive---------19-----------------------#2019-01-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/ba928ad721d82c971dd09ed2805a10a7.png" data-original-src="https://miro.medium.com/v2/format:webp/1*r_-2Fd251fWJl1zmrf1cZA.jpeg"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek"><a class="ae jc" href="http://dazeworks.com/wp-content/uploads/2017/05/Salesforce-dx.jpg" rel="noopener ugc nofollow" target="_blank">Credit</a></figcaption></figure><p id="67d9" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Salesforce DX是新的开发环境，最终将取代基于Eclipse的Salesforce EDI。最近，Salesforce宣布他们将不再为Salesforce EDI发布任何新功能。虽然他们在2019年10月12日之前仍将支持它，但所有新功能都将针对Salesforce DX发布。</p><blockquote class="kb kc kd"><p id="e5f2" class="jd je ke jf b jg jh ji jj jk jl jm jn kf jp jq jr kg jt ju jv kh jx jy jz ka hn dt translated"><strong class="jf hv">2019年10月12日，我们将不再向Force.com IDE</strong>提供任何形式的支持或更新。</p></blockquote><p id="cdf7" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">话虽如此，Salesforce DX代表Salesforce开发者体验，只是跟随Salesforce为其平台选择的趋势。他们希望跟上最新的趋势和开发环境，而不是排外和非常孤立。以前，您必须在内置的开发人员控制台或Salesforce EDI之间进行选择。与其他解决方案相比，这两种方案都不理想，而且非常过时。是的，有第三方解决方案，如Welkin Suite，利用了Salesforce API，但我不相信这些解决方案真的100%好于我的JavaScript开发环境。</p><p id="5cce" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Salesforce DX利用了非常流行的开源编辑器Visual Studio代码，并专门为该平台发布了所有附加组件(截至目前)。因此，如果您想进行开发，需要使用Visual Studio代码进行Salesforce开发的两个附加组件。他们提供APEX语法支持和各种API集成来管理您的项目。</p><p id="2a18" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">此外，Salesforce希望确保您将开发工作与Git，特别是GitHub集成在一起。这允许您跟踪代码中的任何更改，并将代码片段追溯到特定的时间点和开发人员。如果您熟悉GitHub，您很可能熟悉分支和拉请求的概念，它们允许您在不影响主(主分支)代码的情况下同时开发各种功能。从那里，您可以在单独的实例上部署这些版本，并相应地测试它们。</p><p id="2de1" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">通过允许开发人员利用临时组织，Salesforce允许非常类似的行为。您已经熟悉了沙箱，沙箱用于开发和测试目的。Scratch Org基本上是一个开发环境，允许开发人员轻松地推拉位于不同分支的代码。所以可以在发布测试前独立开发。此外，新发布的Salesforce CLI允许您管理这些临时组织并从终端登录。这使得管理您的凭据变得简单了10倍。一旦设置好了，您就可以在任何时间点推送和拉取代码以及登录，而无需记住您登录的具体组织。</p><p id="de1a" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">我们真诚地相信，Salesforce DX是Salesforce朝着正确方向迈出的辉煌一步，展示了Salesforce的智慧。</p><p id="df30" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在开始使用Salesforce DX之前，您需要为您所在的组织启用开发中心。这在常规设置下非常友好，只需点击一个按钮就可以轻松启用。</p><p id="c477" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在那里，您必须安装Salesforce CLI。你可以通过软件包(<a class="ae jc" href="https://developer.salesforce.com/tools/sfdxcli" rel="noopener ugc nofollow" target="_blank">点击这里</a>)或者npm ( <a class="ae jc" href="https://developer.salesforce.com/docs/atlas.en-us.sfdx_setup.meta/sfdx_setup/sfdx_setup_install_cli.htm" rel="noopener ugc nofollow" target="_blank">点击这里</a>)来安装。对于npm，请在终端中输入以下内容:</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="666e" class="kr ks hu kn b fv kt ku l kv kw">npm install sfdx-cli --global</span></pre><p id="c5de" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">现在您已经安装了Salesforce CLI，您可以利用以下命令:</p><figure class="ki kj kk kl fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/3a1e554a211216456e804d243883dfad.png" data-original-src="https://miro.medium.com/v2/format:webp/1*YO5oaIIv7cWoycfzerE5Mg.png"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">sfdx force — help shows you all available force commands</figcaption></figure><p id="88fd" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">此外，您还可以在这里查找官方文档或运行:</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="987d" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:doc:commands:list</span></pre><p id="14b9" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在任何给定的时间，你可以很容易地添加<code class="eh kx ky kz kn b">— help </code>来获得一些关于可用选项的指导。尤其是在开始时，您会发现这特别有用，因为有太多的CLI命令。</p><p id="b83f" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">从这里，您将创建一个新的文件夹来存储和管理您的所有源代码。</p><p id="2569" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">要开始，您必须维护您的Salesforce联系。我从我的生产环境开始，以获得初始状态和通过Salesforce DX进行实际开发所需的所有依赖关系。</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="b8e8" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:auth:web:login --setalias my-hub-org --instanceurl url</span></pre><p id="ae02" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在开始开发之前，将正确的源连接到您的CLI会将您带到下一步。</p><p id="2c6d" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在设置中，创建一个新的包，并包含当前组织副本所需的所有依赖项和自定义字段。当您希望以后创建临时组织时，这是必需的，因为临时组织不包括您在系统中完成的所有定制。这也是与常规沙盒的第一个主要区别，常规沙盒通常包括您应用于Salesforce环境的所有自定义。</p><p id="81c4" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">由于不包含任何定制，请确保在您的依赖项中也包含来自App Exchange的所有受管软件包。否则，您将会遇到错误，因为这些错误不会自动包含在内。</p><p id="de43" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">一旦你创建了你的包，释放它，下载全部内容并解压。这将允许您将其转换为Salesforce DX项目。</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="2a5f" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:mdapi:retrieve -s -r ./mdapipkg -u [your_username] -p<br/>unzip ./mdapipkg/unpackaged.zip -d ./mdapipkg/</span></pre><p id="3530" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">现在您已经捆绑了所有自定义并将其导出，只需在Salesforce CLI中运行以下命令，它将被转换为Salesforce DX兼容项目，您可以使用该项目进行进一步开发。</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="bf3b" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:mdapi:convert -r ./mdapipkg</span></pre><p id="d9ab" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">我们叙叙旧吧。我们安装了Salesforce CLI，连接到您首选的Salesforce组织，捆绑了所有定制，定义了依赖关系，并将其全部转换为Salesforce DX兼容项目。</p><p id="f327" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">相当酷——到目前为止，使用Salesforce DX似乎非常广泛，但我保证，一旦您完成此设置，它将变得容易得多，并且您将欣赏Salesforce DX的易用性(再次强调，如果您来自JavasScript开发领域，这在您看来仍然很疯狂:)</p><p id="b09e" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">建立一个新的临时组织并上传您的完整项目。这将创建一个开发者沙箱。现在，您可以轻松地修改现有代码并添加新功能。此外，从现在开始，一切都与典型的git推/拉结构一起工作。</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="25a8" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:org:create -f project-scratch-def.json -a [ScratchOrgName]</span></pre><p id="7331" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">要将您的Salesforce DX软件包推送至新创建的临时组织，您可以使用常规推送命令:</p><pre class="ki kj kk kl fq km kn ko kp aw kq dt"><span id="5a25" class="kr ks hu kn b fv kt ku l kv kw">sfdx force:source:push -u [ScratchOrgName]</span></pre><blockquote class="kb kc kd"><p id="d4ec" class="jd je ke jf b jg jh ji jj jk jl jm jn kf jp jq jr kg jt ju jv kh jx jy jz ka hn dt translated">我陷入了困境，想知道为什么我最近的改变至少30分钟都没有进入scratch org。</p></blockquote><p id="8c54" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">假设您遇到一个错误，您正在使用一个尚不存在的自定义字段，但您只是跳过了错误消息。除非您修改文件并再次推送，否则它不会再次向您显示错误信息。话虽如此，当您推进您的更改时，阅读所有错误消息(如果有)是非常重要的。很多时候，我很难弄清楚发生了什么，为什么我修改的文件没有上传到org。</p><p id="2dc7" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">原因是在没有修改实际文件的情况下再次尝试推送时，出现了一个被忽略的错误。我认为这是当前版本的一个缺陷，希望将来他们会改进。</p></div><div class="ab cl la lb hc lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hn ho hp hq hr"><p id="eca6" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">注册订阅我们的时事通讯！</p><p id="7d3e" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated"><a class="ae jc" href="https://www.syntx.io/?utm_source=Medium&amp;utm_campaign=Getting_Started_Salesforce_DX" rel="noopener ugc nofollow" target="_blank"> Syntx.io </a> |构建更好的React解决方案|成功保证咨询</p></div></div>    
</body>
</html>