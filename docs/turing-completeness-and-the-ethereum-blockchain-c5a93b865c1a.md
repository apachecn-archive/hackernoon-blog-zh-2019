# 图灵完备性和以太坊区块链

> 原文：<https://medium.com/hackernoon/turing-completeness-and-the-ethereum-blockchain-c5a93b865c1a>

大约一周以来，我一直在阅读关于图灵机的书籍，并慢慢将这个概念扩展到[区块链](https://hackernoon.com/tagged/blockchain)的世界。主要是区块链以太坊。在对这个问题有了足够的了解后，我决定说出我的想法。

*让我来描述一下这篇文章的范围，这样你就知道你在做什么了。*

我将首先对图灵机做一个简单的介绍，然后讨论丘奇-图灵论题。我会触及乔姆斯基的等级制度。(只是一点点)我将通过一个例子来讨论 I/O 图灵机的基本原理，并伴随一些基础数学。

在这之后，我们将会看到以太坊区块链是如何不完全图灵完成的，以及为什么它在今天还是初级的。我们将会看到，就以太气的概念而言，图灵完备性对以太区块链有什么影响。我们将复习 Vyper 语言的基础知识。然后，我们将看到真正的图灵机可以在什么场景下改变智能合同(这一节包含未来主义的谈话)。

*出于显而易见的原因，我会尽量让我的语言简单。*

*喝一杯浓浓的过滤咖啡是享受这篇文章的最佳选择。如果你不知道什么是过滤咖啡，那么你就错过了生活，我的朋友。*

# **艾伦·m·图灵和他的图灵机**

图灵机的想法是大约 83 年前，即 1936 年，由英国计算机科学家艾伦·m·图灵提出的。当时正是大英帝国的鼎盛时期，所以图灵的早期教育有一部分是在印度。图灵的所有贡献在英国都不受尊重，因为他是同性恋，尽管他在二战期间破解了“牢不可破”的德国恩尼格玛密码。他死后才声名鹊起，成为计算机科学和人工智能的创始人。图灵默默无闻地死去，身无分文，性无能。这就是生活吗？

![](img/06855ed3dd0e2f2005de61ef2d99b8e0.png)

Source: [https://simple.wikipedia.org/](https://simple.wikipedia.org/wiki/Turing_machine)

图灵机是一个理论上的、抽象的想法，它可以模拟任何可以逻辑构造的算法。这意味着图灵机可以解决**任何**问题，只要它能被编码出来。这里特别强调了单词 **any** 。当然不能保证解决问题需要多少时间，但肯定会解决问题。因此，解决一个问题可能需要一秒钟、一分钟、一生或整整一代人的时间。

> 但是你不用担心，你的问题迟早会解决的！

## 图灵机的构造

拿一条无限长的带子(带子的长度取决于输入的长度、预期的输出和要解决的问题的复杂性)。带子被分成离散的单元。带子上会有无限个细胞。这种机器有一个指针或磁头，可以在磁带上左右移动。磁头还具有擦除单元上的数据和写入新数据的能力。

![](img/941288af61f79588dc51942374f57280.png)

要从磁带中删除的所有内容和要添加到磁带中的所有内容都由用户描述的指令控制。

当图灵机启动时，写在磁带上的任何东西都是输入。当图灵机在完成问题后停止时，写在磁带上的任何东西都是输出。

为了计算一个给定问题的解，图灵机可以在磁带上无限长时间地读写。任何资源都是没有边界的，比如时间、记忆等等。

每个单元格都有一个由用户描述的指令控制的相关状态。当事件发生时，单元的状态改变。当状态改变时，单元上的值可能被重写。

图灵机上的映射如下:

![](img/0e167bc5e05cfd76e8fa5de10e4b2cb8.png)

在哪里，

𝛿是一个函数。

**问**是当前状态

**a** 是单元格上的值

P 是新的状态

**A** 是单元格上的新值

**R** 表示机头将向右移动

**L** 表示头部向左移动

## 丘奇-图灵论题或可计算性论题

这篇论文说，任何可以被称为有效过程的东西都可以通过图灵机来实现。

过程与算法略有不同。一个算法迟早总会进入停顿状态。一个过程可能停止，也可能不停止，它可以永远继续下去。

有些函数甚至不能用图灵机来计算。例如，与现代计算机相比，量子计算机可以在更短的时间内模拟程序。相比之下，存在普通计算机无法解决的问题，例如停机问题。根据丘奇-图灵论文，没有任何计算设备可以回答这样的问题。

在[可计算性理论](https://en.wikipedia.org/wiki/Computability_theory_(computer_science))中，**暂停问题**是根据任意[计算机程序](https://en.wikipedia.org/wiki/Computer_program)的描述和输入来确定程序是将结束运行(即暂停)还是永远继续运行的问题。来源:维基百科。

## 乔姆斯基等级制度

根据乔姆斯基的观点，有 4 种语言类型是基于可用性的自由度来区分的。类型 0 是最灵活、最自由的语言，类型 3 是最受限制的语言。

图灵机中使用的语言属于 0 类，因为程序员拥有世界上所有的灵活性来编写他们想写的任何程序。今天的大多数语言都是图灵全集或者 0 型语言，比如 C++，Java，JavaScript，Solidty，Pascal 等等。今天几乎所有的语言都是图灵完备的。唯一没有完成图灵的语言是标记语言。

# 作为输入输出设备的图灵机

让我们在图灵机上解决一个问题。

**问题陈述:**检查字符串中 1 的个数是偶数还是奇数。

让我们拿一根无限长的带子，带子上有一根随机的线。放开绳子

**0 1 0 1 0**。其他单元格是空白的。

![](img/cd984c88480f7407702854217a7ebd47.png)

如果 1 的数量是奇数，图灵机应该打印“0 ”,如果 1 的数量是偶数，应该打印“e”。

控制机器行为的规则如下:

![](img/9157a3ed4ebf4475760e8440ac69036a.png)

机器的初始状态是 q0。

由于头部位于字符串的开头，因此映射如下:

![](img/e6c840577c7b6f41231aa1d74984bbd2.png)

图灵机现在会是这个样子:

![](img/336142526e96e4bd40df97ac8a2c3abf.png)

**这是因为第一个单元格的数据是 0。只有当机头遇到 1 时，状态才会改变。**

下一次映射:

![](img/005205f8aa7f22ac18deea6d6533a01f.png)

图灵机现在会是这个样子:

![](img/41bbd991810be844480058b27110f967.png)

下一次映射:

![](img/78d9a044f19a419d7e6612dd54c3a303.png)

图灵机现在会是这个样子:

![](img/2772c3337bd1fece81041e72f8eb426e.png)

下一次映射:

![](img/c4512ee858d5e716364c534ea9c4432f.png)

图灵机现在会是这个样子:

![](img/19b8efc7dd79d3611c7d7474a760b5cb.png)

下一次映射:

![](img/2c2330303eff355c523c749ccc04977c.png)

图灵机现在会是这个样子:

![](img/5ae48ee0fb03955a047dbfe21475ec64.png)

下一次映射:

![](img/890f2e61bf3d395484d7a57c5abfa919.png)

图灵机现在会是这个样子:

![](img/e51c0394b01b1ad3a453f2fc9dfb0d12.png)

下一次映射:

![](img/fd824bbd4afffe304a05154472a84dfd.png)

h 是停止状态。这意味着机器在遇到空白时已经停止。头部不会左右移动，所以有一个-。

图灵机现在会是这个样子:

![](img/7eee6756de0e1138257196a7c4a3f149.png)

由于机器在 q1 状态停止，所以 1 的数量为奇数。如果机器在 q0 状态停止，那么 1 的数量将是偶数。

请注意，在遇到的第一个空白处印上“o”。

这就是图灵机是一个输入输出设备的原因。

我希望这给你一个什么是图灵机的要点。在下一节，我们将探讨图灵机对以太坊区块链的影响。

> 让我们看看以太坊区块链实际上并不是图灵完全。

对于不知道以太坊**气**概念的人。这将在文章中大量使用。这里有一个基本的定义:

> G as 是用于衡量以太坊区块链运营成本的计量单位。gas 的概念存在是为了将运行一个操作的计算成本(操作码)与以太坊的市场价值(目前非常不稳定)分开。

## 因此，即使 1 个 ETH = 10，000 美元或 1 个 ETH = 1 美元，在汽油中添加 2 个数字的成本总是相同的。

以太坊区块链上的每个区块都有**区块气体限制**。这是可以消耗的最大气体量。

2019 年 2 月 14 日下午 3:10，气限 8000029 气，气价 5.1 gwei。在 ethstats.net 的[可以很容易地找到这些信息。这是一个非常酷的网站。](https://ethstats.net)

**实施这些限制是为了保护区块链免受 DDoS 攻击。**

如果您想转换单位时间消耗的气体，您可以查看 [ethgasstation.info](https://ethgasstation.info) 进行转换。

实际上，以太坊区块链上的任何 I/O 都有两个限制。这些是气体成本和阻塞气体限制。

而且，我们知道一台真正的图灵机可以使用无限的资源，气体的概念阻止了以太坊区块链真正的图灵完全。

# 这完全没问题！因为…

今天，我们并不真正需要图灵完备性，因为当今的智能契约非常平凡。他们解决非常基本的事情，如转移资金，改变所有权，也许增加两个数字。仅此而已！真的。这里没有任何新奇的事情发生。

我来告诉你什么是幻想。

花哨的是:

1.使用从分散电网购买的电力为太阳能电池板供电，为热水器供电。

2.你的智能汽车与路上的其他智能汽车互动，当你的汽车以加密方式支付其他智能汽车时，这些汽车将为你扫清道路。

3.如果你喝了太多的酒，你的智能汽车就不会点火。酒精消耗量可以用智能传感器记录下来。

让你的想象力自由驰骋。你会想象的事情；它们被归类为花式。

这东西很奇特，因为它处理的是自主智能。对于这种情况，我们需要非常复杂的智能合同，这种合同将运行比当前区块气限制更高的气价。这就是未来。未来不是 P2P，而是 M2M。这就是我们需要图灵完备性的地方。

# 虽然，权力越大，责任越大！

Solidity 是以太坊智能合约的图灵完整语言，它为智能合约开发者提供了很大的灵活性。智能合同只能在区块链上部署一次。如果出了什么小差错，后果可能是灾难性的。

黑客可以在 EVM 上运行任何用 solidity 编写的算法来创造未经授权的效果。由于气体限制，大部分都将被阻止，但损害仍然无法挽回。当然，运行任意代码是危险的！例如，银行应用程序中可能存在缓冲区溢出，使得黑客能够更改他们的余额。这种漏洞的出现是因为坚固性给了黑客这样的自由。

当前的 ERC20 令牌不能安全且廉价地处理超高效、高吞吐量的处理，以在没有人工干预和监督的情况下执行复杂的 M2M 交互。

这就是为什么有些人说稳健不是智能合约的正确选择。我们需要更安全、可审计的东西。这就是 Vyper 的用武之地。一个基本的例子就是在以太坊区块链上存储健康数据。稳健可能不是最好的语言。Vyper 肯定是。

如果你想创建超级安全的智能合约，那就选择 Vyper 吧。

不要误会，语言的可靠性是图灵完备的，但“世界计算机”EVM 不是。

Vyper 语言不是图灵完整的，Solidity 才是。同时，用 Vyper 编写的程序总会有一个可预测的输出。用 Solidity 编写的程序在部署和执行之前不会有可预测的输出。

在 Vyper 中，外行人编写的语言的简单性和可读性比图灵完全语言的自由和灵活性更重要。

## Vyper 不支持以下功能:

1.修饰语

2.类继承

3.内嵌汇编

4.函数重载

5.运算符重载

6.递归调用

7.无限长循环

8.二元定点

> 一个有趣的事实，在 Python 0.3 + 0.3 + 0 中，3 + 0.1 不等于 1。

![](img/228eb1556352cb6da979101156437f4f.png)

# 回来了…

所以，这里有安全和自由之间的权衡。更少的功能、更多的可审核性和更多的安全性。更多的功能，更少的可审计性和更少的安全性。

## Vyper 的开发者自己说—

> 为了提高安全性，如果认为合适，会故意禁止事情或使事情变得更难。

不要误解我。Vyper 不是用来取代 Solidity 的。它是为了提高安全性而创建的。最近的一项研究发现，3000 多份易受攻击的合同包含安全缺陷。

既然我们在谈论区块链，那就让我们花点时间来回忆一下[比特币](https://hackernoon.com/tagged/bitcoin)区块链。比特币脚本语言还没有完成。该脚本只执行一个功能:将资金从一个帐户转移到另一个帐户。所以不需要图灵完全性。所以比特币脚本的行为空间是可预测的，而不是可靠的。

我想借此最后的机会再次强调智能合约的未来。我们中的一些人可能会说自主机器相互交互“太花哨了”。但是我不骗你，也许当你成为祖父母的时候，你会惊讶地发现，事实上，这将成为现实。你想成为那些不懂技术的老人吗？我想这里的答案是否定的。所以，不要给这些想法贴上“幻想”的标签，开始为这些未来的想法做贡献吧！谁在乎我们听起来是不是疯了？如果疯子喜欢思考，那就叫我疯子吧！

我已经说够了，哈哈。在下一篇文章中，我可能会向您展示如何用 Vyper 语言编写智能合同。

## 我真的希望你喜欢这个。如果你有，请鼓掌支持这些“疯狂”的想法！