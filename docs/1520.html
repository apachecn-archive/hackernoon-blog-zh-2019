<html>
<head>
<title>How to build an Electron app using Create React App and Electron Builder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Create React App 和 Electron Builder 创建电子应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-an-electron-app-using-create-react-app-and-electron-builder-2929dab30b0b#2019-03-04">https://medium.com/hackernoon/how-to-build-an-electron-app-using-create-react-app-and-electron-builder-2929dab30b0b#2019-03-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/91df964ccb3399d335527021d0110f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*IpAfPER3-C70we-grvDtVA.jpeg"/></div></figure><p id="45e4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我最近决定开发一个桌面应用程序来下载和存档我所有的谷歌照片。我真的很担心会丢失我所有的照片。谷歌有几个选择，但他们都有自己的问题。</p><p id="ea2b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你想用这个应用程序下载并存档你所有的谷歌照片，你可以在这里下载<a class="ae jw" href="https://finbits.io/downloads/photosdownloader-0.1.1.dmg" rel="noopener ugc nofollow" target="_blank"> OSX </a>和这里<a class="ae jw" href="https://finbits.io/downloads/photosdownloader-0.1.1.exe" rel="noopener ugc nofollow" target="_blank">赢</a>。</p><p id="ced1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我决定使用电子和反应。这个堆栈真的很有趣，应用程序也很不错。</p><p id="9842" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在这篇博客中，我将分享我的设置，并讨论我遇到的一些问题。</p><p id="c000" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我在做最初的开发时利用了这些博客，<a class="ae jw" rel="noopener" href="/@kitze/️-from-react-to-an-electron-app-ready-for-production-a0468ecb1da3"> 1 </a> &amp; <a class="ae jw" href="https://medium.freecodecamp.org/building-an-electron-application-with-create-react-app-97945861647c" rel="noopener ugc nofollow" target="_blank"> 2 </a>(感谢各位)。</p><p id="9043" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">好了，让我们来学习如何使用 Create React App 构建一个电子应用程序，并使用 Electron Builder 将其打包以供分发。</p><p id="cae8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">让我们看看整个堆栈，然后开始。如果您想直接跳到<a class="ae jw" href="https://github.com/rgfindl/electron-cra-boilerplate" rel="noopener ugc nofollow" target="_blank">示例应用</a>，请随意。</p><h1 id="e8ed" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">堆栈</h1><ul class=""><li id="43c3" class="kv kw hu ja b jb kx jf ky jj kz jn la jr lb jv lc ld le lf dt translated"><a class="ae jw" href="https://electronjs.org/" rel="noopener ugc nofollow" target="_blank">电子</a></li><li id="0fc7" class="kv kw hu ja b jb lg jf lh jj li jn lj jr lk jv lc ld le lf dt translated"><a class="ae jw" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> React —创建 React 应用</a></li><li id="6f9a" class="kv kw hu ja b jb lg jf lh jj li jn lj jr lk jv lc ld le lf dt translated"><a class="ae jw" href="https://github.com/harrysolovay/rescripts" rel="noopener ugc nofollow" target="_blank">重新编写</a></li><li id="416a" class="kv kw hu ja b jb lg jf lh jj li jn lj jr lk jv lc ld le lf dt translated"><a class="ae jw" href="https://github.com/electron-userland/electron-builder" rel="noopener ugc nofollow" target="_blank">电子生成器</a></li></ul><p id="c493" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://electronjs.org/" rel="noopener ugc nofollow" target="_blank"> Electron </a>是一个使用 web 技术(如 JavaScript、HTML 和 CSS)创建本地应用程序的框架。在我们的例子中，我们将使用 React。</p><p id="2135" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">React 是用于构建用户界面的 JavaScript 库…等等。</p><p id="2ea4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为了简化 React 设置，我们将使用<a class="ae jw" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">创建 React 应用</a>。Create React App (CRA)非常棒，因为它节省了大量时间，消除了配置的麻烦。</p><p id="9a58" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">Create React App 是一款工具(由脸书的开发人员开发)，在开发 React 应用时，它会给你一个很好的开端。它为您节省了耗时的设置和配置。您只需运行一个命令，Create React App 就可以设置启动 React 项目所需的工具。</p><p id="8180" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://github.com/harrysolovay/rescripts" rel="noopener ugc nofollow" target="_blank">脚本</a>允许我们在不弹出的情况下定制 CRA 设置。</p><p id="e257" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">驱逐 CRA 是你真正想要避免的事情，因为你将不再受益于 CRA 未来的改善。</p><p id="79db" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://github.com/electron-userland/electron-builder" rel="noopener ugc nofollow" target="_blank">电子构建器</a>用于打包我们的桌面 app 进行分发。</p><h1 id="9222" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">开发设置</h1><p id="50f1" class="pw-post-body-paragraph iy iz hu ja b jb kx jd je jf ky jh ji jj ll jl jm jn lm jp jq jr ln jt ju jv hn dt translated">使用 Create React App 创建我们的新应用程序。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="aa51" class="lx jy hu lt b fv ly lz l ma mb">npx create-react-app my-app <br/>cd my-app</span></pre><p id="9335" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">添加电子。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="acbe" class="lx jy hu lt b fv ly lz l ma mb">yarn add electron electron-builder --dev</span></pre><p id="a9f7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">添加一些我们需要的开发工具。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="d92d" class="lx jy hu lt b fv ly lz l ma mb">yarn add wait-on concurrently --dev <br/>yarn add electron-is-dev</span></pre><p id="79a3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">用以下内容创建一个新文件<code class="eh mc md me lt b">public/electron.js</code>。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="8287" class="lx jy hu lt b fv ly lz l ma mb">const electron = require('electron');<br/>const app = electron.app;<br/>const BrowserWindow = electron.BrowserWindow;<br/><br/>const path = require('path');<br/>const isDev = require('electron-is-dev');<br/><br/>let mainWindow;<br/><br/>function createWindow() {<br/>  mainWindow = new BrowserWindow({width: 900, height: 680});<br/>  mainWindow.loadURL(isDev ? '<a class="ae jw" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a>' : `file://${path.join(__dirname, '../build/index.html')}`);<br/>  if (isDev) {<br/>    // Open the DevTools.<br/>    //BrowserWindow.addDevToolsExtension('&lt;location to your react chrome extension&gt;');<br/>    mainWindow.webContents.openDevTools();<br/>  }<br/>  mainWindow.on('closed', () =&gt; mainWindow = null);<br/>}<br/><br/>app.on('ready', createWindow);<br/><br/>app.on('window-all-closed', () =&gt; {<br/>  if (process.platform !== 'darwin') {<br/>    app.quit();<br/>  }<br/>});<br/><br/>app.on('activate', () =&gt; {<br/>  if (mainWindow === null) {<br/>    createWindow();<br/>  }<br/>});</span></pre><p id="dd3a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将以下命令添加到 package.json <code class="eh mc md me lt b">scripts</code>标记中。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="f2c6" class="lx jy hu lt b fv ly lz l ma mb">"electron-dev": "concurrently \"BROWSER=none yarn start\" \"wait-on http://localhost:3000 &amp;&amp; electron .\""</span></pre><p id="5c88" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这个脚本将一直等到 CRA 在 localhost:3000 上运行 React 应用程序，然后才启动 Electron。</p><p id="61f5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将下面的<code class="eh mc md me lt b">main</code>标签添加到 package.json 中</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="20e7" class="lx jy hu lt b fv ly lz l ma mb">"main": "public/electron.js",</span></pre><p id="aeb0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，您的 package.json 应该看起来像这样。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="9b5b" class="lx jy hu lt b fv ly lz l ma mb">{<br/>  "name": "my-app",<br/>  "version": "0.1.0",<br/>  "private": true,<br/>  "dependencies": {<br/>    "electron-is-dev": "^1.0.1",<br/>    "react": "^16.8.3",<br/>    "react-dom": "^16.8.3",<br/>    "react-scripts": "2.1.5"<br/>  },<br/>  "main": "public/electron.js",<br/>  "scripts": {<br/>    "start": "react-scripts start",<br/>    "build": "react-scripts build",<br/>    "test": "react-scripts test",<br/>    "eject": "react-scripts eject",<br/>    "electron-dev": "concurrently \"BROWSER=none yarn start\" \"wait-on <a class="ae jw" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a> &amp;&amp; electron .\""<br/>  },<br/>  "eslintConfig": {<br/>    "extends": "react-app"<br/>  },<br/>  "browserslist": [<br/>    "&gt;0.2%",<br/>    "not dead",<br/>    "not ie &lt;= 11",<br/>    "not op_mini all"<br/>  ],<br/>  "devDependencies": {<br/>    "concurrently": "^4.1.0",<br/>    "electron": "^4.0.6",<br/>    "electron-builder": "^20.38.5",<br/>    "wait-on": "^3.2.0"<br/>  }<br/>}</span></pre><p id="0a45" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">此时，您可以通过以下方式在开发模式下运行您的新应用:</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="b37c" class="lx jy hu lt b fv ly lz l ma mb">yarn electron-dev</span></pre><p id="a078" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您应该会看到类似这样的内容:</p><figure class="lo lp lq lr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff mf"><img src="../Images/742417b326b499dbbfcd32c7f340a8b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j1dcZA3cIVpra55x.png"/></div></div></figure><p id="9818" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你看到那张图片，恭喜你已经准备好开发你的应用了。耶！</p><p id="eba2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，如果你像我一样需要访问<code class="eh mc md me lt b">fs</code>模块，你会很快遇到<code class="eh mc md me lt b">Module not found</code>错误。见<a class="ae jw" href="https://stackoverflow.com/questions/35428639/how-can-i-use-fs-in-react-with-electron" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="5bb9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为了解决这个问题，我们需要使用<code class="eh mc md me lt b">electron-renderer</code>作为网络包目标…但我们不想让 CRA 去做。所以我们用<a class="ae jw" href="https://github.com/harrysolovay/rescripts" rel="noopener ugc nofollow" target="_blank">重写</a>。让我展示给你看。</p><p id="e49b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">首先，安装脚本。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="3e2d" class="lx jy hu lt b fv ly lz l ma mb">yarn add @rescripts/cli @rescripts/rescript-env --dev</span></pre><p id="fa84" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然后，将<code class="eh mc md me lt b">package.json</code>中的<code class="eh mc md me lt b">scripts</code>标签从这个…</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="fc59" class="lx jy hu lt b fv ly lz l ma mb">"start": "react-scripts start", <br/>"build": "react-scripts build", <br/>"test": "react-scripts test",</span></pre><p id="fc01" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">敬这个。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="2dbe" class="lx jy hu lt b fv ly lz l ma mb">"start": "rescripts start", <br/>"build": "rescripts build", <br/>"test": "rescripts test",</span></pre><p id="8743" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在添加一个名为<code class="eh mc md me lt b">.rescriptsrc.js</code>的新文件，内容如下:</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="d3de" class="lx jy hu lt b fv ly lz l ma mb">module.exports = [require.resolve('./.webpack.config.js')]</span></pre><p id="bdb8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">最后添加另一个名为<code class="eh mc md me lt b">.webpack.config.js</code>的新文件，内容如下:</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="893c" class="lx jy hu lt b fv ly lz l ma mb">// define child rescript module.exports = config =&gt; { config.target = 'electron-renderer'; return config; }</span></pre><p id="eb25" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在你可以使用<code class="eh mc md me lt b">fs</code>模块了，不用担心。</p><h1 id="f5ce" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">程序包设置</h1><p id="fc5a" class="pw-post-body-paragraph iy iz hu ja b jb kx jd je jf ky jh ji jj ll jl jm jn lm jp jq jr ln jt ju jv hn dt translated">太棒了，现在我们可以打包我们的应用了。</p><p id="0500" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">首先，添加电子构建器和类型脚本:</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="1571" class="lx jy hu lt b fv ly lz l ma mb">yarn add electron-builder typescript --dev</span></pre><p id="f3da" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">默认情况下，CRA 使用绝对路径构建 index.html。这将失败时，加载它在电子。有一个配置选项可以改变这一点。</p><p id="d885" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在<code class="eh mc md me lt b">package.json</code>中设置<code class="eh mc md me lt b">homepage</code>属性。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="9a2e" class="lx jy hu lt b fv ly lz l ma mb">"homepage": "./",</span></pre><p id="0377" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">接下来让我们添加新的<code class="eh mc md me lt b">electron-pack</code>命令来打包构建。</p><p id="53fe" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将以下内容添加到<code class="eh mc md me lt b">package.json</code>中的<code class="eh mc md me lt b">scripts</code>标签。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="0b4f" class="lx jy hu lt b fv ly lz l ma mb">"postinstall": "electron-builder install-app-deps", <br/>"preelectron-pack": "yarn build", <br/>"electron-pack": "build -mw"</span></pre><p id="e65d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><code class="eh mc md me lt b">"postinstall": "electron-builder install-app-deps"</code>将确保您的原生依赖项始终与电子版本相匹配。</p><p id="e47d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><code class="eh mc md me lt b">"preelectron-pack": "yarn build"</code>将建造 CRA。</p><p id="9a86" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><code class="eh mc md me lt b">"electron-pack": "build -mw"</code>为 Mac (m)和 Windows (w)打包应用程序。</p><p id="8de2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在运行这个命令之前，我们必须配置电子生成器。</p><p id="f5eb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将以下内容添加到<code class="eh mc md me lt b">package.json</code>。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="be2a" class="lx jy hu lt b fv ly lz l ma mb">"author": {<br/>  "name": "Your Name",<br/>  "email": "your.email@domain.com",<br/>  "url": "<a class="ae jw" href="https://your-website.com/" rel="noopener ugc nofollow" target="_blank">https://your-website.com</a>"<br/>},<br/>"build": {<br/>  "appId": "com.my-website.my-app",<br/>  "productName": "MyApp",<br/>  "copyright": "Copyright © 2019 ${author}",<br/>  "mac": {<br/>    "category": "public.app-category.utilities"<br/>  },<br/>  "files": [<br/>    "build/**/*",<br/>    "node_modules/**/*"<br/>  ],<br/>  "directories": {<br/>    "buildResources": "assets"<br/>  }<br/>}</span></pre><p id="f962" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">你可以在这里看到所有的电子生成器选项<a class="ae jw" href="https://www.electron.build/configuration/configuration" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="7c2e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您还需要创建一个名为<code class="eh mc md me lt b">assets</code>的目录，您可以在其中添加应用程序图标。检查<a class="ae jw" href="https://www.electron.build/icons" rel="noopener ugc nofollow" target="_blank">这里的</a>以查看这些图标的格式。</p><p id="845e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">下面是整个<code class="eh mc md me lt b">package.json</code>的样子。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="13bf" class="lx jy hu lt b fv ly lz l ma mb">{<br/>  "name": "my-app",<br/>  "description": "Electron + Create React App + Electron Builder",<br/>  "version": "0.1.0",<br/>  "private": true,<br/>  "author": {<br/>    "name": "Your Name",<br/>    "email": "your.email@domain.com",<br/>    "url": "<a class="ae jw" href="https://your-website.com/" rel="noopener ugc nofollow" target="_blank">https://your-website.com</a>"<br/>  },<br/>  "build": {<br/>    "appId": "com.my-website.my-app",<br/>    "productName": "MyApp",<br/>    "copyright": "Copyright © 2019 ${author}",<br/>    "mac": {<br/>      "category": "public.app-category.utilities"<br/>    },<br/>    "files": [<br/>      "build/**/*",<br/>      "node_modules/**/*"<br/>    ],<br/>    "directories": {<br/>      "buildResources": "assets"<br/>    }<br/>  },<br/>  "dependencies": {<br/>    "electron-is-dev": "^1.0.1",<br/>    "react": "^16.8.3",<br/>    "react-dom": "^16.8.3",<br/>    "react-scripts": "2.1.5"<br/>  },<br/>  "homepage": "./",<br/>  "main": "public/electron.js",<br/>  "scripts": {<br/>    "start": "rescripts start",<br/>    "build": "rescripts build",<br/>    "test": "rescripts test",<br/>    "eject": "react-scripts eject",<br/>    "electron-dev": "concurrently \"BROWSER=none yarn start\" \"wait-on <a class="ae jw" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a> &amp;&amp; electron .\"",<br/>    "postinstall": "electron-builder install-app-deps",<br/>    "preelectron-pack": "yarn build",<br/>    "electron-pack": "build -mw"<br/>  },<br/>  "eslintConfig": {<br/>    "extends": "react-app"<br/>  },<br/>  "browserslist": [<br/>    "&gt;0.2%",<br/>    "not dead",<br/>    "not ie &lt;= 11",<br/>    "not op_mini all"<br/>  ],<br/>  "devDependencies": {<br/>    "@rescripts/cli": "^0.0.10",<br/>    "@rescripts/rescript-env": "^0.0.5",<br/>    "concurrently": "^4.1.0",<br/>    "electron": "^4.0.6",<br/>    "electron-builder": "^20.38.5",<br/>    "typescript": "^3.3.3333",<br/>    "wait-on": "^3.2.0"<br/>  }<br/>}</span></pre><p id="db76" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在我们准备打包应用程序。运行此命令来打包应用程序。</p><pre class="lo lp lq lr fq ls lt lu lv aw lw dt"><span id="9eb7" class="lx jy hu lt b fv ly lz l ma mb">yarn electron-pack</span></pre><p id="1582" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您将在<code class="eh mc md me lt b">dist</code>目录下看到打包的工件。</p><p id="0215" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">就是这样。是时候编写您的应用程序并构建一些令人惊叹的东西了。</p><p id="6d6b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">下面是<a class="ae jw" href="https://github.com/rgfindl/electron-cra-boilerplate" rel="noopener ugc nofollow" target="_blank">样例 app </a>。</p><p id="7daf" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我希望这个博客有所帮助。下次见。</p></div><div class="ab cl mk ml hc mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="hn ho hp hq hr"><p id="6aec" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="mr">最初发表于</em><a class="ae jw" href="https://finbits.io/blog/electron-create-react-app-electron-builder/" rel="noopener ugc nofollow" target="_blank"><em class="mr">finbits . io</em></a><em class="mr">。</em></p></div></div>    
</body>
</html>