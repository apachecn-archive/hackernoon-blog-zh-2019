<html>
<head>
<title>The Road to React Mastery — Understanding State</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应掌握之路——理解状态</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-road-to-react-mastery-understanding-state-29ef20572bc9#2019-01-09">https://medium.com/hackernoon/the-road-to-react-mastery-understanding-state-29ef20572bc9#2019-01-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="5a83" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">React 中的状态是基于类的组件的一个非常强大的特性，有点类似于 React props，但是有一些显著的区别。状态封装了与组件实例相关联的可定制属性和值(而属性是只读的)。状态对于其单个组件来说既是可控的又是私有的，因此是 React 的一个非常强大的特性。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/6a173e55ece8bd56f3eedbc01f019bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qW3XzsBQIB5ZhnRwI1PiFg.jpeg"/></div></div></figure><p id="31bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了帮助你形象化状态，想象如果一个组件是一个人，他们的肤色、国籍、名字等都是道具——通常是由父母赋予这个人的不变属性。组件的状态可以被认为是人选择穿的衣服，是动态的和可变的！</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/963cd939fd518345e8c161ace71e757d.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*Jm9_GBZNQpQf698Wmj8YSg.jpeg"/></div></figure><p id="4491" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不管你是否理解这个有点糟糕的类比，让我们开始吧！</p><p id="ef22" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了让我们的组件有状态，我们需要使用基于类的组件，而不是基于函数的组件。</p><p id="9c95" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以<strong class="it hv">不用这个</strong>:</p><pre class="jq jr js jt fq kc kd ke kf aw kg dt"><span id="8ca3" class="kh ki hu kd b fv kj kk l kl km">function RandomComponent() {<br/>  return &lt;p&gt;Heyyyyy&lt;/p&gt;;<br/>}</span></pre><p id="5e5c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将在<strong class="it hv">使用这个</strong>:</p><pre class="jq jr js jt fq kc kd ke kf aw kg dt"><span id="d706" class="kh ki hu kd b fv kj kk l kl km">class RandomComponent extends React.Component {<br/>  render() {<br/>    return &lt;p&gt;Heyyyyy&lt;/p&gt;;<br/>  }<br/>}</span></pre><p id="c5b0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">明白了吗？太好了！现在，让我们制作一个组件来模拟一场篮球比赛的记分牌，每当有人得分时它就会更新。</p><pre class="jq jr js jt fq kc kd ke kf aw kg dt"><span id="fd76" class="kh ki hu kd b fv kj kk l kl km">class ScoreBoard extends React.Component {<br/>  render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;<em class="kn">score-for-team-1</em> vs <em class="kn">score-for-team-2</em>&lt;/p&gt;;<br/>    );<br/>  }<br/>}</span><span id="75b6" class="kh ki hu kd b fv ko kk l kl km">ReactDOM.render(<br/>  &lt;ScoreBoard teams=["Hawks", "Eagles"]/&gt;,<br/>  document.getElementById('root')<br/>);<br/></span></pre><p id="7864" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们有了一个记分牌，显示了球队的名字，最初设置的值，不会改变，这意味着它们可以在道具中设置。然而，我们现在需要整合他们的分数，因为到目前为止，黑板会笨拙地显示“团队 1 的分数与团队 2 的分数”，这不是很有帮助。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kp"><img src="../Images/e2cc734d2e5b008be03a2cc45a5bed53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cyj-tiJO799E_RTpnm_yHQ.png"/></div></div></figure><p id="b16f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是国务院介入的地方。让我们将它合并到组件中。</p><pre class="jq jr js jt fq kc kd ke kf aw kg dt"><span id="23b3" class="kh ki hu kd b fv kj kk l kl km">class ScoreBoard extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      scoreOne: 0,<br/>      scoreTwo: 0<br/>    };<br/>  }</span><span id="9a04" class="kh ki hu kd b fv ko kk l kl km">render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;{this.state.scoreOne} vs {this.state.scoreTwo}&lt;/p&gt;;<br/>    );<br/>  }<br/>}</span><span id="fb58" class="kh ki hu kd b fv ko kk l kl km">ReactDOM.render(<br/>  &lt;ScoreBoard teams=["Hawks", "Eagles"]/&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><p id="b0ac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们有一个记分牌，显示每个队的 0 分。太好了！这比我们以前那些笨拙的占位符好多了。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kp"><img src="../Images/df704098371dad6f4cd06417434b2410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f1jwM5VS7Z5j9F9ypJRvFQ.png"/></div></div></figure><p id="9c44" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是如果有人得了一分会怎么样呢？现在，什么都不会。这意味着我们所创建的本质上是一个有状态组件形式的无状态组件。所以真的，没什么帮助。我们需要纳入一个评分机制，这个记分牌是任何人的任何用途。</p><p id="fd97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这正是我们在探索反应事件和突变状态时要做的。因此，要了解如何使我们的状态动态化，以及如何使我们的组件更加强大，请查看下面的第 2 部分！</p><div class="kq kr fm fo ks kt"><a rel="noopener follow" target="_blank" href="/@ethoshansen/the-road-to-react-mastery-handling-events-9da8bb1c6f1d"><div class="ku ab ej"><div class="kv ab kw cl cj kx"><h2 class="bd hv fv z el ky eo ep kz er et ht dt translated">反应精通之路——处理事件</h2><div class="la l"><h3 class="bd b fv z el ky eo ep kz er et ek translated">如何利用 React 组件最强大的特性之一！</h3></div><div class="lb l"><p class="bd b gc z el ky eo ep kz er et ek translated">medium.com</p></div></div><div class="lc l"><div class="ld l le lf lg lc lh jz kt"/></div></div></a></div><p id="0990" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢阅读！</p></div></div>    
</body>
</html>