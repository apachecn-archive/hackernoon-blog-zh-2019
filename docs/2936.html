<html>
<head>
<title>Selenium 4.0 alpha released — What Test Automation Engineers can expect!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Selenium 4.0 alpha发布——测试自动化工程师可以期待什么！</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/selenium-4-0-alpha-released-what-test-automation-engineers-can-expect-6c1838b79243?source=collection_archive---------11-----------------------#2019-05-08">https://medium.com/hackernoon/selenium-4-0-alpha-released-what-test-automation-engineers-can-expect-6c1838b79243?source=collection_archive---------11-----------------------#2019-05-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/b6cef81efe20777016066a8c764fdad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hhH0aGyeC_oBCc1y.png"/></div></div></figure><p id="e387" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Selenium团队在两周前(4月24日)将Selenium 4.0alpha添加到了mvnrepository中，这在自动化QA社区中引起了轰动。</p><p id="8d15" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">QA兄弟会一直在急切地等待这个版本中提出的一些特性。其中最重要的是T2的W3C标准化T3。这将使框架更加稳定，并减少不同浏览器之间的兼容性问题。这个主要版本带来的另一个对初学者友好的变化是更新了文档。在版本2之后，Selenium文档没有彻底更新。更新后的文档将极大地帮助初学者和有经验的人。</p><p id="8a90" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们希望文章中的一些缺点<a class="ae ka" href="https://testsigma.com/blog/selenium-automation-testing-pros-cons/" rel="noopener ugc nofollow" target="_blank">Selenium作为自动化测试工具的利弊</a>将由Selenium 4解决。让我们来看看这个版本中一些值得期待的显著变化。如果你挖对了地方，你可以在CHANGELOG或变更文件中看到完整的变更列表— <a class="ae ka" href="https://github.com/SeleniumHQ/selenium" rel="noopener ugc nofollow" target="_blank"> Selenium Github Repo </a></p><p id="b0ee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">注意:这不是一个完整的列表，我故意省略了许多底层实现和架构变化，像我这样的普通QA自动化人员不会每天都要处理这些变化😀</p><h1 id="9f36" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">建筑变化</h1><h2 id="740b" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">1.现在使用W3C协议进行浏览器驱动程序通信</h2><p id="1351" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">Selenium的早期版本使用JSON wire协议，该协议需要对API进行编码和解码。然而，Selenium 4现在将使用标准的W3C协议在驱动程序和浏览器之间进行通信。优点是W3C协议不需要编码或解码API，测试将能够直接与浏览器通信。</p><h2 id="f933" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">2.符合W3C WebDriver规范</h2><p id="d3e6" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">Selenium 4将完全符合W3C WebDriver标准，这也包括文档。因此，更新后的文档将包含详细的使用说明。</p><p id="938f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此外，actions API已经过改进，以符合WebDriver规范。</p><h2 id="750b" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">3.移除了对少数浏览器的支持</h2><p id="8579" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">该团队将取消对Opera和PhantomJS的本地支持。尽管如此，需要测试Opera的用户可以依赖Chrome，因为Opera是基于Chrome的(Chrome就是从Chrome派生出来的)，而对于PhantomJS用户来说，可以在无头模式下使用<a class="ae ka" href="https://github.com/SeleniumHQ/selenium/blob/master/javascript/node/selenium-webdriver/example/headless.js" rel="noopener ugc nofollow" target="_blank"> Chrome或Firefox</a>。<br/> Selenium服务器现在不再默认包含HtmlUnit。</p><h2 id="f26a" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">4.优化的硒栅极</h2><p id="c69a" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">新网格服务器的Alpha版本支持“独立”、“中心”、“T3”、“节点”和完全分布式使用。此外，这个新的网格服务器可以将单行JSON格式的日志输出到stdout。</p><h2 id="9689" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">5.增加了对Opentracing和Docker的有限支持</h2><p id="8783" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">对OpenTracing的基本支持已登陆。对新的网格服务器使用ext标志，为OpenTracing实现提供类路径。</p><p id="4bfd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Selenium 4将引入对新网格服务器使用Docker容器的基本支持。一旦官方文档发布，将会提供更多信息。</p></div><div class="ab cl ls lt hc lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hn ho hp hq hr"><p id="dd4e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">查看<strong class="je hv"><em class="lz"/></strong><a class="ae ka" href="https://testsigma.com/signup" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="lz">Test sigma</em></strong></a>看看这些东西是如何被考虑的，并使测试自动化变得毫不费力。</p><h1 id="ba8b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">API变更</h1><h2 id="9f6f" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">1.对窗口类的更改</h2><ul class=""><li id="4bde" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">现在支持所有窗口操作命令— </strong>将添加全屏()和最小化()方法。</li><li id="a27e" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">将driver.switchTo添加到()。parentFrame() — </strong>我们可以用它直接从子帧跳到父帧。</li><li id="4648" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">增加了getRect() &amp; setRect()并删除了getSize()&amp;getPosition()—</strong>getRect()和serRect()方法分别检索和设置描述当前顶层窗口大小和位置的Rect。这将取代getSize()和getPosition()方法(这一变化在一般使用中并不太相关)</li><li id="efeb" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">增加了打开新窗口的命令</strong></li></ul><h2 id="9f3b" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">2.对生成器类的更改</h2><ul class=""><li id="b45b" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">添加了“setChromeService”、“setEdgeService”、“T30”、“setFirefoxService”方法— setChromeService </strong>设置服务构建器，用于在创建新的Chrome会话时管理chromedriver子进程。其他人在他们各自的浏览器上做同样的事情</li></ul><h2 id="1f2f" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">3.更改为chrome。驾驶员</h2><ul class=""><li id="658a" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">增加了sendDevToolsCommand()—</strong>sendDevToolsCommand()方法向浏览器发送一个任意的devtools命令，并返回一个承诺，该承诺将在命令完成时被解析。</li><li id="cdd6" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">增加了setDownloadPath()—</strong>setDownloadPath()方法发送一个DevTools命令来改变Chrome的下载目录，并返回一个承诺，该承诺将在命令完成时得到解决。</li></ul><h2 id="ae9c" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">4.火狐的变化。驾驶员</h2><ul class=""><li id="0b06" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">Added install addon(path)—</strong>install addon()方法在当前会话中安装一个新的插件。这个函数将返回一个“id”，可以使用uninstallAddon()卸载插件。</li><li id="0329" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">添加了卸载插件(id)——</strong>使用ID卸载插件。</li><li id="c948" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">添加了addExtensions() </strong> —轻松地向自动化会话添加扩展。</li><li id="987d" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">添加了setPreference() — </strong>向会话添加首选项。</li></ul><h2 id="f32d" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">5.对选项/功能类的更改</h2><ul class=""><li id="a0da" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated">选项类现在扩展了Chrome、Firefox、IE和Safari的功能类。</li><li id="2aa5" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">移除了火狐。配置文件类。它的所有功能现在都直接由Firefox.Options提供</strong></li><li id="259a" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv"> setProfile()现在只接受现有概要文件的路径</strong></li><li id="927a" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">移除了静态工厂方法android()、ipad()、iphone()、opera()、phantomjs()、htmlunit()和htmlunitwithjs()。用户仍然可以手动配置这些功能，但是不推荐使用它们，并且它们将不再出现在API中。</strong></li></ul><h2 id="30db" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">6.错误的更改</h2><ul class=""><li id="2717" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">添加了ElementClickInterceptedError</strong>—当点击命令由于点击目标被页面上的其他元素遮挡而无法完成时，Selenium代码抛出<strong class="je hv">ElementClickInterceptedError</strong>。</li><li id="2eee" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">增加了InsecureCertificateError </strong> —当导航事件导致浏览器生成证书警告时，Selenium代码抛出<strong class="je hv">InsecureCertificateError</strong>。过期或无效的TLS证书通常会导致这种情况。</li><li id="217f" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">增加了InvalidCoordinatesError </strong> —当交互操作因传递无效坐标而无效时，Selenium代码抛出<strong class="je hv">InvalidCoordinatesError</strong>。</li><li id="d23b" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">添加了NoSuchCookieError </strong> —当当前文档的cookie jar中缺少命名的Cookie时，Selenium代码抛出<strong class="je hv"> NoSuchCookieError </strong>。</li><li id="bea3" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">删除了ElementNotVisibleError </strong></li><li id="4ea3" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">移除了InvalidElementCoordinatesError</strong></li></ul><h2 id="f0df" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">7.对WebDriver的更改</h2><ul class=""><li id="d59f" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">删除了触摸操作— </strong>触摸操作<strong class="je hv"> i </strong>实现启用触摸的设备的操作，如doubleTap()、singleTap()、flick()、longPress()、scroll() e.t.c。这可能已被移动到<strong class="je hv"> Appium库</strong>中，但只有在完整的文档可用时才能确认。</li></ul><h2 id="c403" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">8.对警报的更改</h2><ul class=""><li id="1bb2" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">移除认证信息</strong></li></ul><h2 id="cdf8" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated">9.其他人</h2><ul class=""><li id="a2b3" class="ma mb hu je b jf ln jj lo jn mc jr md jv me jz mf mg mh mi dt translated"><strong class="je hv">修改了动作API以符合WebDriver规范</strong></li><li id="0b91" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">可能会添加元素截图</strong></li><li id="ba4b" class="ma mb hu je b jf mj jj mk jn ml jr mm jv mn jz mf mg mh mi dt translated"><strong class="je hv">删除了许多不推荐使用的方法和类。</strong></li></ul><h1 id="5879" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">更好的标准文档</h1><p id="390f" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">困扰Selenium用户的一个主要问题是过时的文档。Selenium团队从Selenium 2.0开始就没有更新过文档。在Selenium 4中，他们更新了Selenium的官方文档来解释最新的变化，并且它现在符合W3C标准。</p><h1 id="9511" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">脚注</h1><p id="cf5f" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">虽然很高兴看到改进，但对于中小型团队来说，通读API文档、分析更改以及纠正由于大量更改而被更新破坏的测试将是一件麻烦的事情。</p><p id="2436" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">根据用户的反馈或要求，我们已经在本版本发布之前的<a class="ae ka" href="https://testsigma.com/" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="lz"/></strong></a>中实施了上述许多变更。这也是Testsigma这样的基于云的无脚本工具更适合这样的团队的原因之一。</p><p id="42d3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用Testsigma这样的基于云的工具，更新将在内部进行审查，并自动应用到客户的所有测试中，而不需要团队付出任何额外的时间、资源和努力。<br/> <a class="ae ka" href="https://testsigma.com/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv">免费注册Testsigma！</strong> </a></p></div><div class="ab cl ls lt hc lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hn ho hp hq hr"><p id="73a6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lz">原载于2019年5月8日</em><a class="ae ka" href="https://testsigma.com/blog/selenium-4-automation-engineer-expect/" rel="noopener ugc nofollow" target="_blank"><em class="lz">https://testsigma.com</em></a><em class="lz">。</em></p><p id="00b9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有什么要补充的，欢迎随时留言评论！</p></div></div>    
</body>
</html>