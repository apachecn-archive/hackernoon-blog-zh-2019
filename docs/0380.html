<html>
<head>
<title>Deleting Object Properties in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 JavaScript 中删除对象属性</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/deleting-object-properties-in-javascript-8608ae570fea#2019-01-15">https://medium.com/hackernoon/deleting-object-properties-in-javascript-8608ae570fea#2019-01-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="c700" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最近我在做一个用例，我有一个如下的对象</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="c4b9" class="jy jz hu ju b fv ka kb l kc kd">let obj1 = {<br/> name: "Dr Strange",<br/> stone: "Time",<br/> status: "alive"<br/>}</span></pre><p id="7023" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，API 被设计成只有当<code class="eh ke kf kg ju b">status</code>是<code class="eh ke kf kg ju b">Time</code>时，我们才需要发送<code class="eh ke kf kg ju b">stone</code>。也因为某些原因，我得到了上述格式的输入对象。</p><p id="4cea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我想编辑上面的对象，只是删除<code class="eh ke kf kg ju b">stone </code>属性完全如果<code class="eh ke kf kg ju b">status !== 'active'</code>。所以我过去常常做的是</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="ab44" class="jy jz hu ju b fv ka kb l kc kd">//incorrect way<br/>if(obj1.status !== 'active')<br/> obj1.stone= undefined;</span></pre><p id="3112" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的一个朋友告诉我，这似乎是错误的，因为我试图通过将它设置为<code class="eh ke kf kg ju b">undefined</code>来删除属性。所以我问了正确的方法，但是他想不出其他更好的方法。我用的就是这种方式，当时就提前了。</p><p id="d853" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最近在 JavaScript 中碰到了以前不知道的<code class="eh ke kf kg ju b">delete</code>关键字。我还意识到，当我们将任何属性设置为<code class="eh ke kf kg ju b">undefined</code>时，我们实际上并没有删除该属性。</p><p id="d417" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里有一个<a class="ae kh" href="https://stackoverflow.com/questions/3390396/how-to-check-for-undefined-in-javascript?noredirect=1&amp;lq=1" rel="noopener ugc nofollow" target="_blank">的例子来证明</a>。现在，当我们 console.log 上述对象时</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="c539" class="jy jz hu ju b fv ka kb l kc kd">console.log(obj1) // {name: "Vision", stone: "Time", alive: undefined}</span></pre><p id="f0d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以属性<code class="eh ke kf kg ju b">alive</code>是未定义的，但它仍然存在于一个对象中。所以正确的做法是:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="9460" class="jy jz hu ju b fv ka kb l kc kd">let obj1 = {<br/> name: "Dr Strange",<br/> stone: "Time",<br/> alive: true<br/>}<br/>delete obj1.alive;<br/>obj1 // {name: "Vision", stone: "Soul"}</span></pre><p id="1020" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以现在属性从对象中被完全删除，而不是拥有值为<code class="eh ke kf kg ju b">undefined</code>的。这不仅从对象中移除了属性，还通过删除其引用节省了内存。</p><p id="ab55" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是不要担心奇异博士他正躲在过去的某个地方，所以不妨在游戏结束时来拯救复仇者联盟。</p></div></div>    
</body>
</html>