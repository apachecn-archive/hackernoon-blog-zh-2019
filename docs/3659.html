<html>
<head>
<title>Android Unidirectional Data Flow with LiveData</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 LiveData 的 Android 单向数据流</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/android-unidirectional-flow-with-livedata-bf24119e747#2019-06-17">https://medium.com/hackernoon/android-unidirectional-flow-with-livedata-bf24119e747#2019-06-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="28fd" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">改进 Coinverse 的性能和结构</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/bc6e9a85f753d73ed027338760f19314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODOuKt0GBD1a30NkzOlf1g.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">pc — <a class="ae jz" href="https://www.linkedin.com/in/ned-scher-60bbb152/" rel="noopener ugc nofollow" target="_blank">Ned Scher</a>, Waterfall at Yosemite National Park (2015)</figcaption></figure><p id="8e15" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt kw translated"><span class="l kx ky kz bm la lb lc ld le di"> T </span> <strong class="kc hv">何<em class="lf">单向数据流</em>【UDF】模式自 2 月份推出第一个测试版以来，提高了</strong><a class="ae jz" href="https://play.google.com/store/apps/details?id=app.coinverse" rel="noopener ugc nofollow" target="_blank"><strong class="kc hv">coin verse</strong></a><strong class="kc hv">的可用性和性能。Coinverse 是第一个以加密货币形式创建涵盖技术和新闻的音频广播的应用程序。使用 UDF 的升级包括更有效的新闻订阅源创建，删除相邻的原生广告，以及更快的音频播放加载。</strong></p><p id="9f4f" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">TLDR:</p><div class="lg lh fm fo li lj"><a href="https://android.jlelse.eu/sample-app-android-unidirectional-data-flow-b9f8ad0fbca3" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab ej"><div class="ll ab lm cl cj ln"><h2 class="bd hv fv z el lo eo ep lp er et ht dt translated">示例应用——Android 单向数据流</h2><div class="lq l"><h3 class="bd b fv z el lo eo ep lp er et ek translated">在 Coinverse 中使用 LiveData</h3></div><div class="lr l"><p class="bd b gc z el lo eo ep lp er et ek translated">android.jlelse.eu</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx jt lj"/></div></div></a></div><p id="88b6" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">UDF 模式将应用程序组织成三个主要区域，视图<strong class="kc hv">状态、事件</strong>和<strong class="kc hv">效果</strong>，确保应用程序模块化和可靠。<strong class="kc hv"> </strong>我从<a class="ae jz" href="https://fragmentedpodcast.com" rel="noopener ugc nofollow" target="_blank">片段播客</a>、<a class="ae jz" href="https://fragmentedpodcast.com/episodes/148/" rel="noopener ugc nofollow" target="_blank"> <em class="lf">进化中的 Android 架构(第一部分)</em> </a> <em class="lf"> </em>与<a class="ly lz gr" href="https://medium.com/u/b85c7e530b1f#copying" rel="noopener ugc nofollow" target="_blank"> <em class="lf">复制</em> </a>功能很有用。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="om mf l"/></div></figure><h2 id="bace" class="nd mh hu bd mi ne nf ng mm nh ni nj mq kj nk nl ms kn nm nn mu kr no np mw nq dt translated">第 4 步，共 6 步—使用 LCE 模式管理网络请求</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="om mf l"/></div></figure><p id="1192" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">为了管理网络请求，<a class="ly lz gr" href="https://medium.com/u/b85c7e530b1f#call_the_function" rel="noopener ugc nofollow" target="_blank"> Firebase 云功能</a>将逻辑完全卸载到后端。</p><p id="6709" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">LiveData 在线程等方面没有太多的定制。随着今年最新的 Google I/O 更新，协程似乎可以轻松地与 LiveData 集成，提供更多的定制。</p><h1 id="2b47" class="mg mh hu bd mi mj mk ml mm mn mo mp mq ja mr jb ms jd mt je mu jg mv jh mw mx dt translated">Coinverse 后续步骤</h1><ul class=""><li id="d57a" class="nr ns hu kc b kd my kg mz kj on kn oo kr op kv nw nx ny nz dt translated"><strong class="kc hv">单向数据流— </strong>扩展到 Coinverse 应用的其余部分</li><li id="d483" class="nr ns hu kc b kd oa kg ob kj oc kn od kr oe kv nw nx ny nz dt translated"><strong class="kc hv"> JUnit 测试</strong>——现在，大多数 newsfeed 逻辑都在<em class="lf"> ViewModel </em>中模块化了，JUnit 测试会更容易，对组件的模仿会更少。</li><li id="e560" class="nr ns hu kc b kd oa kg ob kj oc kn od kr oe kv nw nx ny nz dt translated"><strong class="kc hv"> Kotlin 协同程序— </strong>通过使用与 LiveData 集成的<a class="ae jz" href="https://developer.android.com/kotlin/coroutines" rel="noopener ugc nofollow" target="_blank"> Kotlin 协同程序</a>控制线程来提高性能</li></ul><p id="a4e7" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">接下来:</p><div class="lg lh fm fo li lj"><a rel="noopener follow" target="_blank" href="/@AdamHurwitz/udf2-0-5052c3e1c62a"><div class="lk ab ej"><div class="ll ab lm cl cj ln"><h2 class="bd hv fv z el lo eo ep lp er et ht dt translated">使用 LiveData - 2.0 的 Android 单向数据流</h2><div class="lq l"><h3 class="bd b fv z el lo eo ep lp er et ek translated">改进状态模型+协程流程</h3></div><div class="lr l"><p class="bd b gc z el lo eo ep lp er et ek translated">medium.com</p></div></div><div class="ls l"><div class="oq l lu lv lw ls lx jt lj"/></div></div></a></div><h1 id="0bba" class="mg mh hu bd mi mj mk ml mm mn mo mp mq ja mr jb ms jd mt je mu jg mv jh mw mx dt translated">资源</h1><ul class=""><li id="4e80" class="nr ns hu kc b kd my kg mz kj on kn oo kr op kv nw nx ny nz dt translated"><strong class="kc hv">在 Play Store 上查看 coin verse:</strong></li></ul><div class="lg lh fm fo li lj"><a href="https://play.google.com/store/apps/details?id=app.coinverse" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab ej"><div class="ll ab lm cl cj ln"><h2 class="bd hv fv z el lo eo ep lp er et ht dt translated">Coinverse -加密货币新闻、比特币、以太坊 Google Play 上的应用</h2><div class="lq l"><h3 class="bd b fv z el lo eo ep lp er et ek translated">安卓上没有？-订阅资料片更新@ bit.ly/coinverse-beta1.你是开发者吗？-检查开放的…</h3></div><div class="lr l"><p class="bd b gc z el lo eo ep lp er et ek translated">play.google.com</p></div></div><div class="ls l"><div class="or l lu lv lw ls lx jt lj"/></div></div></a></div><ul class=""><li id="073d" class="nr ns hu kc b kd ke kg kh kj nt kn nu kr nv kv nw nx ny nz dt translated">探索并运行 Coinverse 代码:</li></ul><div class="lg lh fm fo li lj"><a href="https://android.jlelse.eu/sample-app-android-unidirectional-data-flow-b9f8ad0fbca3" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab ej"><div class="ll ab lm cl cj ln"><h2 class="bd hv fv z el lo eo ep lp er et ht dt translated">示例应用——Android 单向数据流</h2><div class="lq l"><h3 class="bd b fv z el lo eo ep lp er et ek translated">在 Coinverse 中使用 LiveData</h3></div><div class="lr l"><p class="bd b gc z el lo eo ep lp er et ek translated">android.jlelse.eu</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx jt lj"/></div></div></a></div><ul class=""><li id="51c1" class="nr ns hu kc b kd ke kg kh kj nt kn nu kr nv kv nw nx ny nz dt translated"><a class="ae jz" href="https://docs.google.com/presentation/d/1bj-lG2ghJO5EVIJRrCt3eH-lZsz8ChPc1hVXZ_KYpD8?rm=minimal" rel="noopener ugc nofollow" target="_blank">幻灯片</a>:</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="os mf l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">UDF Slides</figcaption></figure><ul class=""><li id="cdfa" class="nr ns hu kc b kd ke kg kh kj nt kn nu kr nv kv nw nx ny nz dt translated"><a class="ae jz" href="https://docs.google.com/document/d/13fmrGJbGHNEPo3FN7IDmwQjxjXK3qoACSRqjyawV32k?rm=minimal" rel="noopener ugc nofollow" target="_blank">注意事项</a>:</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ot mf l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">UDF Notes</figcaption></figure></div><div class="ab cl ou ov hc ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="hn ho hp hq hr"><p id="f3b0" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">非常感谢麦德林安卓聚会<a class="ae jz" href="https://www.meetup.com/Medellin-Android/" rel="noopener ugc nofollow" target="_blank">的</a><a class="ae jz" href="https://twitter.com/Iyubinest" rel="noopener ugc nofollow" target="_blank">克里斯蒂安·戈麦斯</a>和<a class="ly lz gr" href="https://medium.com/u/eaf44c102d99?source=post_page-----bf24119e747--------------------------------" rel="noopener" target="_blank">卡洛斯·丹尼尔</a>组织这次演讲！如果你在麦德林，我建议你去他们的聚会。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff pb"><img src="../Images/7c31f8511b3caaeac309300daf84a4b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pG8nRh7mnbkkx_I-k8Cyfw.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae jz" href="https://www.youtube.com/watch?v=Elp-Z-pQTpM" rel="noopener ugc nofollow" target="_blank">Medellín Android talk — Unidirectional Data Flow por Adam Hurwitz</a> (2019)</figcaption></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff pc"><img src="../Images/ca4727e683da6a69980e9e6d985b2934.png" data-original-src="https://miro.medium.com/v2/resize:fit:124/0*grvJQXZg5AWw4sx3"/></div></figure></div></div>    
</body>
</html>