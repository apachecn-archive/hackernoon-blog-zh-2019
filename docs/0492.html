<html>
<head>
<title>Deep Learning Software Setup: CUDA 10 + Ubuntu 18.04 (Part 2 of a $4000 RTX 2080Ti (MSI) DL box series)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深度学习软件设置:CUDA 10 + Ubuntu 18.04(价值4000美元的RTX 2080Ti (MSI) DL box系列的第二部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/deep-learning-software-setup-cuda-10-ubuntu-18-04-15548cefa30?source=collection_archive---------0-----------------------#2019-01-20">https://medium.com/hackernoon/deep-learning-software-setup-cuda-10-ubuntu-18-04-15548cefa30?source=collection_archive---------0-----------------------#2019-01-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="001c" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">获得我们第一个深度学习构建的第2部分</h2></div><p id="81aa" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在<a class="ae kf" rel="noopener" href="/p/82db257f0247">之前的文章</a>中，我已经简要介绍了我为<a class="ae kf" rel="noopener" href="/p/82db257f0247">“中子”</a>挑选的零件，以及从第三方零售商那里组装它的原因:“Ant-PC”。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="ab fr cl kl"><img src="../Images/075e0f37fd9637b32f6504e2614befeb.png" data-original-src="https://miro.medium.com/v2/format:webp/1*8wMIcui7asUuMcOEsF490w.jpeg"/></div></figure></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="71ac" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这篇博客中，我将分享在基于Nvidia的“深度学习盒”上设置T4软件的一步一步的指导。</p><h1 id="1b3a" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">概述:</h1><p id="ad1c" class="pw-post-body-paragraph jj jk hu jl b jm ln iv jo jp lo iy jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">对于存储，<a class="ae kf" href="https://medium.com/p/82db257f0247/edit" rel="noopener">我有两个驱动器</a>:</p><ul class=""><li id="3a2a" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">三星970 Pro NVMe M.2 512GB</li><li id="e2d2" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">2TB硬盘</li></ul><p id="c9b2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我的零售商很友好，按照我的要求在硬盘上安装了500GB的windows分区。</p><h1 id="e8a2" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">Ubuntu 18.04安装</h1><p id="6903" class="pw-post-body-paragraph jj jk hu jl b jm ln iv jo jp lo iy jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">对于<a class="ae kf" href="https://hackernoon.com/tagged/neutron" rel="noopener ugc nofollow" target="_blank"> Neutron </a>，我打算将Ubuntu 18.04安装在M.2驱动器上，并在其上分配交换空间，加上在为归档和存储数据集分配的2 TB HDD中分配窗口后剩余的额外空间</p><h1 id="9f12" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">预设置</h1><ul class=""><li id="f392" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">禁用快速启动<br/> <strong class="jl hv">(使用搜索，打开电源选项)电源选项</strong> &gt; <strong class="jl hv">系统设置</strong> &gt; <strong class="jl hv">选择电源按钮做什么</strong>并取消选中<strong class="jl hv">打开快速启动框</strong>。</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mj"><img src="../Images/a77c8e62efd7aac062baeaef1bd0a796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HoZ5z82QwfwcR6VgyIyLOQ.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://lifehacker.com/enable-this-setting-to-make-windows-10-boot-up-faster-1743697169" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="aeae" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">禁用安全启动<br/> -搜索高级启动选项<br/> -点击立即重启<br/> -选择故障排除&gt;高级选项&gt; UEFI固件选项设置&gt;重启<br/> -将打开下一个BIOS设置，这将根据您的设置而有所不同<br/> -导航至启动选项卡<br/> -禁用安全启动<br/> -您可能需要打开/关闭传统支持</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/00864056bf95326eaa86e90219b31a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*j1P5x8dnSBVpxyQAR6naGw.jpeg"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://www.avira.com/en/support-for-home-knowledgebase-detail/kbid/1811" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><h1 id="d96f" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">创建安装程序</h1><ul class=""><li id="cac4" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">从<a class="ae kf" href="https://www.ubuntu.com/download/desktop" rel="noopener ugc nofollow" target="_blank">这里</a>下载Ubuntu 18.04的最新镜像。</li><li id="b467" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">你需要一个4GB以上的记忆棒。</li><li id="c453" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">如果你使用的是Windows，使用<a class="ae kf" href="https://rufus.akeo.ie" rel="noopener ugc nofollow" target="_blank">这个工具</a>进行快速设置。</li><li id="0486" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">如果你有Ubuntu系统，使用内置的启动盘创建器。</li><li id="5145" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">重启并进入BIOS，并启用从USB启动。</li></ul><h1 id="cbc4" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">安装Ubuntu</h1><ul class=""><li id="dbf2" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">你应该能够启动到Ubuntu</li><li id="4ca3" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">对于健全性检查-选择“尝试不安装Ubuntu”<br/>-检查你的网卡是否工作正常。<br/> -检查声卡以获得快速缓解。</li><li id="f36e" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">注意:如果Ubuntu没有检测到任何一个卡，这可能与内核版本有关——检查你的设备名称，看看是否支持。如果没有，你可能需要一个外部网络/wifi卡和一个外部声卡。</li><li id="0b02" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">选择语言</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mt"><img src="../Images/79566e90283bc9153d8d90891bd8b42b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gAG-dP2ZQ8jzik9jKX_-xg.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop?_ga=2.120547080.164498141.1528985834-1164819070.1501830984#10" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="ab36" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">安装时忽略更新(如果您的互联网速度较慢，安装会变慢)</li><li id="e7f9" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">选择语言。</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mu"><img src="../Images/39e4f8f3d2457be6f5847b3a10b41eb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sGCulW4tcIb_DVCKe6Jnw.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop?_ga=2.120547080.164498141.1528985834-1164819070.1501830984#10" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="f81d" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">选择其他东西</li><li id="45fd" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">从这里，选择您的驱动器。我选的是512 GB的M.2</li><li id="29b5" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">单击“+”<br/>接下来，您需要为您的操作系统分配空间并进行交换。</li><li id="73bb" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">把大部分空间给/ <br/>(我更喜欢给/和/家分配一个单独的空间。原因:某些安装，尤其是CUDA可能会超出分配给/)的大小</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/ec5601d8826e19945d6faadc68a5e482.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*Wy-MuQoLBEcw1gdOsftdZA.jpeg"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://itsfoss.com/install-ubuntu-dual-boot-mode-windows/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="85c5" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">给两倍的内存空间进行交换。<br/>就我个人而言，我有64GB内存，并分配了32GB，只是为了给我额外的空间来处理大型数据集。</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/87b4192bd19a1962f5d25a4599081aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*bHdQYwSG-Q6vhKKD3AmryQ.jpeg"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://itsfoss.com/install-ubuntu-dual-boot-mode-windows/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="3f13" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">设置您的登录凭据</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mw"><img src="../Images/cb25b37104f9a1ef53a613cc64e3de60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PpsKGEWnXpWCWaiyRY6UaQ.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop?_ga=2.120547080.164498141.1528985834-1164819070.1501830984#10" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="c3f7" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">最后点击安装</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff mx"><img src="../Images/cb5f4be69e5bd3609491e3fd8fcd268c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZ8y3bjizFiSuG2XvIqEoQ.jpeg"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><a class="ae kf" href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop?_ga=2.120547080.164498141.1528985834-1164819070.1501830984#10" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ul class=""><li id="ce27" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">最后，重启。</li></ul><p id="ffaa" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">就这样，你完了。</p></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="b1dd" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在下一小节中，我们将看看CUDA 10的安装</p><h1 id="9594" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">CUDA 10安装</h1><p id="ad1d" class="pw-post-body-paragraph jj jk hu jl b jm ln iv jo jp lo iy jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">快速提示:根据<a class="ae kf" href="https://github.com/fastai/fastai/blob/master/README.md#installation" rel="noopener ugc nofollow" target="_blank"> fastai安装说明</a>，推荐:</p><blockquote class="my mz na"><p id="51dd" class="jj jk nb jl b jm jn iv jo jp jq iy jr nc jt ju jv nd jx jy jz ne kb kc kd ke hn dt translated">如果您使用NVIDIA驱动程序410+，您很可能希望通过以下方式安装<code class="eh nf ng nh ni b">cuda100</code> pytorch变种:</p><p id="c09f" class="jj jk nb jl b jm jn iv jo jp jq iy jr nc jt ju jv nd jx jy jz ne kb kc kd ke hn dt translated">康达安装-c pytorch pytorch cuda100</p></blockquote><p id="d060" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">下面是使用安装CUDA的说明。运行Nvidia提供的文件。原因:由于cuda100版本只适用于PyTorch，Tensorflow可能会有一些问题，我会在测试之后更新这篇文章。</p><p id="8a24" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在，开始安装:</p><h1 id="32c6" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">更新和升级</h1><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="015d" class="nn kw hu ni b fv no np l nq nr">$ sudo apt-get update<br/>$ sudo apt-get upgrade</span></pre><h1 id="27fc" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">安装Nvidia驱动程序</h1><ul class=""><li id="4b9f" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">从<a class="ae kf" href="https://www.nvidia.in/Download/index.aspx?lang=en-in" rel="noopener ugc nofollow" target="_blank">这里</a>下载驱动程序。</li><li id="861c" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">接下来，将运行权限授予。运行文件</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="533e" class="nn kw hu ni b fv no np l nq nr">chmod +x NVIDIA-Linux-x86_64-410.93.run</span></pre><ul class=""><li id="5ac2" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">通过运行以下命令，重新启动并检查驱动程序是否安装正确:</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="5714" class="nn kw hu ni b fv no np l nq nr">nvidia-smi</span></pre><ul class=""><li id="a13c" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">如果您得到一个包含您的GPU细节的输出，那么一切都设置好了。</li></ul><p id="a5fa" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">陷阱:</p><ul class=""><li id="2b96" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">万一你的Ubuntu卡在“引导循环”里:<br/> -按Ctrl+Alt+F3(注意:在16上，它的ctrl+alt+f1得到tty1) <br/> -清除驱动</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="2980" class="nn kw hu ni b fv no np l nq nr">sudo apt-get purge nvidia-*</span></pre><ul class=""><li id="05fe" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">重新启动</li></ul><h1 id="ae2a" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">安装康达</h1><ul class=""><li id="57fe" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">为了安装最新版本的Conda，我们将使用一个由<a class="ae kf" href="https://twitter.com/mikb0b" rel="noopener ugc nofollow" target="_blank"> Kaggle Master Mikel </a>编写的便捷脚本</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="0cb0" class="nn kw hu ni b fv no np l nq nr">curl <a class="ae kf" href="https://conda.ml" rel="noopener ugc nofollow" target="_blank">https://conda.ml</a> | bash</span></pre><p id="06c7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">或者，如果您想从Anaconda的网站下载安装程序，也可以。上面的方法省去了你启动浏览器、点击、搜索和保存的时间——好了，你明白了。</p><h1 id="a7a7" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">安装CUDA</h1><ul class=""><li id="cecf" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">点击从<a class="ae kf" href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=Ubuntu&amp;target_version=1710&amp;target_type=runfilelocal" rel="noopener ugc nofollow" target="_blank">下载CUDA。</a></li><li id="335e" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">我正在安装CUDA 10.0</li><li id="8379" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">下载运行文件(本地)</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="fe ff ns"><img src="../Images/ba574e36da20267675a0e6493c937d23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VDRBz21IvL5LJN-fwdIDA.png"/></div></div></figure><ul class=""><li id="765f" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">打开终端并将目录更改为下载。</li><li id="aa60" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">更改安装程序的可执行权限。</li><li id="c03a" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">运行它。</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="6746" class="nn kw hu ni b fv no np l nq nr">$ cd Downloads<br/>$ chmod +x ./cuda_10.0.130_410.48_linux.run<br/>$ sudo ./cuda_10.0.130_410.48_linux.run</span></pre><ul class=""><li id="c4ac" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">按空格键向下滚动并接受条款和条件</li><li id="5096" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">键入<code class="eh nf ng nh ni b">yes</code> <strong class="jl hv"> </strong>至提示“不支持配置安装”</li><li id="ebb4" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">出现提示时，键入<code class="eh nf ng nh ni b">no</code>按钮“为Linux-x86_64 xyz.xyz安装NVIDIA加速图形驱动程序”。</li><li id="29dc" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">保留默认值。</li><li id="7ca6" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">重新启动</li><li id="6167" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">重新启动后，检查CUDA版本</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="aaf1" class="nn kw hu ni b fv no np l nq nr">nvcc -V</span></pre><p id="cfca" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将提示已安装的CUDA版本</p><ul class=""><li id="2a95" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">如果出现引导循环问题，请清除驱动程序，然后重试。</li></ul><h2 id="cedd" class="nn kw hu bd kx nt nu nv lb nw nx ny lf js nz oa lh jw ob oc lj ka od oe ll of dt translated">设置路径</h2><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="c886" class="nn kw hu ni b fv no np l nq nr">export PATH="/home/User/anaconda3/bin:/usr/local/cuda/bin:$PATH"<br/>export LD_LIBRARY_PATH="/usr/local/cuda/lib64:$LD_LIBRARY_PATH"<br/>source ~/.bashrc</span></pre><h1 id="71b2" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">安装Cudnn</h1><ul class=""><li id="0313" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">从<a class="ae kf" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank">这里</a>下载你安装的CUDA版本支持的Cudnn版本(你需要一个Nvidia账号)</li><li id="276e" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">下载后，我们将打开归档文件的包装，并将内容移动到安装CUDA 10.0的目录中:</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="e3fe" class="nn kw hu ni b fv no np l nq nr">tar -zxvf cudnn-_.0-linux-x64-v_.tgz<br/>sudo cp -P cuda/lib64/* /usr/local/cuda-10.0/lib64/<br/>sudo cp  cuda/include/* /usr/local/cuda-10.0/include<br/>sudo chmod a+r /usr/local/cuda-10.0/include/cudnn.h</span></pre></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="aad2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">最后，因为我是fastai的粉丝——为了结束，我们将为FastAI设置一个conda环境</p><h1 id="2fdd" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">设置快速AI</h1><ul class=""><li id="f926" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">创建conda环境</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="0072" class="nn kw hu ni b fv no np l nq nr">$ conda <strong class="ni hv">create</strong> -n fastai <br/>$ conda <strong class="ni hv">activate</strong> fastai</span></pre><ul class=""><li id="3a9e" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">分享<a class="ae kf" href="https://github.com/fastai/fastai/blob/master/README.md#installation" rel="noopener ugc nofollow" target="_blank">官方回购</a>的指示。</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="3fb2" class="nn kw hu ni b fv no np l nq nr">$ conda install -c pytorch -c fastai fastai</span></pre><ul class=""><li id="63a3" class="ls lt hu jl b jm jn jp jq js lu jw lv ka lw ke lx ly lz ma dt translated">遵循一些关于性能提升的进一步说明</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="e5b7" class="nn kw hu ni b fv no np l nq nr">$ conda uninstall --force jpeg libtiff -y<br/>$ conda install -c conda-forge libjpeg-turbo<br/>$ CC="cc -mavx2" pip install --no-cache-dir -U --force-reinstall --no-binary :all: --compile pillow-simd</span></pre><h2 id="35be" class="nn kw hu bd kx nt nu nv lb nw nx ny lf js nz oa lh jw ob oc lj ka od oe ll of dt translated">设置(其他/任何)环境</h2><ul class=""><li id="bd4f" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">使用requirements.txt或req.yml文件进行Pip安装或conda安装。</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="2bc3" class="nn kw hu ni b fv no np l nq nr">pip install -r &lt;Link&gt;</span></pre></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><h1 id="eb33" class="kv kw hu bd kx ky og la lb lc oh le lf ja oi jb lh jd oj je lj jg ok jh ll lm dt translated">快速试验</h1><ul class=""><li id="9785" class="ls lt hu jl b jm ln jp lo js mg jw mh ka mi ke lx ly lz ma dt translated">检查库内是否可以访问CUDA设备。</li><li id="e6ed" class="ls lt hu jl b jm mb jp mc js md jw me ka mf ke lx ly lz ma dt translated">PyTorch具有检查CUDA设备的功能</li></ul><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="9a17" class="nn kw hu ni b fv no np l nq nr"><strong class="ni hv">torch.cuda.is_available</strong><strong class="ni hv">()</strong></span></pre><p id="d164" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这应返回真。</p><h1 id="966b" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">快速试验</h1><p id="70f4" class="pw-post-body-paragraph jj jk hu jl b jm ln iv jo jp lo iy jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">为了预热GPU，我们可以尝试文档中的示例脚本:</p><pre class="kg kh ki kj fq nj ni nk nl aw nm dt"><span id="2b13" class="nn kw hu ni b fv no np l nq nr">path <strong class="ni hv">=</strong> untar_data(URLs<strong class="ni hv">.</strong>MNIST_SAMPLE)<br/>data <strong class="ni hv">=</strong> ImageDataBunch<strong class="ni hv">.</strong>from_folder(path)<br/>learn <strong class="ni hv">=</strong> create_cnn(data, models<strong class="ni hv">.</strong>resnet18, metrics<strong class="ni hv">=</strong>accuracy)<br/>learn<strong class="ni hv">.</strong>fit(1)</span></pre><p id="779a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">只需在nb中运行这几行代码。</p><p id="6d93" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" rel="noopener" href="/p/82db257f0247">在我的GPU上</a>-这大约需要2秒钟来运行。</p></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="2b07" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">就这样。你完蛋了。</p><p id="e900" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="nb">如果你觉得这篇文章有用并且想保持联系，你可以在推特上找到我</em> <a class="ae kf" href="http://twitter.com/bhutanisanyam1" rel="noopener ugc nofollow" target="_blank"> <em class="nb">在这里</em> </a> <em class="nb">。</em>。</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="ol om l"/></div></figure></div></div>    
</body>
</html>