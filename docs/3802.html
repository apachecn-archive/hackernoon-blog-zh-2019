<html>
<head>
<title>An Android Developer’s Beginner’s Guide to React Native (Includes an Example Application)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android开发人员的React Native初学者指南(包括一个示例应用程序)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-react-native-beginner-guide-for-an-android-developer-b0572b709096?source=collection_archive---------9-----------------------#2019-06-24">https://medium.com/hackernoon/a-react-native-beginner-guide-for-an-android-developer-b0572b709096?source=collection_archive---------9-----------------------#2019-06-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/04cc0e0ad7241368093c049a6cce23fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOjjpQ60HFUTxCkVyBHs_w.png"/></div></div></figure><div class=""/><p id="ac6f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我是一名使用Java的Android开发者已经有一段时间了。直到最近，我才开始尝试React-Native移动开发框架。至少可以说，这是一次令人耳目一新的视角转换体验。本文旨在展示我在这两种框架下开发应用程序时所经历的差异。</p><h1 id="761b" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">什么是React Native？</h1><p id="e36f" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">官网上说:</p><blockquote class="ld le lf"><p id="4cfa" class="jc jd lg je b jf jg jh ji jj jk jl jm lh jo jp jq li js jt ju lj jw jx jy jz hn dt translated">React Native允许您仅使用JavaScript构建移动应用程序。它使用与React相同的设计，允许您使用声明性组件构建丰富的移动UI。</p></blockquote><p id="d823" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它和核心Swift或Java/Kotlin中的任何iOS或Android应用程序一样真实。</p><blockquote class="ld le lf"><p id="17bc" class="jc jd lg je b jf jg jh ji jj jk jl jm lh jo jp jq li js jt ju lj jw jx jy jz hn dt translated">您使用React Native构建的应用程序不是移动web应用程序，因为React Native使用与常规iOS和Android应用程序相同的基本UI构建块。不使用Swift、Kotlin或Java，而是使用JavaScript和React将这些构建模块放在一起。</p></blockquote><p id="5a05" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以，基本上这是一个基于<a class="ae lk" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React.js </a>的框架，它支持Android和iOS平台的跨平台开发。</p><p id="069a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在你一定想知道，为什么我要离开Java的舒适环境，去探索Javascript和React.js。</p><h1 id="0ba6" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">优点——等待你的是什么。</h1><ol class=""><li id="42d5" class="ll lm if je b jf ky jj kz jn ln jr lo jv lp jz lq lr ls lt dt translated"><strong class="je ig">跨平台开发</strong></li></ol><p id="3593" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">开发者的主要目标是为顾客/客户提供服务。没有人会仅仅因为他们的开发者只能为某个特定的平台开发应用程序，就想把他们的用户群限制在这个平台上。因此，即使是开发人员也不应该仅仅因为他/她在一个特定的开发设置中找到了安慰就限制他的技能集。</p><p id="2633" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">React Native是可移植的，即用Javascript编写的单一代码库将为Android和iOS创建模块。</p><p id="8853" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig"> 2。学习反应。</strong></p><p id="d605" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦你熟悉了React-Native和Javascript，它就打开了前端web开发的通道，扩展了你的开发视野。React-Native基于与React相同的组件，因此这里学到的技能并不局限于移动开发。</p><p id="5f85" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig"> 3。比Android Studio </strong>更快的构建时间</p><p id="044d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您是否浪费了超过2-3分钟的构建时间来测试/调试一个基本特性，从而导致调试过程耗时数小时？RN是解决方案。RN的构建时间要少得多。有了像热重装这样的特性，UI开发和测试特性就是小菜一碟了。有了这个功能，每次。js文件已保存！</p><p id="8bdf" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig"> 4。Javascript是网络友好的</strong></p><p id="dae5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在RN中，调用API、从URL渲染图像等非常容易。不再使用<em class="lg">改型</em>、<em class="lg"> OkHttp </em>、<em class="lg">毕加索</em>等。配置麻烦的开销减少了许多倍。在android中，当从API接收数据时，首先需要在POJO模型中进行转换，然后在UI元素中使用。但是RN中接收到的JSON数据是Javascript友好的，可以直接用于扩展UI。这为来自REST APIs的GET/POST请求提供了一个简单的web接口。</p><p id="3ce4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig"> 5。UI开发</strong></p><p id="807c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">RN的UI方法是<em class="lg"> flexbox </em>，这是Android的XML布局的一个强有力的竞争对手。flexbox方法在web开发社区中非常流行。大多数UI元素必须在RN中从头开始开发，而在原生Android开发中，已经包含了Google设计支持库。这使得开发者在交互和响应设计方面有了更多的自由。</p><h1 id="22ee" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">坏处-你可能会错过的。</h1><ol class=""><li id="b126" class="ll lm if je b jf ky jj kz jn ln jr lo jv lp jz lq lr ls lt dt translated"><strong class="je ig">你可能讨厌Javascript </strong></li></ol><p id="5e08" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有很多人不喜欢Javascript，仅仅是因为它不像传统语言，例如<em class="lg"> Java </em>、<em class="lg"> C++ </em>等等。你可以在这里找到详细的恨<a class="ae lk" href="https://www.quora.com/Why-is-JavaScript-so-hated" rel="noopener ugc nofollow" target="_blank">，在这里</a>找到<a class="ae lk" href="https://www.reddit.com/r/javascript/comments/9pwzpn/why_do_people_hate_javascript/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="93ad" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig"> 2。第三方库不多</strong></p><p id="68b4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">RN社区仍处于萌芽阶段，第三方的支持库不像他们在原生Android社区中那样受欢迎(顺便检查我的幻灯片Android库<a class="ae lk" href="https://github.com/nikhil-sachdeva/SliderViewLibrary" rel="noopener ugc nofollow" target="_blank">这里</a>👈).</p><h1 id="35ad" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">示例应用程序</h1><p id="f436" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">让我们首先尝试开发一个API获取应用程序来理解RN工作的简单性。第一步显然是安装RN，可以从官网<a class="ae lk" href="https://facebook.github.io/react-native/docs/getting-started" rel="noopener ugc nofollow" target="_blank">这里</a>进行。此外，对于初学者来说，他们有令人惊讶的文档，请务必阅读。我们将使用这个模拟API<a class="ae lk" href="https://jsonplaceholder.typicode.com/photos" rel="noopener ugc nofollow" target="_blank">https://jsonplaceholder.typicode.com/photos</a>，它有如下数据</p><figure class="lv lw lx ly fq hw fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/9f74f4064cac4c3e945ec199567ebf3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*FSbOFusB7zlKodk-o263CQ.png"/></div><figcaption class="lz ma fg fe ff mb mc bd b be z ek">The API data received on a GET request</figcaption></figure><p id="0b73" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这里要注意的是，在Android上使用像Retrofit/OkHttp这样的库来使用API是一件麻烦的事情。但是正如我们将看到的，Javascript是一种动态的迭代语言，这项工作简化了。</p><p id="efd7" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们首先创建一个MockApp项目，如下所示:</p><pre class="lv lw lx ly fq md me mf mg aw mh dt"><span id="0d60" class="mi kb if me b fv mj mk l ml mm">react-native init MockApp<br/>cd MockApp</span></pre><p id="2161" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后使用以下命令在您的虚拟/本地设备上运行它:</p><pre class="lv lw lx ly fq md me mf mg aw mh dt"><span id="04d7" class="mi kb if me b fv mj mk l ml mm">react-native run-android</span></pre><p id="360c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您将看到一个类似如下的屏幕:</p><figure class="lv lw lx ly fq hw fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/c2f1d4ba9fc4f0ed0d7c2a791ac13667.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*OS4muW2x7jhZ6b0WxABmhQ.png"/></div><figcaption class="lz ma fg fe ff mb mc bd b be z ek">The initial screen of the app</figcaption></figure><p id="3c8b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将使用API制作一个应用程序，如下所示:</p><figure class="lv lw lx ly fq hw fe ff paragraph-image"><div class="fe ff mo"><img src="../Images/759d61c86c8e9700998785fac82bd3e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*Tj-_YYUwXVY_Lj0Nhpgdyw.png"/></div><figcaption class="lz ma fg fe ff mb mc bd b be z ek">The final screen of our app.</figcaption></figure><p id="09aa" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，在文本编辑器中打开项目，编辑App.js，如下所示:</p><pre class="lv lw lx ly fq md me mf mg aw mh dt"><span id="962e" class="mi kb if me b fv mj mk l ml mm">export default class App extends Component&lt;Props&gt; {<br/>constructor(props){<br/>super(props);<br/>this.state ={ isLoading: true}<br/>}<br/>componentDidMount(){<br/>return fetch('https://jsonplaceholder.typicode.com/photos')<br/>.then((response) =&gt; response.json())<br/>.then((responseJson) =&gt; {<br/>this.setState({<br/>isLoading: false,<br/>dataSource: responseJson,<br/>}, function(){<br/>});<br/>})<br/>.catch((error) =&gt;{<br/>console.error(error);<br/>});<br/>}<br/>render() {<br/>    if(this.state.isLoading){<br/>return(<br/>&lt;View style={{flex: 1, padding: 20}}&gt;<br/>&lt;ActivityIndicator/&gt;<br/>&lt;/View&gt;<br/>)}<br/>return(<br/>&lt;View style={{flex: 1, paddingTop:20}}&gt;<br/>&lt;Text style={styles.header}&gt;Mock App&lt;/Text&gt;</span><span id="e154" class="mi kb if me b fv mp mk l ml mm">&lt;FlatList<br/>data={this.state.dataSource}<br/>renderItem={({item}) =&gt; &lt;View style={styles.card}&gt;&lt;Text style={styles.id}&gt; {item.id}&lt;/Text&gt;&lt;Text style={styles.title}&gt;{item.title}&lt;/Text&gt;&lt;Image source ={{uri : item.url }}  style={styles.image}/&gt;&lt;/View&gt;}<br/>keyExtractor={({id}, index) =&gt; id}<br/>/&gt;<br/>&lt;/View&gt;<br/>);<br/>}</span></pre><p id="e89c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，在给定的代码中有很多东西需要解开。我将对代码中的每个主要关键字做一个简短的总结，但是继续查找对你没有意义的每个关键字。掌握所有的窍门需要一些时间。</p><ol class=""><li id="b39d" class="ll lm if je b jf jg jj jk jn mq jr mr jv ms jz lq lr ls lt dt translated"><strong class="je ig"><em class="lg">componentidmount:</em></strong>它是RN app生命周期的一部分。<code class="eh mt mu mv me b">componentDidMount()</code>在组件安装(插入到树中)后立即被调用。</li><li id="e8fc" class="ll lm if je b jf mw jj mx jn my jr mz jv na jz lq lr ls lt dt translated"><strong class="je ig"><em class="lg">Fetch:</em></strong>React Native为你的联网需求提供了<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noopener ugc nofollow" target="_blank"> Fetch API </a>。</li><li id="0b3b" class="ll lm if je b jf mw jj mx jn my jr mz jv na jz lq lr ls lt dt translated"><strong class="je ig"> <em class="lg">状态变量(isLoading，data source):</em></strong><em class="lg">is loading</em>是一个bool变量，表示API数据是否加载。<em class="lg">数据源</em>是存储来自<em class="lg">获取</em>命令的JSON响应的变量</li><li id="2143" class="ll lm if je b jf mw jj mx jn my jr mz jv na jz lq lr ls lt dt translated"><strong class="je ig"> <em class="lg"> FlatList : </em> </strong>它是RecyclerView的RN对应物但简单得多。<strong class="je ig"><em class="lg"/></strong><code class="eh mt mu mv me b">FlatList</code>组件显示不断变化但结构相似的数据的滚动列表。<code class="eh mt mu mv me b">FlatLis </code>适用于长数据列表，其中项目的数量可能会随着时间的推移而变化。</li></ol><blockquote class="nb"><p id="91e0" class="nc nd if bd ne nf ng nh ni nj nk jz ek translated">但是正如我们所看到的，我们不需要为数据列表中的每个数据项单独设置变量。这就是动态语言(即Javascript)的魅力所在。变量的类型是在运行时确定的，因此即使处理大量数据也是一件容易的事情。</p></blockquote><p id="bbc1" class="pw-post-body-paragraph jc jd if je b jf nl jh ji jj nm jl jm jn nn jp jq jr no jt ju jv np jx jy jz hn dt translated">正如我们所看到的，每个组件的样式已经定义，我们必须给它们属性值。这可以如下进行。</p><pre class="lv lw lx ly fq md me mf mg aw mh dt"><span id="a4fe" class="mi kb if me b fv mj mk l ml mm">const styles = StyleSheet.create({<br/>card: {<br/>padding: 20,<br/>margin: 10,<br/>borderColor: '#ff7a00',<br/>borderWidth: 2,<br/>borderRadius: 10,<br/>backgroundColor: '#f3ea68',<br/>flex: 1,<br/>},<br/>header: {<br/>fontSize: 40,<br/>padding: 10,<br/>},<br/>image: {<br/>height: 60,<br/>width: 60,<br/>},<br/>title: {<br/>fontSize: 20,<br/>color: '#000',<br/>},<br/>id: {<br/>fontSize: 30,<br/>}<br/>});</span></pre><p id="f678" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有了这么多代码，我们的工作就完成了。我们成功地得到了一个应用程序，它的组件使用API进行了膨胀。</p><h1 id="b8ba" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">这是最终的结果:</h1><figure class="lv lw lx ly fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nq"><img src="../Images/730345c9150a0a32d5b291bd81a29ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UzOLRqhVP_vtQMmVw6fHVg.gif"/></div></div></figure></div></div>    
</body>
</html>