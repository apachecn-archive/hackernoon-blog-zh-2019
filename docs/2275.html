<html>
<head>
<title>Google+ is Dead. So what?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google+已经死了。那又怎样？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/google-is-dead-so-what-ec8bf9291bd9?source=collection_archive---------12-----------------------#2019-04-09">https://medium.com/hackernoon/google-is-dead-so-what-ec8bf9291bd9?source=collection_archive---------12-----------------------#2019-04-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/1cb39912ccf44b2e40566bfa0a350e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tfqV8QJfSW4PyNNM"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Paweł Czerwiński</a> on <a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d0f3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">谷歌在2019年4月2日关闭了他们的社交媒体平台Google+。很难找到一些没有提到谷歌社交网络时代结束的技术文章。但是，该公司服务内部的高水平连接一致性很少受到关注。在这篇文章中，我想分享我对谷歌服务一致性的内部方式的想法，以及当Google+关闭时，这对谷歌API用户意味着什么。</p><p id="367f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从客户的角度来看，Gmail照片的使用和向文档的进一步转移应该尽可能清晰——乍一看，这些服务是独立的，并统一在一个平台上，这是一个称为单点登录<a class="ae jg" href="http://accounts.google.com/" rel="noopener ugc nofollow" target="_blank">accounts.google.com</a>的接入点。但是作为开发人员，我们知道，术语“关闭”、“接管”、“集成”对那些参与这个过程的人来说有很大的意义(也有作用)。所以，让我们仔细看看谷歌的一个外部服务接管的过程，以及被接管的服务API和谷歌API是怎么回事。</p><h2 id="bb45" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">帐户和用户ID</h2><p id="2cb3" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">除了使用Gmail和可能听说过Google Plus的用户之外，还有大量面向开发者的API，包括账户标识符、臭名昭著的用户标识等。用户ID是谷歌的内部ID，这是帮助谷歌服务了解谁是谁的东西。它出现在很多API中，我们看到它并没有因服务而改变。</p><h2 id="3f2b" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">让我们仔细看看谷歌进行外部收购的另一个例子</h2><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lf"><img src="../Images/29a9c3d0f8e1bedafc96b3f8f1d9b8c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N6CajZDGnk_l9M7pjkP4hg.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Chaos</figcaption></figure><p id="92ed" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">显然，对于新吸收的服务中SSO的实现，不能简单地从旧的基础上获取和转移帐户到新的“Google帐户基础”上。我认为根本不存在这样的东西——有许多相互交织的服务、交互级别、责任链、服务管理服务。说真的，如果你想一想，那么谷歌服务之间必须有许多许多许多层次的连接才能正常工作。但是一切都不那么顺利——为了推广G+,它使用了全球SSO服务用户的userID。</p><p id="785c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们回到正题。需要从API的吸收端和现在可以开始使用新服务的其他服务对现有API进行更改。这看起来没有什么特别复杂的——让这项服务的现有用户群适应“普通的谷歌”服务，创建与其他服务的互动点，以便他们可以为自己的目的使用新服务。但这不是关于小项目——一个好的公司不会在琐事上浪费时间，也不会吸收价值数百万美元的公司，这些公司很可能已经建立了基础设施——否则，它们不可能发展到现在的规模。因此，留下它的代码库，或者更确切地说，服务的核心，并重做服务链接的输入输出通道，使它们与谷歌兼容是有意义的。然后这个服务就变成了谷歌服务。让我们假设此刻它已经被测试过，并且被负责集成的Google的人认为是相当可信的。这是最有趣的部分——服务可以集成到其他服务中和/或在服务之间转移。总的来说，如果不是谷歌倾向于改变服务的注册，这并不可怕。以照片为例。</p><blockquote class="lk ll lm"><p id="7c07" class="jh ji ln jj b jk jl jm jn jo jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd ke hn dt translated">Picasa桌面应用程序(2002) =&gt; Picasa网络相册— Google收购Picasa (2004) =&gt; Google Plus合并Picasa (2011) =&gt; Google Photos从Google+ (2015) =&gt; …</p></blockquote><p id="e91d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">考虑到集成过程的惯性，在大多数产品中，Google仍然支持非常旧的API。在本文发表时，Picasa API仍以Picasa作为独立产品时的方式工作。这让我们得出一个结论，当谷歌整合Picasa作为他们的下一个服务时，他们从原始产品中创建了一个“分支”，并将旧的“分支”留给命运的摆布，但没有关闭其API。</p><p id="3a7e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然后是时候回忆一下关闭G +的原因了。这是由于一个报告的安全问题，但实际上，由于不同API之间的不一致，可能会有更多的安全问题。</p><h2 id="a416" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">概念证明</h2><p id="36c4" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">例如，有一项服务叫做<a class="ae jg" href="https://picasa.google.com/" rel="noopener ugc nofollow" target="_blank">PicasaWeb</a>—<a class="ae jg" href="https://photos.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌照片</a>的前身。它从2016年起<a class="ae jg" href="https://support.google.com/picasa/answer/6383491?hl=en-GB" rel="noopener ugc nofollow" target="_blank">就不可用了，但是根据帖子末尾的注释——它的API仍然在运行。本API的终止日期为2019年3月15日</a>。这项服务值得注意，因为它允许获得电子邮件和内部用户ID匹配。怎么会有用？</p><p id="33c2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">万一<a class="ae jg" href="https://mailcheck.co/?utm_source=medium&amp;utm_medium=inbound&amp;utm_campaign=gplusarticle" rel="noopener ugc nofollow" target="_blank">我们开发一个电子邮件验证器</a>。在这种情况下，这个API将是天赐之物。从G+中知道一个帐户ID，我们可以得到用户名、照片，甚至其他信息。诀窍在于，如果这个用户从未登录过我们的网站，你就无法获得userID。尽管如此，用户仍然可以使用旧的PicasaWebAlbums在与电子邮件链接的网络相册上发布图片。这表明，旧的API允许使用用户ID或用户的电子邮件进入用户的帐户。</p><p id="a693" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们来查一下:<a class="ae jg" href="https://picasaweb.google.com/data/feed/api/user/nosov@nodeart.io?deprecation-extension=true" rel="noopener ugc nofollow" target="_blank">https://picasaweb . Google . com/data/feed/API/user/no SOV @ node art . io？deprecation-extension=true </a></p><ul class=""><li id="3722" class="lr ls hu jj b jk jl jo jp js lt jw lu ka lv ke lw lx ly lz dt translated">https://picasaweb.google.com/data/feed/api/user/—API的终点<a class="ae jg" href="https://picasaweb.google.com/data/feed/api/user/" rel="noopener ugc nofollow" target="_blank">；</a></li><li id="08ec" class="lr ls hu jj b jk ma jo mb js mc jw md ka me ke lw lx ly lz dt translated">nosov@nodeart.io —用户用于验证的电子邮件(如我们所见，不要求仅使用Gmail电子邮件)。用户拥有Google Apps帐户(这一事实有助于验证对潜在客户生成有用)，拥有Google+帐户的用户也拥有此帐户(通过事先链接第三方电子邮件)，例如Yandex.ru</li><li id="9a1a" class="lr ls hu jj b jk ma jo mb js mc jw md ka me ke lw lx ly lz dt translated">deprecation-extension=true —关于即将到来的API端点的指示。</li></ul><p id="4926" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果我们试图<a class="ae jg" href="https://picasaweb.google.com/data/feed/api/user/noname@nodeart.io?deprecation-extension=true" rel="noopener ugc nofollow" target="_blank">传递不存在的电子邮件</a>，我们将得到明确的解释响应:“无法找到电子邮件为<a class="ae jg" href="mailto:noname@nodeart.io" rel="noopener ugc nofollow" target="_blank"> noname@nodeart.io </a>的用户，这导致该电子邮件无效的结论。甚至更多——如果我们试图向API发送一个组邮件地址，答案是“未知用户”。这样就有可能区分个人高管电子邮件和公司电子邮件的区别。如果个人数据没有被用户共享，很难说我们能以这种方式“捕获”个人数据，但是这对于通过API对用户列表进行全局验证是有好处的。</p><h2 id="0e4d" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">那么，这种不精确与Google+关闭有什么联系呢？</h2><h2 id="0f3f" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">结论</h2><p id="c312" class="pw-post-body-paragraph jh ji hu jj b jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka le kc kd ke hn dt translated">关闭Google+的主要原因是安全漏洞，更准确地说，是服务从Google+获取数据的能力，而这些数据是事先没有计划和打算的。</p><p id="ea36" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">除了Google+，还部分关闭了各种API。例如，<a class="ae jg" href="https://cloud.google.com/blog/products/g-suite/elevating-user-trust-in-our-api-ecosystems" rel="noopener ugc nofollow" target="_blank">您应该通过payed audit才能访问gmail.api </a>，这使得大多数开发人员无法使用该api。</p><h2 id="999b" class="kf kg hu bd kh ki kj kk kl km kn ko kp js kq kr ks jw kt ku kv ka kw kx ky kz dt translated">引用</h2><blockquote class="lk ll lm"><p id="c275" class="jh ji ln jj b jk jl jm jn jo jp jq jr lo jt ju jv lp jx jy jz lq kb kc kd ke hn dt translated">评估费用由开发人员支付，根据应用程序的大小和复杂程度，费用可能从15，000美元到75，000美元(或更多)不等。</p></blockquote><p id="3bca" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">事实上，这让我们有理由认为谷歌已经卷入了服务之间的交互系统，因为以前可以简单地通过获得所需范围来执行的操作，现在需要花费15-75，000美元进行手动验证，并手动包括在白名单中。现在只能猜测使用Google丰富的服务生态系统(尤其是SSO服务)的未记录功能还能做些什么。</p><p id="8847" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了对邮件列表进行定性验证，我们需要寻找新的非标准的公共API使用方式，因此我们将继续探索谷歌\脸书API和其他服务。(顺便说一下，脸书直到最近也有类似的邮件验证方式。)</p><figure class="lg lh li lj fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure></div></div>    
</body>
</html>