<html>
<head>
<title>How to set up your local projects to contribute to Laravel (or any PHP library) : a practical guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设置您的本地项目来为Laravel(或任何PHP库)做贡献:实用指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-set-up-your-local-projects-to-contribute-to-laravel-or-any-php-library-a-practical-guide-7f2ca9910eef?source=collection_archive---------14-----------------------#2019-02-06">https://medium.com/hackernoon/how-to-set-up-your-local-projects-to-contribute-to-laravel-or-any-php-library-a-practical-guide-7f2ca9910eef?source=collection_archive---------14-----------------------#2019-02-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ad45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们设想这样一个场景:您正在开发一个Laravel应用程序，您发现了一个bug，要么是在框架本身，要么是在您正在使用的某个第三方库中。你在你的项目中编辑代码，或者你安装了一个新的有问题的Laravel和库，你在那里编辑代码。您保存了更改，但是当您到终端提交更改时，GIT忽略了您所做的事情。你开始想“这里发生了什么？”。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/f04d4bee2293705a9ea5a00a2b394029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iSGoU2YNE6qI3Tz5BvmTzA.jpeg"/></div></div></figure><p id="b3f7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您脑海中出现的第一个解决方案可能是阅读框架的“如何贡献”或库文档，在大多数情况下，您会发现对框架做出贡献的必要步骤，但我总觉得文档中缺少了一些东西。让我解释一下我的意思:</p><p id="8e14" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们以Laravel为例，如果你决定为框架做贡献，你需要克隆<a class="ae kb" href="https://github.com/laravel/framework" rel="noopener ugc nofollow" target="_blank"> laravel/framework </a>库，将你的更改推送到你自己的库副本(在github上)，并创建一个PR，但是这里缺少的是你如何在本地项目中测试你的更改(bug修复，新特性等等)，因为如果你在那个项目中引入了更改，你就不能简单地提交它们并为它们创建PR。 如果您更改了您刚刚克隆的<code class="eh kc kd ke kf b">laravel/framework</code>存储库中的代码，您可能会为了测试这些更改而在这个存储库和您的项目之间进行大量的复制/粘贴。</p><p id="90ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">幸运的是，有一种更干净的方法来处理这一切。我不会带你走一遍创建一个公关的一般步骤，我想既然你正在读这篇文章，你已经很熟悉了。我将重点介绍如何设置您的本地环境来简化整个过程，并向您展示如何在框架/库中修复错误和开发新功能，并在您创建将要发送的PR之前在本地测试它们。</p><h1 id="6d5a" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">准备您的测试项目和存储库</h1><p id="47d1" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">首先，您需要派生出<code class="eh kc kd ke kf b">laravel/framework</code>库，然后在本地克隆它(这是为任何开源项目做贡献时的常用步骤)，然后创建一个测试应用程序，您将在其中测试这些更改(我称之为playground)</p><pre class="jq jr js jt fq lj kf lk ll aw lm dt"><span id="cc1b" class="ln kh hu kf b fv lo lp l lq lr">➜ laravel pwd<br/>/home/djug/laravel<br/>➜ laravel ls<br/>framework playground</span></pre><h1 id="9ceb" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">让Composer从本地存储库中加载更改</h1><p id="0978" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">现在，最重要的部分。我们需要告诉<code class="eh kc kd ke kf b">playground</code>应用程序考虑我们在<code class="eh kc kd ke kf b">/home/djug/laravel/framework</code>存储库中引入的变更</p><p id="218c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以通过composer来实现，根据它的<a class="ae kb" href="https://getcomposer.org/doc/05-repositories.md#loading-a-package-from-a-vcs-repository" rel="noopener ugc nofollow" target="_blank">文档</a>，我在这里引用:</p><blockquote class="ls lt lu"><p id="0a3b" class="ir is lv it b iu iv iw ix iy iz ja jb lw jd je jf lx jh ji jj ly jl jm jn jo hn dt translated"><strong class="it hv">从VCS仓库中加载一个包</strong> <br/> <em class="hu">这里有一些用例。最常见的一种是维护自己的第三方库。如果您正在为您的项目使用某个<br/>库，并且您决定更改<br/>库中的某些内容，您将希望您的项目使用修补版本。如果<br/>库在GitHub上(大多数时候都是这样)，你可以<br/>简单地把它分支到那里，然后把你的修改推到你的分支上。之后，<br/>您更新项目的composer.json。您所要做的就是添加您的<br/> fork作为存储库，并更新版本约束以指向<br/>您的定制分支。</em></p></blockquote><p id="81d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以<code class="eh kc kd ke kf b">composer.json</code>文件的第一部分(在我的<code class="eh kc kd ke kf b">playground</code>项目中)应该是这样的:</p><pre class="jq jr js jt fq lj kf lk ll aw lm dt"><span id="31b9" class="ln kh hu kf b fv lo lp l lq lr">{<br/>    "name": "laravel/laravel",<br/>    "type": "project",<br/>    "description": "The Laravel Framework.",<br/>    "keywords": [<br/>    "framework",<br/>    "laravel"<br/>    ],</span><span id="2aeb" class="ln kh hu kf b fv lz lp l lq lr">    "license": "MIT",<br/>    "repositories": [<br/>        {<br/>            "type": "vcs",<br/>            "url": "/home/djug/laravel/framework/"<br/>        }<br/>    ],<br/>    "require": {<br/>        "php": "^7.1.3",<br/>        "fideloper/proxy": "^4.0",<br/>        "laravel/framework": "master",<br/>        "laravel/tinker": "^1.0"<br/>    },<br/>...<br/>}</span></pre><p id="ea47" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，每次我在<code class="eh kc kd ke kf b">/home/djug/laravel/framework/</code>库中更改一些东西并提交更改(你需要提交它)，如果我在我的<code class="eh kc kd ke kf b">playground</code>项目上执行<code class="eh kc kd ke kf b">composer update</code>，它就会得到更改。</p><h1 id="7464" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">3/将更改推送到您的远程存储库并创建一个PR</h1><p id="2d0e" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">既然您的playground存储库可以从您的<code class="eh kc kd ke kf b">framework</code>存储库中提取变更，那么您可以将您想要的所有变更添加到您的代码中，然后在一个“真正的”项目中测试它们。</p><p id="bee8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完成测试后，您需要做的就是将更改推送到您的远程存储库(例如GitHub上您自己的<code class="eh kc kd ke kf b">framework</code>存储库的“副本”),然后创建pull请求。</p><p id="cdac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">约翰·施诺布里奇在<a class="ae kb" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></div></div>    
</body>
</html>