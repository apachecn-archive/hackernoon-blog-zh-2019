<html>
<head>
<title>Blockchain fees are broken. Here are 3 proposals to fix them.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">区块链收费断了。这里有 3 个建议来解决这些问题。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/blockchain-fees-are-broken-here-are-3-proposals-to-fix-them-1f772e1530dd#2019-06-03">https://medium.com/hackernoon/blockchain-fees-are-broken-here-are-3-proposals-to-fix-them-1f772e1530dd#2019-06-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="744f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当中本聪设计比特币协议时，他洞察到交易费用的概念。这些费用激励矿商将交易纳入大宗交易。但最初，从任何有意义的意义上来说，比特币都没有一个<em class="jp">费用市场</em>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/af9978bf91b9329bce84f83a56f4c96f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0fTbxAoCdTrMuI08.png"/></div></div></figure><p id="bc9a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很大一部分早期比特币交易直到 2013 年都是完全免费的(上图中的蓝色)。钱包开发者最终将小额固定费用硬编码到他们的客户身上，被认为是对矿商的捐赠。起初，这些费用默认为 0.1 BTC，但随着比特币价格的上涨，它们被压低了。</p><p id="5a15" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一批比特币真正达到饱和将是在 2014 年末。2015 年将会看到很长一段完整的区块，到 2016 年，比特币区块链将继续以或多或少的满负荷运行。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kc"><img src="../Images/7cc5fa101f161b8df7188889070aac5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*P35GbcKhrNFZRFM1.png"/></div></div></figure><p id="5fc1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">只有在区块满了之后，比特币区块才真正开始发挥收费市场的功能。程序员开发了动态费用估算器，它检查内存池并预测在任何给定时间支付的最佳费用。由于对有限区块空间的竞价战，交易费用有时会飙升。</p><p id="9f16" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这让我们走到了今天。比特币费用再次攀升<a class="ae kd" href="https://cryptobriefing.com/bitcoin-fees-scaling-debate/" rel="noopener ugc nofollow" target="_blank">接近每笔交易 3 美元</a>，随着天然气用量接近历史新高，以太坊的费用也在上涨。</p><p id="7338" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Satoshi 有先见之明，意识到了交易费的重要性。但我们现在对收费市场在竞争下的表现有了更多的了解。Satoshi 实施的收费市场从根本上被打破了，是时候探索其他市场设计了。</p><p id="9e86" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我解释了为什么在几乎所有加密货币中使用的块空间的第一价格拍卖最终对用户不利。然后，我概述了 3 个最突出的替代收费模式的建议。</p><p id="8834" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一种是 EOS 和 Tron 使用的“免费”模式，我认为这种模式并不像看起来那样有效。第二种模式由 Vitalik 提出，很快将在以太坊硬分叉中采用，这是一种新的每块固定费用，它被烧掉，而不是支付给矿工。第三种模式是康奈尔大学研究人员提出的一个更为激进的提议，他们将多单位二级价格拍卖适用于区块链环境。</p><p id="3fdf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的目标是用最简单的语言解释所有这些设计。</p><p id="b6e3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有很多要讲的。但是在我们<a class="ae kd" href="https://en.wikipedia.org/wiki/Wikipedia:Chesterton%27s_fence" rel="noopener ugc nofollow" target="_blank">拆除这个围墙</a>之前，我们应该首先确定我们首先明白它为什么在这里。</p><h1 id="766b" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">为什么我们需要一个收费市场？</h1><p id="cf8e" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">交易费既烦人又昂贵，而且构成了一个复杂的 UX。为什么不能让矿工免费包含交易呢？毕竟互联网是免费的，路由器路由数据包不收任何费用。为什么区块链不能像那样？</p><p id="fda6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是互联网本身并不是免费的。这种感觉只是因为互联网的发展程度。但是你实际上为你发送的每个包付费。</p><p id="2e0b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于互联网，你可以通过你的 ISP 或运营商的每月带宽计划提前批量购买这些包。这种计划在区块链还不存在，很大程度上是因为需求如此不稳定，以至于承保这样的计划是不可行的。也许有一天，我们会看到类似的计划用于区块链。</p><p id="6a4c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是区块链的环境有更多的限制:机会成本。如果你不给矿商一个经济激励，让他们把你的交易纳入他们的区块，他们就不会这么做。这是因为处理交易需要时间和计算，这侵蚀了矿工的底线。较大的块也需要较长的传输时间，这增加了该块被孤立的可能性。一个空的比特币块在今天的纯块奖励中价值约为 10 万美元，而一个空的以太坊块约为 600 美元。这对任何一家矿商来说都是重大损失。只要交易费用相对来说可以忽略不计，矿商们就会非常乐意<a class="ae kd" href="https://www.blockchain.com/btc/block/000000000000000000138250dba2adb1715ff6f84441b03b18db2258910c8c96" rel="noopener ugc nofollow" target="_blank">开采一个没有任何交易的空区块</a>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lh"><img src="../Images/c31f0885d08013f710ca2b2ac17d613b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hux4vLs9UIHULR63.png"/></div></div></figure><p id="ad41" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(实际上，这些空块中的大部分都是在收到最新的块后很快就被挖掘出来的，这是在可以准备具有唯一事务的块模板之前。)</p><p id="d46b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，事务创建的任何新状态都必须永久存储在区块链中。这是你强加给系统中每个节点的永久成本。为什么你可以免费做那件事？</p><p id="1049" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可能会提出抗议:但如何保护加密货币作为公共产品的完整性呢？难道矿工们不想遵循聪的禁令吗:</p><blockquote class="li"><p id="8d69" class="lj lk hu bd ll lm ln lo lp lq lr jo ek translated"><em class="ls">他应该会发现，遵守规则[……]比破坏体系和自己财富的合法性更有利可图。</em></p></blockquote><p id="e368" class="pw-post-body-paragraph ir is hu it b iu lt iw ix iy lu ja jb jc lv je jf jg lw ji jj jk lx jm jn jo hn dt translated">嗯，不，不是真的。自私和忽视低收费交易符合任何矿商的个人利益。这是为什么到目前为止，每 6 个比特币块中就有 1 个是完全空的。</p><p id="0fab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好吧，好吧。我们需要对矿商进行补偿，让他们觉得交易是值得的。为什么不对每笔交易收取固定费用(或者说，每字节/气体收取固定费用)？这似乎会使事情变得更简单，我们可以避免费用飙升。</p><p id="b6b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但问题是:一名矿工如何在潜在候选人中进行优先排序，以进入一个区块？如果块中的候选事务比槽多，我们如何决定什么去哪里？你可能会认为平等主义的方法是理想的:每个人都受到平等对待，矿商根据先来先服务的原则将交易纳入区块。</p><p id="c28e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种设计有几个问题，但最重要的一个是:我们如何为真正更高优先级的事务设置例外？例如，我可能在懒洋洋地整合我的一些钱包，而你却在拼命地为你的即将被清算的制造商 CDP 再融资。我不在乎我的交易什么时候通过，但是你急需进入这个街区。固定费用机制不能为高优先级事务提供例外。</p><p id="ec71" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在一个理想的设置中，我们想实际算出<em class="jp">谁现在最需要块空间</em>，然后将它授予那个人。</p><p id="2aa8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">事实证明，市场恰恰是这个问题的解决方案。市场擅长将稀缺资源分配给最具生产力/利润的用途。谁对块空间的使用效率最高，最好的信号就是谁愿意为此支付最高的价格(因为他们希望获得更多的价值来抵消成本)。在经济学中，这一概念被称为<strong class="it hv">配置效率</strong>——基本上，将资源分配给那些最能利用它们的人。</p><p id="601d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但市场只是起点。我们这里需要什么样的<em class="jp">市场？为此，我们必须着眼于丰富的拍卖设计领域。</em></p><h1 id="e9f6" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">拍卖设计</h1><p id="7826" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">几乎所有的区块链费用市场都是一级价格拍卖。在第一价格拍卖中，所有投标人都提交密封的投标，出价最高的人支付他们出价的任何东西。这基本上是设计密封投标拍卖最显而易见的方式。(当然，从技术上来说，区块链费用并不是密封的，它们通常可以使用<a class="ae kd" href="https://en.bitcoin.it/wiki/Replace_by_fee" rel="noopener ugc nofollow" target="_blank"> RBF </a>或<a class="ae kd" href="https://bitcoinelectrum.com/how-to-do-a-manual-child-pays-for-parent-transaction/" rel="noopener ugc nofollow" target="_blank"> CPFP </a>进行更新，但它们在大多数情况下仍像一级价格拍卖一样)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ly"><img src="../Images/af91095c16ca91071b4f3cbd8cc7d5aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dd2sKG8uC0PBoUOG.png"/></div></div></figure><p id="11fb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为每个被拍卖的区块在其区块空间中都有多个位置，这被称为<em class="jp">多单元拍卖</em>。该块中的第一个位置属于出价最高者，第二个位置属于出价第二高者，依此类推。(以太坊稍微复杂一些，因为“槽”可以相互影响，比如在<a class="ae kd" href="https://arxiv.org/abs/1904.05234" rel="noopener ugc nofollow" target="_blank"> DEX 套利</a>。)</p><p id="2b6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管无处不在，但第一价格拍卖被广泛认为是最糟糕的拍卖方式之一。理解原因相当简单。</p><p id="93f7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，第一价格拍卖迫使竞标者变得更有战略眼光。换句话说，在你出价之前，你必须考虑其他竞标者会怎么做。如果其他人出价都很低怎么办？你不想出价过高，即使这件物品对你来说很值钱。但是如果你出价太低，也许你会被抢先。每个人都在试图利用这个系统，这意味着有时对资产最有效利用的竞标者会意外出价过低，其他人可能会赢得拍卖。这损害了配置效率。</p><p id="01a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为投标人采用复杂的策略(通常体现在区块链费用估算中)，他们往往不会准确地衡量市场条件，这通常会导致总体超额支付(由拍卖人捕获——在这种情况下，是矿商)。你可以在 2017 年末看到这种情况，当时设计不良的费用估算器导致比特币平均费用上涨至每笔交易 20 美元以上。</p><p id="28ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，首价拍卖机制导致长期拥堵，即使在最初的竞标者蜂拥而至已经过去之后。毕竟，如果其他人的费用估算者都很困惑，仍然多付了，即使你<em class="jp">知道他们多付了</em>，如果你想进入一个街区，你也别无选择，只能多付。这导致费用飙升持续的时间超过了必要的时间。</p><p id="4536" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">费用估算员一般都很挑剔。大多数费用估算者是某种<a class="ae kd" href="https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average" rel="noopener ugc nofollow" target="_blank">指数移动平均线(EMA) </a>，比如在<a class="ae kd" href="https://bitcointechtalk.com/an-introduction-to-bitcoin-core-fee-estimation-27920880ad0" rel="noopener ugc nofollow" target="_blank">比特币核心</a>。但是这些费用估算者容易被矿商操纵——矿商可以通过排除低价值交易或在他们的区块中填充虚假的高费用交易来单独提高均线。此外，不同的费用估算算法经常以不可预测的方式相互作用，这可能导致费用估算的波动。大多数高级用户最终会训练自己的直觉来进行更好的费用选择。</p><p id="0378" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后是<em class="jp">支付</em>费用的实际 UX。比特币的情况没那么糟糕，因为它只是对每一笔比特币汇款征税。但是，在像以太坊这样的智能合约平台上，如果用户获得了一个 NFT 或一些戴，他们突然也需要获得一些以太网来支付费用。现在，你的加密的<a class="ae kd" href="https://alexiskold.net/2016/06/01/what-is-the-magic-moment-for-your-startup/" rel="noopener ugc nofollow" target="_blank">魔法时刻</a>被口吐白沫的 MetaMask 打断，并指引你去比特币基地买一些 ETH。</p><p id="245b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每个人看到的问题都是一样的。有可能确定区块链费用吗？在那个问题上意见不一致。但以下是试图重新设计区块链收费的团队提出的三个最重要的提议。</p><h1 id="7da5" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">提议 EOS“免费”模式</h1><p id="5bd5" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">丹·拉里默(Dan Larimer)发明了一个关于区块链费用模型的激进创新，首先在 Steem 中实现，现在在 EOS 中实现(后来被 Tron 借用)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lz"><img src="../Images/67ae3a04d8cc0a7a695f5b51500694e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lRba1rNvkLkaGa3X.png"/></div></div></figure><p id="1ac7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">丹·拉里默知道处理波动的费用是多么令人沮丧。他设想了一个系统，在这个系统中，用户不再以块为单位竞标空间，而是被授予系统吞吐量的一部分。毕竟，区块链应该是一种公共产品，为用户群服务。</p><p id="dabd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为 EOS 是一个 DPOS 系统，它不像 PoW 那样没有权限。为了成为一名街区制作人，你需要被足够多的硬币持有者投票选举。因此，EOS 不需要担心块生产者不包括事务:如果一个块生产者正在创建空块，他们可能会被硬币持有者投票淘汰。此外，孤儿风险也很小，因为 EOS 的 DPOS 共识就像每个区块生产商之间的循环一样，每个人都有很长的时间来做他们需要的工作。这给了 EOS 对块生产者行为的一致检查。</p><p id="0f5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但即使如此，基本问题仍然存在:给定有限的块空间，我们应该如何在竞争事务之间分配它？</p><p id="60c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">EOS 采取了完全取消交易费的大胆立场。耶！但是如果区块链很拥挤，我们仍然需要一些方法来决定谁进入街区。</p><p id="6604" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，EOS 采用了一种看似简单的启发式方法:用户锁定他们的 EOS 令牌，他们锁定的令牌数量给予他们相应的权利来阻止空间。利益相关者也可以自由地将他们多余的资源分配给其他人。这使得 Dapp 开发者可以购买大量 EOS，进行投资，并将投资委托给他们的用户，让他们免费与 Dapp 互动。</p><p id="c95c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">(注意:我在这里掩盖了很多复杂性。EOS 实际上有三种计算资源，称为“RAM”、“带宽”和“CPU”，不像以太坊将所有资源消耗都计为“gas”。与存储相对应的 RAM 吸引了更多的需求和投机。这导致 EOS 团队在发布后修补 RAM，以便根据基于 Bancor 的市场机制</em>  <em class="jp">分配现在的</em> <a class="ae kd" rel="noopener" href="/eosio/introducing-eosio-dawn-4-0-f738c552879"> <em class="jp">。“CPU”和“带宽”仍然基于锁定的 EOS 令牌进行分配。为了简单起见，我将 EOS 模型视为专门指“CPU”和“带宽”是如何分配的，因为 RAM 在 EOS 上不再有效地空闲。)</em></a></p><p id="69db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么，我们应该如何看待 EOS 免费设计呢？</p><p id="b110" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，它有很多令人喜欢的地方。当系统未满负荷时，事务确实是自由的，我们不需要担心块生产者拒绝包含事务。当系统在低容量下运行时(EOS 和 Tron 自诞生以来都是如此)，它运行得很顺畅。这真的很简单明了。</p><p id="00f1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是这里也有很多不喜欢的地方。</p><p id="2b8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">传统的第一价格拍卖试图通过以下方式有效地分配资源:我们将看看谁愿意为这个区块空间支付最多。相反，EOS 说:我们将会看到此时谁拥有最多的 EOS，这个人将获得这个块空间。</p><p id="2005" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这太奇怪了。</p><p id="1e90" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，EOS 的最大持有者很可能是 Block.one 团队本身、大型 Block 生产商、托管人、交易所和 whales。但是他们不太可能做大部分的交易。当然，普通用户可能可以通过委托从与如此大的 EOS 持有者的交互中获得自由块空间。但是现在我们希望这种偶然的资源分配(由富有的 Dapp 开发者赞助的免费交易)以某种方式接近分配效率。</p><p id="c706" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你不想使用一个由大型 EOS 持有者赞助的应用程序，该怎么办？在以太坊，你需要花少量的货币来支付交易费用。在 EOS 中，你需要购买并锁定一些 EOS 代币——本质上，迫使你<em class="jp">做多基础货币</em>以获得交易权。这真是一个奇怪的约束。当然，如果你不想要那么长的风险敞口，你可以构建一个对冲 EOS 价格的工具。但是你仍然要支付“交易费”，但是现在是给提供你对冲的人。</p><p id="8919" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">EOS 支持这种模式，因为它声称这有效地消除了费用市场。但在均衡中，我不认为我们真的应该期待收费市场随着这种设计而消失。</p><p id="27f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦区块达到最大容量，区块空间变得稀缺，持有 EOS 的大股东将坐拥未使用的区块空间权。在这种情况下，与其让他们对宝贵资源的权利白白浪费，他们为什么不干脆，你知道，<em class="jp">把它们拍卖给出价最高的人？</em></p><p id="af6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这让我们回到了起点。哪里有对稀缺资源的需求，哪里就有市场。它们是经济复杂性不可阻挡的特征。因此，只要<em class="jp">对块空间的权利分配偏离了对块空间的需求</em>，市场最终将会出现以纠正这种偏离。</p><p id="eb4a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，虽然这种类型的设计一开始听起来不错，但如果你用游戏理论来解决它，它看起来就像一个糟糕的解决方案。当供应(块空间)持续超过需求时，在<em class="jp">所有区块链</em>的交易接近免费。但是，试图迫使交易自由将不可避免地导致市场在被压制的地方重新崛起。</p><h1 id="475f" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">提议 2:以太坊的新收费市场，EIP-1559</h1><p id="c4ef" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我们要看的第二个提议是由 Vitalik Buterin 提出的，在 2018 年 8 月在<a class="ae kd" href="https://ethresear.ch/" rel="noopener ugc nofollow" target="_blank"> ethresear.ch </a>上的<a class="ae kd" href="https://ethresear.ch/t/draft-position-paper-on-resource-pricing/2838" rel="noopener ugc nofollow" target="_blank">立场文件</a>中首次全面阐述。这一提议将在即将到来的伊斯坦布尔硬分叉会议上进行审议，因此它可能会成为以太坊费用的未来工作方式。(到目前为止，以太坊的收费市场和比特币一样。)</p><p id="2db3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Vitalik 用不同的设计理念来解决这个问题。他不是从一张白纸开始，试图揭示理论上最佳的设计。相反，他优化了最向后兼容和最小破坏性的协议变化，改善了收费市场。这让他来到了现在的<a class="ae kd" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md" rel="noopener ugc nofollow" target="_blank"> EIP-1559 </a>。</p><p id="2746" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以把 EIP-1559 背后的大想法想成是把费用估算直接移植到协议中，而不是把它放在费用估算器中。假设所有关于交易、阻塞和费用的信息完全是协议内部的，为什么不能在区块链内部完成呢？</p><p id="e4a2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以 EIP-1559 正是这样尝试的。它引入了每笔交易必须支付的固定费用。该固定费用根据前一个数据块的满度上下浮动，目标是平均数据块利用率为 50%。当前一个块的使用率超过 50%时，固定费用会按比例增加(上限为每块+12.5%)，当使用率低于 50%时，费用会降低。在某种意义上，这使每个人都在同一个协议内费用估算器上同步。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ma"><img src="../Images/37a89a7e43cc66540fd3fcea3de6e271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GgEIqp44rx4lrXHC.png"/></div></div></figure><p id="426c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">EIP-1559 的另一个特点是，这些固定费用实际上并没有支付给矿工。相反，他们被烧伤了。这产生了两个重大后果:首先，矿商操纵这一机制的难度加大了，因为他们无法在不消耗费用的情况下，将自己的交易打包。第二，因为这种费用燃烧必须在以太中进行，它巩固了以太作为支付以太坊使用的唯一方式，阻止了经济抽象。现在，费用不再是从用户到矿商的价值转移，而是通过较低的通货膨胀从用户到所有 ETH 持有者的价值转移。</p><p id="cbc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">到目前为止，一切顺利。除了最后一个问题:如果费用只是被烧掉，那么矿商就没有动力实际计入交易！因此，这种设计的最后一个组成部分是，每笔交易都有一个小“小费”，用户可以将它添加到交易中，以激励矿工。tips 中仍有少量第一价格竞价的空间，但假设费用调整机制正常运行，拍卖的范围应该很小。</p><p id="6d4f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这应该使费用估算变得非常简单:你应该能够只消耗当前的固定费用，加上一些小的提示(补偿矿工的计算成本+孤儿风险)。</p><p id="7f2a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，如果突然出现拥塞(例如在 ICO 期间)，费用调整算法将无法及时适应。在这种情况下，市场将回归第一价格拍卖，每个竞标者都以高额小费进行竞争。但这不会比现状更糟。Vitalik 还建议，当以乙醚计价时，这些固定费用不太可能特别不稳定，因为交易需求和乙醚价格在实践中往往高度相关。</p><p id="3e1a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种变化还将伴随着气体限制的加倍(从大约 8M 到大约 16M)，从而系统可以在当前块大小下有效地达到 50%的使用目标。</p><p id="a6a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">EIP-1559 的一个结果是更简单的费用估算。除非突然出现拥堵，否则费用估算员应该只需要出价<code class="eh mb mc md me b">current_fee + ε</code>。从均衡角度来看，这消除了区块链费用中的第一价格拍卖机制，并避免了策略性投标。竞标者只需要问自己:“对我来说，进入区块链值得吗？如果没有，现在就不要出价。”</p><p id="ae2e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总而言之，EIP-1559 描述了一个非常实际的演变，从简单的第一价格拍卖，区块链历来使用。这不是一个雄心勃勃的政权更迭。但是从工程的角度来看，这是一个简单且破坏性最小的改进，可能会在今年登陆以太坊。</p><h1 id="88d3" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">提议#3:多单位第二价格拍卖</h1><p id="8aaa" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">读完所有这些，你可能会想:肯定有某个默默无闻的学术部门在研究拍卖，并知道一个解决所有这些问题的聪明机制。你几乎是对的。拍卖理论是应用经济学和博弈论的一个分支，至少从 60 年代开始研究拍卖设计。不幸的是，它并没有完全转化为加密货币。这让我们看到了由 Soumya Basu、David Easley、玛琳·奥哈拉和 Emin Gün Sirer 撰写的一篇精彩论文:<a class="ae kd" href="http://hackingdistributed.com/2019/01/22/doing-fees-right/" rel="noopener ugc nofollow" target="_blank">走向加密货币的功能性收费市场</a>。</p><p id="acd5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">先说一些背景。</p><p id="6360" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或许拍卖理论皇冠上的宝石是维克瑞拍卖，威廉·维克瑞因此获得了 1996 年的诺贝尔奖。这种拍卖通常被称为<strong class="it hv">二价拍卖</strong>。</p><p id="a479" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第二价格拍卖是一个简单的想法。就像在一级价格拍卖中，所有的出价都是秘密的，出价最高的人获胜。但赢家不支付他们的出价；相反，他们支付第二高出价者出价的<em class="jp">(有时是+ 1 美分)。</em></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mf"><img src="../Images/c687258dc726a933dbee391cc8797176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7VuvE2HyExXnstFx.png"/></div></div></figure><p id="cc4a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">设计上的这一微小变化最终会改变一切。</p><p id="441f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第二价格拍卖是<strong class="it hv">激励相容</strong>。这意味着，与第一价格拍卖不同，第二价格拍卖不需要策略。相反，你应该“诚实”地出价，不管这件物品对你来说值多少钱。毕竟，如果你的出价太高，你不会有任何损失——如果你赢了，无论你出价多高，都会退还给你。因此，你不需要猜测其他人会出价多少，或者试图智胜。</p><p id="f344" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，我们应该期待每一方对他们认为的资产价值进行投标。按照博弈论的说法，在二价拍卖中,“如实”出价是一种优势策略。</p><p id="e13b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为第二价格拍卖不鼓励战略出价，这也意味着拍卖产生了配置效率:由于每个人都只出价自己的价值，平均而言，出价最高的人将是资产价值最高的人。没有投标人的认知负荷，没有怪异的费用估算游戏，也没有系统性的过高支付。</p><p id="65d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种设计简单、优雅、功能强大。这就是为什么它在许多场合被作为拍卖设计的黄金标准，从易贝到谷歌和脸书的广告市场。</p><p id="a255" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，第二价格拍卖不太适合区块链。</p><p id="06bc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，区块链不是在拍卖一件物品:他们实际上是一场多单位的拍卖。为了适应这一点，你需要使用一个多单位的第二价格拍卖。在这个变体中，区块空间的所有投标人提交投标，并且每个人支付被该区块接受的最低投标。</p><p id="efe5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，假设一个区块中只有 3 个时段，但有 5 个出价:<code class="eh mb mc md me b">&lt;$10, $8, $6, $5, $3&gt;</code>。在这种情况下，只有<code class="eh mb mc md me b">&lt;$10, $8, $6&gt;</code>被包括在内，但他们每个人支付的中标金额最小，所以最后一块的费用是<code class="eh mb mc md me b">[$6, $6, $6]</code>。</p><p id="6ee7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这个例子中，10 美元的投标人不需要<em class="jp">猜测</em>网络拥塞会是什么样子。他们只需要决定，“我最多愿意为这笔交易支付 10 美元，”但如果他们遇到障碍，他们几乎总是会支付低于该金额的金额。</p><p id="32aa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，如果你像一个优秀的密码经济学家一样思考，你可能已经注意到了一些对此的攻击。</p><p id="cb66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">假设内存池看起来像<code class="eh mb mc md me b">&lt;$100, $20, $10&gt;</code>。贪婪的矿工可以忽略其他较小的交易，只让他们的区块成为<code class="eh mb mc md me b">[$100]</code>，而不是将该区块中的所有交易都作为<code class="eh mb mc md me b">[$10, $10, $10]</code>收入 30 美元。记住，在战俘制度中，我们不应该相信拍卖人是诚实的。如果没有诚实的假设，第二价格拍卖背后的保证就会失效。</p><p id="5531" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就把我们带到了<a class="ae kd" href="http://hackingdistributed.com/2019/01/22/doing-fees-right/" rel="noopener ugc nofollow" target="_blank">一个面向加密货币的功能性收费市场</a>。在他们的论文中，作者试图适应多单位第二价格拍卖的无许可区块链设置。</p><p id="88fb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们分两步扩大第二价格拍卖。首先，它们引入了每个块<em class="jp">必须</em>完全充满事务的要求。这阻止了矿工执行我们之前演示的单次交易 100 美元的块技巧。但由于矿工只是支付自己，他们总是可以通过创建自己的<em class="jp">合成</em>高费用交易来作弊，填充<code class="eh mb mc md me b">[$100, $20, $10]</code>块，就像这样:<code class="eh mb mc md me b">[$100, *$99, *$99]</code>(其中<code class="eh mb mc md me b">*</code>交易是自我支付)。</p><p id="922f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了防止这种古怪的行为，作者增加了第二个补充:不是矿工被授予他们自己区块的交易费，而是他们收到过去许多区块(比如 10 个)的平均交易费。因此，他们将只收到其所在区块 1/10 的交易。如果他们创造了合成的自我支付，他们实际上是将 90%的交易费用支付给了接下来的 10 家矿商。当区块满负荷运行且系统中有许多用户时，这促使矿工避免任何恶作剧。</p><p id="67bc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除了降低费用之外，这一方案还有平滑交易费用波动的好处。这避免了许多费用狙击攻击，并在区块奖励逐渐减少后增加了比特币的稳定性。在他们的论文中，作者估计，在 2017 年比特币费用上涨期间，他们的设计可以节省约 2.7 亿美元的交易费用。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/6a0c32c46400fb28da0411854805877e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/0*kvaAKsMtOWWXjWbc.png"/></div></figure><p id="6051" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们的设计理论上很吸引人。但这与目前为区块链设计的收费市场有很大不同。采用这样的系统需要一把硬叉子，并且会打破几乎所有的钱包和交易所。对于用户来说，考虑如何付费也是一个全新的范例，毫无疑问，在实践中会出现无法预见的问题。也就是说，从长远来看，多单位二级价格拍卖可能会使费用更简单，矿商的波动性更低，总体社会盈余更大。</p><h1 id="c677" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">包扎</h1><p id="941f" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我在这里还谈到了费用市场中的许多其他重要概念，包括类似于<a class="ae kd" href="https://en.bitcoin.it/wiki/Replace_by_fee" rel="noopener ugc nofollow" target="_blank">替代费用</a>、<a class="ae kd" href="https://bitcoinelectrum.com/how-to-do-a-manual-child-pays-for-parent-transaction/" rel="noopener ugc nofollow" target="_blank">孩子为父母付费</a>、<a class="ae kd" href="https://arxiv.org/abs/1904.05234" rel="noopener ugc nofollow" target="_blank">领先竞争</a>等机制。</p><p id="33ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，我在这篇文章中做了一个很大的假设，我想承认:不是每个人都想降低交易费用。</p><p id="a50b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在比特币社区，人们对最大化支付给矿工的交易费很感兴趣，这样比特币就可以安全地过渡到零通胀。毕竟，矿工获得的剩余越多，网络就变得越安全。另一方面，在智能合约平台中，最大限度地降低费用对于大规模采用至关重要。这两个目标直接对立，并可能导致不同的方法。</p><p id="356c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如今，支付区块链费用的 UX 相当糟糕。但这只会通过市场设计、更多的第 2 层原语以及通过<a class="ae kd" rel="noopener" href="/@austin_48503/ethereum-meta-transactions-90ccf0859e84">元交易和中继</a>的费用委托变得更好。(<a class="ae kd" href="https://www.meetdapper.com/" rel="noopener ugc nofollow" target="_blank"> Dapper Labs </a>是为数不多的真正推动这一前沿的公司之一。)随着像<a class="ae kd" href="https://dfinity.org/" rel="noopener ugc nofollow" target="_blank"> DFINITY </a>、<a class="ae kd" href="https://spacemesh.io/" rel="noopener ugc nofollow" target="_blank"> Spacemesh </a>和<a class="ae kd" href="https://avalabs.org/" rel="noopener ugc nofollow" target="_blank"> AVA </a>这样的新平台进入市场，我预计我们会看到支付区块链费用的体验会有进一步的迭代。就目前而言，在市场设计方面，区块链仍处于起步阶段。</p><p id="851d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(感谢<a class="mh mi gr" href="https://medium.com/u/40c4641af2ed?source=post_page-----1f772e1530dd--------------------------------" rel="noopener" target="_blank"> Tarun Chitra </a>、<a class="mh mi gr" href="https://medium.com/u/1ff4cbafc96f?source=post_page-----1f772e1530dd--------------------------------" rel="noopener" target="_blank"> Ivan Bogatyy </a>和<a class="mh mi gr" href="https://medium.com/u/c82ccdf60bb9?source=post_page-----1f772e1530dd--------------------------------" rel="noopener" target="_blank"> Rachel Diane Basse </a>校对本文。)</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>