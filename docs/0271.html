<html>
<head>
<title>Python: list de-duping, list of lists batches</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python:列表 de-杜平，列表批次列表</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/python-list-de-duping-list-of-lists-batches-75ffa389cd7#2019-01-11">https://medium.com/hackernoon/python-list-de-duping-list-of-lists-batches-75ffa389cd7#2019-01-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/333875d1e291dc06398bb0c7d5d6c087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPHAOq1pIhC-8VVXJq2Pdw.jpeg"/></div></div></figure><p id="04e5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我喜欢列表，几乎所有的东西都可以是一个列表。有一千种方法可以解决列表问题。让我们来讨论一下如何对一个长列表进行去杜平，然后将这个列表分成几批。<br/>遇到的问题是一个大约 60，000 个 id 的列表，其中有 3 个副本。然后在得到一个干净的列表后，这个列表需要用每批 5000 个 id 进行分批处理。</p><p id="c8d5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最初的想法是构建迭代循环，在循环中使用递归循环来遍历列表以找到重复项。这将是乏味的，可能只有 15 行代码，非常标准的东西。到谷歌，当然，最终在堆栈溢出。python 有一个功能叫做“set”。</p><div class="ka kb fm fo kc kd"><a href="https://docs.python.org/2/library/sets.html" rel="noopener  ugc nofollow" target="_blank"><div class="ke ab ej"><div class="kf ab kg cl cj kh"><h2 class="bd hv fv z el ki eo ep kj er et ht dt translated">8.7.集合-唯一元素的无序集合- Python 2.7.15 文档</h2><div class="kk l"><h3 class="bd b fv z el ki eo ep kj er et ek translated">集合类是使用字典实现的。相应地，对集合元素的要求与…</h3></div><div class="kl l"><p class="bd b gc z el ki eo ep kj er et ek translated">docs.python.org</p></div></div></div></a></div><figure class="km kn ko kp fq iv"><div class="bz el l di"><div class="kq kr l"/></div></figure><p id="c44f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用一些 python 内置的功能，问题会自行解决。</p><figure class="km kn ko kp fq iv fe ff paragraph-image"><div class="fe ff ks"><img src="../Images/afa1f2ceb8f4d2717af675f73cc8dcbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*gGaXL_Kgo8rDbqjS45p_yQ.jpeg"/></div></figure><p id="ccd3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，创建单个列表的批量列表。这也是一件非常简单的事情，但是使用单个 yield 和内置的 len()可以使事情变得更加简单。产量是多少？</p><div class="ka kb fm fo kc kd"><a href="https://pythontips.com/2013/09/29/the-python-yield-keyword-explained/" rel="noopener  ugc nofollow" target="_blank"><div class="ke ab ej"><div class="kf ab kg cl cj kh"><h2 class="bd hv fv z el ki eo ep kj er et ht dt translated">Python yield 关键字解释</h2><div class="kk l"><h3 class="bd b fv z el ki eo ep kj er et ek translated">嗨，大家好。再次欢迎来到另一个有用的教程。这又是一个 stackoverflow 答案。这一个是相关的…</h3></div><div class="kl l"><p class="bd b gc z el ki eo ep kj er et ek translated">pythontips.com</p></div></div><div class="kt l"><div class="ku l kv kw kx kt ky ja kd"/></div></div></a></div><blockquote class="kz la lb"><p id="5715" class="jc jd lc je b jf jg jh ji jj jk jl jm ld jo jp jq le js jt ju lf jw jx jy jz hn dt translated">Yield 是一个像 return 一样使用的关键字，只是该函数将返回一个生成器。<br/>什么是发电机？<br/>生成器是迭代器，但是你只能迭代一次。这是因为它们不会将所有值存储在内存中，而是动态生成值:</p></blockquote><p id="84b0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将使用的方法是为分块创建一个单独的 def，然后将 def 传递给列表，然后传递批处理的长度。然后，def 将运行 for/yield，直到用完所有数据。什么？这里有一个例子。</p><figure class="km kn ko kp fq iv"><div class="bz el l di"><div class="kq kr l"/></div></figure><blockquote class="kz la lb"><p id="b2ec" class="jc jd lc je b jf jg jh ji jj jk jl jm ld jo jp jq le js jt ju lf jw jx jy jz hn dt translated">第一次<code class="eh lg lh li lj b">for</code>调用从你的函数创建的生成器对象时，它将从头开始运行你的函数中的代码，直到它到达<code class="eh lg lh li lj b">yield</code>，然后它将返回循环的第一个值。然后，每个其他调用将再次运行您在函数中编写的循环，并返回下一个值，直到没有值可返回。</p></blockquote><p id="f57c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这会返回一个包含所有原始列表值的列表，这些值被分成几批。这就是你要做的，快速而肮脏，比艰难的迭代循环要少得多。让 python 做 python 的事情，我们就可以利用这种语言的力量来消化数据。</p><p id="683a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">列表，虽然它们是一个简单的概念，但最简单的概念可能是最强大的。理解困难的做事方法总是很重要的，一旦完成了，就去学习最快最简单的方法。然而，当快捷方式中断，或者对实现不起作用时，知道它是如何工作的是很重要的，这样它可以被修复，或者以另一种方式重新工作。</p></div></div>    
</body>
</html>