<html>
<head>
<title>Introducing the GOBOL Language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GOBOL语言简介</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/introducing-the-gobol-language-fc6a0ac7f5d?source=collection_archive---------10-----------------------#2019-04-09">https://medium.com/hackernoon/introducing-the-gobol-language-fc6a0ac7f5d?source=collection_archive---------10-----------------------#2019-04-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="cbe8" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">设计一种面向数据移动和操作的高级语言。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/d550fef7c27b9ba3610883d24cc34ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k5Z44zSCHBzvT2c9"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Photo by <a class="ae jz" href="https://unsplash.com/@vojtechbruzek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Vojtech Bruzek</a> on <a class="ae jz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a94c" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">在Y2K修复软件系统期间，我非常忙(是的，他们需要修复，一切没有崩溃的唯一原因是许多人非常努力地工作，以确保它不会崩溃)，以及EDI(电子数据交换)的一些事情。不一定是<a class="ae jz" href="https://www.edibasics.com/edi-resources/document-standards/ansi/" rel="noopener ugc nofollow" target="_blank"> ANSI EDI </a>，但是数据的交换都一样。如今，这通常被称为<a class="ae jz" href="https://en.wikipedia.org/wiki/Extract,_transform,_load" rel="noopener ugc nofollow" target="_blank"> ETL </a>(提取、转换、加载)，但最终结果是相同的，即合作伙伴之间的数据交换。当您有许多合作伙伴需要他们的数据时，您最终会有许多程序格式化这些数据。这让我有了一个漫长的思考过程，并零星地开始设计一种面向数据移动和操作的高级语言，这正是<a class="ae jz" href="https://github.com/the-kompany/gobol" rel="noopener ugc nofollow" target="_blank"> Gobol </a>的目标。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff kw"><img src="../Images/6df8b96b73d2db0d4e9db7a536d52549.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/0*DwHMhTEJpAJpzH_W"/></div></figure><p id="b582" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">基本上，我从COBOL 中借用了很多动词，因为它易于阅读、学习和编程，并且非常面向数据移动。然而，它是一种旧的通用语言，所以我们当然可以清除许多穿孔卡片时代的旧思想。除了使用Python和Go的思想之外，我还从Taurus Software的Warehouse中大量借用了一种现已废弃的特定于平台的(<a class="ae jz" href="https://en.wikipedia.org/wiki/HP_3000" rel="noopener ugc nofollow" target="_blank"> HP 3000 </a>)语言。</p><p id="1b92" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">最初我想将代码翻译成<a class="ae jz" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>，因为它是健壮的和多平台的，然而随着<a class="ae jz" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"> Go </a>语言的出现，我决定transpiler将更有意义，并提供可以在多平台上以免提方式调度和运行的漂亮的紧密可执行文件。这使得代码可以运行和调度，而不会像这个领域的许多产品那样臃肿，需要您使用它们的基础设施来调度和运行，并且通常是用Java编写的。现在显而易见，这个名字是COBOL和GO上的一出戏。</p><p id="b29c" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">这门语言的主要目标是清晰，而不是简洁。每个命令都应该易于理解并且非常强大，例如，以下示例假设脚本:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="e465" class="lc ld hu ky b fv le lf l lg lh">DEFINE R : RECORD<br/>     F : CHAR(4)<br/>     G : CHAR(6)<br/>     H : CHAR(2)<br/>END</span><span id="d6a5" class="lc ld hu ky b fv li lf l lg lh">MOVE “ABCD” TO R.F<br/>MOVE “efghij” TO R.G<br/>MOVE “13” TO R.H</span><span id="bdde" class="lc ld hu ky b fv li lf l lg lh">Expression                                Result<br/>MOVE EXTRACT(R, 1, 3) TO var              var = “ABC”<br/>MOVE EXTRACT(R, 3, 3) TO var              var = “CDe”<br/>MOVE EXTRACT(R.F, 1, 3) TO var            var = “ABC”<br/>MOVE EXTRACT(R.G, 3, 3) TO var            var = “ghi”<br/>MOVE STR2NUM(EXTRACT(R, 11, 2)) TO numvar numvar = 13</span></pre><p id="557d" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">我们正在定义一个名为R的记录结构，它包含元素F、G和h。MOVE命令的EXTRACT函数有3个参数，一个源、一个起始位置和一个长度。你会注意到我们从1开始计数，而不是从0，因为这是非程序员计数的方式。最后，您将看到STR2NUM函数也嵌入在命令中，因此我们首先从R中提取2个字符，从第11个字节开始(我们也可以只引用R.H ),并在将它发送到<em class="lj"> numvar </em>之前将其转换为一个数字。</p><p id="7e82" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">现在，假设我们有一个包含名称的变量，它来自发送给我们的合作伙伴文件，因此我们不知道数据有多干净，但我们知道我们希望所有名称的第一个字符都是大写，后面跟着小写，因此我们可以使用这样的函数:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="ec59" class="lc ld hu ky b fv le lf l lg lh">UPSHIFT(DOWNSHIFT(fullname),EACH)</span></pre><p id="b649" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">在这种情况下，我们有一个名为<em class="lj">全名</em>的变量，我们首先要<em class="lj">将整个字符串向下移动</em>，然后<em class="lj">将字符串中每个单词的第一个字母向上移动</em>，使用<em class="lj">每个</em>。我们可以将它与MOVE命令结合起来执行这个功能，同时将它放入一个新的变量中，比如:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="e1b3" class="lc ld hu ky b fv le lf l lg lh">MOVE UPSHIFT(DOWNSHIFT(fullname),EACH) to Myfullname.</span></pre><p id="efee" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">现在，假设我们正在读取一个文件，其中包含一个按MM/DD/YYYY顺序格式化的生日，但是我们需要将它放入一个MySQL日期字段中，那么它看起来会像这样:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="87c5" class="lc ld hu ky b fv le lf l lg lh">MOVE STR2DATE(VR.dtBirthDate, “MM/DD/YYYY”) to table.BirthDate</span></pre><p id="c205" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">如果你想把一个数组作为一个分隔文件转储呢？我的提议是这样的:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="1c5f" class="lc ld hu ky b fv le lf l lg lh">MOVE EXPORT(ARRAY, &lt;DELIMITER&gt;, [NEW, APPEND, OVERWRITE]) TO OUTPUT-FILE</span></pre><p id="6f42" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">这将获取数组并一次写出一个成员到输出文件，可选标志将创建、覆盖或追加文件。默认行为是新的。分隔符将在每个字段之间插入，这对于导出到CSV非常有用。该示例显示了我们如何删除了许多代码行，这使得冗长性是可以接受的，因为该命令将做什么是非常明显的。我使用MOVE命令的目的是使正在发生的事情变得显而易见，但是作为上述命令的替代方法，有一种想法是这样的:</p><pre class="jk jl jm jn fq kx ky kz la aw lb dt"><span id="f6c9" class="lc ld hu ky b fv le lf l lg lh">WRITE OUTPUT-FILE(NEW, APPEND,OVERWRITE) FROM ARRAY DELIMITED BY “,”</span></pre><p id="32f9" class="pw-post-body-paragraph ka kb hu kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">我对这个项目没有财务上的兴趣，尽管我想找到一些财务上的赞助者来帮助加速开发，并在它可行时帮助获得采用。我正在寻找那些之前给Golang写过transpilers的人，他们愿意参与这个项目。当前的语言规范并不是一成不变的，我把它作为入门指南，并期望它会随着元素的实现而不断发展和完善。Github项目在<a class="ae jz" href="https://github.com/the-kompany/gobol" rel="noopener ugc nofollow" target="_blank">https://github.com/the-kompany/gobol</a>举行，我希望你能加入我们。创造一种不是C语言衍生物的语言会很有趣。</p></div></div>    
</body>
</html>