<html>
<head>
<title>MapKit — Display Map and Track User Location with 7 lines of Swift in Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MapKit —使用 Xcode 中的 7 行 Swift 显示地图并跟踪用户位置</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/mapkit-display-map-and-track-user-location-with-7-lines-of-swift-in-xcode-26bde7a5646d#2019-05-14">https://medium.com/hackernoon/mapkit-display-map-and-track-user-location-with-7-lines-of-swift-in-xcode-26bde7a5646d#2019-05-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="aff8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">MKMapKit &amp; CoreLocation 初学者快速指南。</p><p id="b002" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我叫 Max，跑<a class="ae jp" href="https://www.maxcodes.io" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> maxcodes.io </strong> </a> <strong class="it hv">。很高兴终于见到你了。</strong></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/348f96b40bf217c5fc5e606096217d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1g8nt670Iox6t870tE046g.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">A quick guide to MKMapKit &amp; CoreLocation for beginners.</figcaption></figure><h2 id="5016" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">第一步</h2><p id="07af" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">创建一个新项目，并在 main.storyboard 视图控制器场景中放置一个 MapView。</p><div class="jr js jt ju fq ab cb"><figure class="lg jv lh li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/ba44181c770cdb4b240adb93550a5b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*jEULoJg7Av0t61cJQ3Zirg.png"/></div></figure><figure class="lg jv lm li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/cd7f6f3cbc39452712da2844a44820b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*Y6NwXwlODC3dqirm-9pX0w.png"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek ln di lo lp">drag the map kit view to your storyboard and size it properly</figcaption></figure></div><h2 id="b57c" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">步骤 2-导入地图工具包并连接您的地图视图</h2><p id="1286" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">创建一个 MapView IBOutlet，以便可以在 ViewController.swift 中使用 MapView</p><ul class=""><li id="686b" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">按住键盘上的控制键，单击并拖动地图视图到视图控制器(同时保持手指按住控制键)。)</li><li id="3868" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">在 mapView 中键入</li><li id="d1a6" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">点击连接</li></ul><p id="2ef8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你会看到这一行出现:<strong class="it hv"> <em class="me"> @IBOutlet 弱 var mapView: MKMapView！</em>T9】</strong></p><ul class=""><li id="02e1" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">但是，您会得到一个错误。所以<strong class="it hv">在 ViewController.swift 的顶部导入 map kit</strong>这就会消失。</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mf"><img src="../Images/5124fcb619fb320c77fc1fbdef6ad801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qZOaPgJJDAWSXEsoQSbT4Q.png"/></div></div></figure><h2 id="d17b" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated"><strong class="ak">步骤 3 —CLLocationManager &amp;追踪用户位置</strong></h2><ul class=""><li id="922f" class="lq lr hu it b iu lb iy lc jc mg jg mh jk mi jo lv lw lx ly dt translated">用下面一行创建一个 file private CLLocationManager 实例…将这一行放在 viewDidLoad 方法的正上方。</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mj"><img src="../Images/28d7d8ad9b3d3995b2394b4fcb5757a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BVpH2_KFMj1F14uQ8SvnKA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">CLLocationManager class instance</figcaption></figure><ul class=""><li id="cd96" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">在 viewDidLoad write 中，这五行。</li><li id="5dc5" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">在我的<strong class="it hv"><em class="me"/></strong><a class="ae jp" href="https://www.udemy.com/mkmapkit/?couponCode=MEDIUMDEVELOPERS" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"><em class="me">MapKit 课程</em> </strong>、</a>中，我一边查阅文档一边解释每一行</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mk"><img src="../Images/7a72046603c5d2b9a1feb0a09b24fb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ZRT7Lvr1LqC26Ye4mv_cA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">tracking user location with core location manager and the map kit framework as a team.</figcaption></figure><h2 id="40a4" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">第 4 步— Info.plist &amp; Permissions。</h2><p id="a5d9" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">如果你编译这个代码，你的用户的位置将不会被跟踪，(等等什么垃圾最大值？)，你会得到一个警告(哦好吧。)你会在控制台/输出中看到这个。我掩盖了一些输出以强调<strong class="it hv"><em class="me">NSLocationWhenInUseUsageDescription</em></strong>字符串。但是，我鼓励您阅读整个输出。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ml"><img src="../Images/fddbdf9c57da022631aaa34745ec4c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GMzVQVYfhhuhTm8IB0mqg.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">The app’s Info.plist must contain an “NSLocationWhenInUseUsageDescription” key</figcaption></figure><p id="abdb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这些意味着我们需要<strong class="it hv">请求用户允许我们追踪他们的位置，同时也让他们知道为什么我们有一个很好的理由这么做。</strong>所以这样做是为了避开这个警告，完成应用程序:</p><ul class=""><li id="7665" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">CMD 复制<strong class="it hv"><em class="me">NSLocationWhenInUseUsageDescription</em></strong></li><li id="5652" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">点击悬停在 Info.plist 属性上时出现的<strong class="it hv"> + </strong>按钮。</li><li id="8baf" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">CMD Paste <strong class="it hv"/></li><li id="fa98" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated"><em class="me">可选提示:</em>或者，您可以手动输入隐私— …..等等，而不是复制粘贴。</li></ul><p id="ce6b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你会得到这个… boi。T47】</p><div class="jr js jt ju fq ab cb"><figure class="lg jv mm li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/6e17210c2812e2c8079ff87a1b73033b.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*aDUCcf1-aHTD7SeuOd7j8w.png"/></div></figure><figure class="lg jv mn li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/4a187dd1c2fdb3fe1f65494810d84f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*auqLWZRQ-Z6NyLAQWdYhQg.png"/></div></figure><figure class="lg jv mm li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/00048312446ed66d5567e05fd84b656d.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*k-3zO6Q4lFa1jPydLxJ97Q.png"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek mo di mp lp">Info.plist — A magical file of boring app data.</figcaption></figure></div><h2 id="d148" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">第五步——哦，等等，你完成了。</h2><p id="7525" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">如果你跟着走，你的手机或模拟器应该会跟踪一个位置。<strong class="it hv"> <em class="me">如果您使用模拟器，您的位置将始终是加州旧金山。</em>T3】</strong></p><p id="7bf7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果是<strong class="it hv"> <em class="me">而不是</em> </strong>工作，尝试进入 iPhone 的设置应用、隐私、定位服务，找到你的应用，让应用追踪你的位置。<strong class="it hv"> <em class="me">或者，你可以上</em> </strong> <a class="ae jp" href="https://www.udemy.com/mkmapkit/?couponCode=MEDIUMDEVELOPERS" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> <em class="me">完整的 iOS 开发者地图工具包课程。</em> </strong> </a></p><div class="jr js jt ju fq ab cb"><figure class="lg jv mq li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/753dab9655e921f5ba888a9268fe98f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*AR7z69M-HAGn4nAyTL8Oxw.png"/></div></figure><figure class="lg jv mr li lj lk ll paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><img src="../Images/bed4c6c532e92ee0fac49ded68e2e8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*WdkGlFf5gdXrcpBkEu7WkQ.png"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek ms di mt lp">The Complete iOS Developer’s MapKit Course — By Maxcodes.io</figcaption></figure></div><h2 id="ebc8" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated"><strong class="ak">下面的代码截图是怎么回事？</strong></h2><p id="a880" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">这是我在我的课程中教你的一个例子。在我介绍一个新概念的每个视频之前，我都会简要地介绍一下苹果开发者文档。开发者文档可以通过多种方式在线引用或直接通过 Xcode 引用。</p><h2 id="cbe9" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">你为什么这么做，麦克斯？</h2><p id="53c7" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">我的课程创建任务不仅是教你像 MapKit 和 CoreLocation 这样的具体概念，还教你如何解读和阅读文档，这样你就可以更快、更好地自学。</p><h2 id="3b25" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">好吧，但是这对我有什么好处呢？</h2><p id="2737" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">这意味着你可以通过减少课程的数量来节省时间和金钱，也可以减少你上网寻找解决方案的时间。换句话说，<a class="ae jp" href="https://www.udemy.com/mkmapkit/learn/?couponCode=MEDIUMDEVELOPERS" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">我的目标是教你<em class="me">如何学习如何编码</em>，而不仅仅是如何编码。</strong>T29】</a></p><h2 id="7f03" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">所以…</h2><p id="316b" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">如果这个<strong class="it hv">引起了你的共鸣</strong>，或者你想征服文档，或者如果你只是想一门一门地学习概念，而不是真正关心文档，那么<a class="ae jp" href="http://bit.ly/maxcodes" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> <em class="me">我的课程将帮助你赢得所有的案例。</em></strong>T37】</a></p><h1 id="e918" class="mu kh hu bd ki mv mw mx km my mz na kq nb nc nd kt ne nf ng kw nh ni nj kz nk dt translated">我感谢你的支持。—最大值:)</h1></div></div>    
</body>
</html>