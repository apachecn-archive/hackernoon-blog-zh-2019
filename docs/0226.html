<html>
<head>
<title>The Road to React Mastery — Handling Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应精通之路——处理事件</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-road-to-react-mastery-handling-events-9da8bb1c6f1d#2019-01-09">https://medium.com/hackernoon/the-road-to-react-mastery-handling-events-9da8bb1c6f1d#2019-01-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="1e40" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您还没有阅读本教程/文档指南的第一部分，您可以在这里查看！</p><div class="jp jq fm fo jr js"><a rel="noopener follow" target="_blank" href="/@ethoshansen/the-road-to-react-mastery-understanding-state-29ef20572bc9"><div class="jt ab ej"><div class="ju ab jv cl cj jw"><h2 class="bd hv fv z el jx eo ep jy er et ht dt translated">反应掌握之路——理解状态</h2><div class="jz l"><h3 class="bd b fv z el jx eo ep jy er et ek translated">React 中的状态是基于类的组件的一个非常强大的特性，有点类似于带有一些…</h3></div><div class="ka l"><p class="bd b gc z el jx eo ep jy er et ek translated">medium.com</p></div></div><div class="kb l"><div class="kc l kd ke kf kb kg kh js"/></div></div></a></div><p id="f6ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者，如果您已经牢牢掌握了 React state，那么就可以从这里开始继续学习了。</p><h2 id="f525" class="ki kj hu bd kk kl km kn ko kp kq kr ks jc kt ku kv jg kw kx ky jk kz la lb lc dt translated">我们离开的地方</h2><p id="dabf" class="pw-post-body-paragraph ir is hu it b iu ld iw ix iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo hn dt translated">上一次，我们有一个记分板，它保存了两个静态团队分数，存储在记分板组件的状态中。<em class="li">一个不变的记分牌，那一点帮助都没有！</em>是的，我完全同意，所以在本指南中，我将带你通过使用事件处理程序和改变状态来创建一个有用的动态记分板。</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div class="fe ff lj"><img src="../Images/0d6af01a7f1606dfb7d47df5eb99f70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*mEN_um36Gl_GVXbG-7CQ4g.jpeg"/></div></figure><h2 id="c339" class="ki kj hu bd kk kl km kn ko kp kq kr ks jc kt ku kv jg kw kx ky jk kz la lb lc dt translated">快速待办事项列表:</h2><p id="ebf5" class="pw-post-body-paragraph ir is hu it b iu ld iw ix iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo hn dt translated">我们需要:</p><ul class=""><li id="fe3c" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">向记分板组件添加按钮。</li><li id="20c2" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">写一个函数，让团队的分数增加 2。</li><li id="609e" class="lq lr hu it b iu lz iy ma jc mb jg mc jk md jo lv lw lx ly dt translated">按下按钮时调用该函数。</li></ul><p id="b552" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，让我们看看我们已经有的代码:</p><pre class="lk ll lm ln fq me mf mg mh aw mi dt"><span id="2a74" class="ki kj hu mf b fv mj mk l ml mm">class ScoreBoard extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      scoreOne: 0,<br/>      scoreTwo: 0<br/>    };<br/>  }</span><span id="9a04" class="ki kj hu mf b fv mn mk l ml mm">render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;{this.state.scoreOne} vs {this.state.scoreTwo}&lt;/p&gt;;<br/>    );<br/>  }<br/>}</span><span id="fb58" class="ki kj hu mf b fv mn mk l ml mm">ReactDOM.render(<br/>  &lt;ScoreBoard teams=["Hawks", "Eagles"]/&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><h2 id="1683" class="ki kj hu bd kk kl km kn ko kp kq kr ks jc kt ku kv jg kw kx ky jk kz la lb lc dt translated">添加按钮</h2><p id="cf0b" class="pw-post-body-paragraph ir is hu it b iu ld iw ix iy le ja jb jc lf je jf jg lg ji jj jk lh jm jn jo hn dt translated">为了给我们的记分牌功能，我们需要添加按钮，最终将增加两个队的分数。让我们从创建两个外部组件开始。</p><pre class="lk ll lm ln fq me mf mg mh aw mi dt"><span id="23d2" class="ki kj hu mf b fv mj mk l ml mm">class ScoreBoard extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      scoreOne: 0,<br/>      scoreTwo: 0<br/>    };<br/>  }</span><span id="256f" class="ki kj hu mf b fv mn mk l ml mm">render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;{this.state.scoreOne} vs <em class="li">{this.state.scoreTwo}</em>&lt;/p&gt;;<br/>      &lt;button&gt;Team One + 2&lt;/button&gt;<br/>      &lt;button&gt;Team Two + 2&lt;/button&gt;</span><span id="b495" class="ki kj hu mf b fv mn mk l ml mm">    );<br/>  }<br/>}</span></pre><p id="da87" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">太好了，现在我们有两个按钮了。他们做什么了吗？<strong class="it hv">还没有！</strong>但是他们<strong class="it hv">会</strong>，这就是我们接下来要重点实现的。</p><pre class="lk ll lm ln fq me mf mg mh aw mi dt"><span id="8bf9" class="ki kj hu mf b fv mj mk l ml mm">class ScoreBoard extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      scoreOne: 0,<br/>      scoreTwo: 0<br/>    };<br/>    this.teamOneScores = this.teamOneScores.bind(this);<br/>    this.teamTwoScores = this.teamTwoScores.bind(this);<br/>  }</span><span id="ee2b" class="ki kj hu mf b fv mn mk l ml mm">  teamOneScores() {<br/>    //Increase team one's score by two<br/>  }</span><span id="96d4" class="ki kj hu mf b fv mn mk l ml mm">  teamTwoScores() {<br/>    //Increase team two's score by two<br/>  }</span><span id="2588" class="ki kj hu mf b fv mn mk l ml mm">  render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;{this.state.scoreOne} vs <em class="li">{this.state.scoreTwo}</em>&lt;/p&gt;;<br/>      &lt;button onClick={this.teamOneScores}&gt;Team One + 2&lt;/button&gt;<br/>      &lt;button onClick={this.teamTwoScores}&gt;Team Two + 2&lt;/button&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="5c63" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们在这段代码中采取了几个步骤，所以我将带您浏览一下。默认情况下，React 不会将函数绑定到调用它的类，因此我们必须将组件的<code class="eh mo mp mq mf b">this</code>绑定到函数，否则当调用<code class="eh mo mp mq mf b">this.props</code>或<code class="eh mo mp mq mf b">this.state</code>时将返回 null。这是在构造器中完成的。</p><p id="ebbf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh mo mp mq mf b">onClick</code>在用户点击按钮时被调用(非常简单明了)，我们为它传递合适的团队、<code class="eh mo mp mq mf b">teamOneScores()</code>和<code class="eh mo mp mq mf b">teamTwoScores()</code>的函数。</p><p id="37fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，剩下要做的就是改变每个队的分数。要改变一个组件的状态，你可以调用<code class="eh mo mp mq mf b">this.setState</code>，这正是我们要完成记分板的事情！</p><pre class="lk ll lm ln fq me mf mg mh aw mi dt"><span id="487f" class="ki kj hu mf b fv mj mk l ml mm">class ScoreBoard extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {<br/>      scoreOne: 0,<br/>      scoreTwo: 0<br/>    };<br/>    this.teamOneScores = this.teamOneScores.bind(this);<br/>    this.teamTwoScores = this.teamTwoScores.bind(this);<br/>  }</span><span id="ed6b" class="ki kj hu mf b fv mn mk l ml mm">  teamOneScores() {<br/>    t<!-- -->his.setState(state =&gt; ({<br/>      scoreOne: state.scoreOne +  2<br/>    }));<br/>  }</span><span id="f8c4" class="ki kj hu mf b fv mn mk l ml mm">  teamTwoScores() {<br/>    t<!-- -->his.setState(state =&gt; ({<br/>      scoreTwo: state.scoreTwo +  2<br/>    }));<br/>  }</span><span id="2553" class="ki kj hu mf b fv mn mk l ml mm">render() {<br/>    return(<br/>      &lt;h1&gt;{this.props.teams[0]} vs {this.props.teams[1]}&lt;/h1&gt;;<br/>      &lt;p&gt;{this.state.scoreOne} vs <em class="li">{this.state.scoreTwo}</em>&lt;/p&gt;;<br/>      &lt;button onClick={this.teamOneScores}&gt;Team One + 2&lt;/button&gt;<br/>      &lt;button onClick={this.teamTwoScores}&gt;Team Two + 2&lt;/button&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="63c8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们走吧！每按下一个按钮，相应的分数被引用，然后增加 2，然后保存到状态。我们现在有了一个动态的、功能性的、有用的记分牌。现在老鹰队和老鹰队终于可以重新比赛了！</p><figure class="lk ll lm ln fq lo fe ff paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="fe ff mr"><img src="../Images/2fcfe703139b1dd51644d5d3d29bdab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iOGKmm2_8T05W1WM-YZSAA.png"/></div></div></figure><ul class=""><li id="ee80" class="lq lr hu it b iu iv iy iz jc ls jg lt jk lu jo lv lw lx ly dt translated">有更有效的方法来完成这一点，然而，这似乎是最简单的，作为对 React 中事件处理程序的介绍。如果你想看看其他方法，在事件处理程序中使用自定义参数，请告诉我！</li></ul><p id="4860" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢您的阅读！敬请期待更多的反应善良！</p><p id="d9e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我是一个 17 岁的软件开发人员，如果你喜欢这个小的迷你系列，请跟我来保持更新我正在做的下一步！</p></div></div>    
</body>
</html>