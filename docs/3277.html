<html>
<head>
<title>Building Your First React Native App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建您的第一个React原生应用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/building-your-first-react-native-app-77a192734ff1?source=collection_archive---------0-----------------------#2019-05-24">https://medium.com/hackernoon/building-your-first-react-native-app-77a192734ff1?source=collection_archive---------0-----------------------#2019-05-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/2c5d6cc8e14bf3b49db049a5f864dfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pad-il5GOiMro80QiG809Q.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image by <a class="ae jg" href="https://unsplash.com/@h3p" rel="noopener ugc nofollow" target="_blank">Hilthart Pedersen</a> on <a class="ae jg" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><p id="974e" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">(这篇文章是Nathan Thomas正在进行的关于技术和软技能的系列文章的一部分，他是一位在硅谷Lambda学校学习和工作的全栈软件工程师。点击 <a class="ae jg" href="https://blog.usejournal.com/the-pursuit-of-persistence-and-grit-c13ad37743c4?sk=a77aba0333ab82b2369d46a97715f3c1" rel="noopener ugc nofollow" target="_blank"> <em class="km">此处</em> </a> <em class="km">为该系列的第5部分，一篇关于“追求坚持和毅力”的文章点击</em> <a class="ae jg" rel="noopener" href="/@nwthomas/the-pursuit-of-personal-fulfillment-c5c82994c028?source=friends_link&amp;sk=8b904572c4589e47ad5abd4d45bac583"> <em class="km">此处</em> </a> <em class="km">阅读本系列的第七部分“追求个人实现”)</em></p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="7c8b" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">React Native入门</h1><p id="c51d" class="pw-post-body-paragraph jo jp hu jq b jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh lp kj kk kl hn dt translated">又到了一个待办app教程的时候了！</p><p id="c8ce" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">开玩笑的。</p><p id="9290" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我可以保证这个演练将值得你花时间，就像双馅奥利奥或一个快乐的金毛小狗。我们将在<a class="ae jg" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> React Native </a>中使用免费天气API<a class="ae jg" href="https://www.metaweather.com/api/" rel="noopener ugc nofollow" target="_blank">meta weather</a>构建一个简单的天气应用。React Native是一个用于构建iOS、Android以及最近的<a class="ae jg" href="https://techcrunch.com/2019/05/06/microsoft-launches-react-native-for-windows/" rel="noopener ugc nofollow" target="_blank"> Windows、平板电脑和Xbox应用程序的库</a>。</p><p id="07c0" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这是我们将要制作的成品的一个例子。我甚至加入了一个高阶组件和一些额外调味的浅色样式，所以你可以看到React Native并不那么疯狂。</p><p id="d67d" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">一如既往，我喜欢预先定义我的读者期望；您需要熟悉React，因为我不会解释它的基本概念。事实上，您从本文中快速学习React Native的能力<em class="km">取决于</em>我们是否能够比较我们正在做的事情和我们通常会如何使用React。此外，您需要熟悉Flexbox和CSS的基础知识。最后，如果您习惯于使用API也很好，但这不是必需的；我会牵着你的手，告诉你所有的密码。</p><p id="e432" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">解决了这个问题，让我们开始吧。我想你真的会喜欢这个的。</p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><blockquote class="lq"><p id="4b0d" class="lr ls hu bd lt lu lv lw lx ly lz kl ek translated">“比起我们自己，我们更爱护我们的智能手机——手机总是在充电！”</p><p id="9064" class="lr ls hu bd lt lu lv lw lx ly lz kl ek translated"><em class="ma"> —阿里安娜·赫芬顿</em></p></blockquote></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="d425" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">让我们下雨吧</h1><p id="ffd0" class="pw-post-body-paragraph jo jp hu jq b jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh lp kj kk kl hn dt translated">在编码之前，我们需要做一些事情。我会把它们都列在这里:</p><ol class=""><li id="c6cd" class="mb mc hu jq b jr js jv jw jz md kd me kh mf kl mg mh mi mj dt translated">去<a class="ae jg" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank"> Expo网站</a>注册一个免费账号。一旦你这样做了，向下滚动到页脚，找到标有“初学者”的一栏，然后点击“尝试世博会小吃”链接。Snack是React Native的免费在线代码编辑沙盒，也是我们今天要用的。</li><li id="7cc4" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated">我需要你去拿一杯你最喜欢的热饮。如果我们要做这件事，我们就要做好。我们会变得舒适的。</li></ol><p id="c4e7" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">当您完成这两项工作后，在Snack中创建新的空白项目。您的新样板应用程序应该如下所示:</p><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mp"><img src="../Images/ea747812f1a8093159ecf900de588918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-uNWlP77VmUnxrojd5meg.png"/></div></div></figure><p id="b8f4" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">当你创建一个新的应用程序时，零食会给你起一个很棒的名字。我的叫做“智能甜甜圈”，但你的可能是“开心的开心果”或“活泼的蓝莓”如果你想的话，继续重命名它(虽然我个人会保留最后两个名字中的任何一个)，然后点击右上角的“保存”按钮。在本演练中，为了清晰起见，我将把我的称为“React Native App Demo”。</p><p id="0074" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">继续删除<code class="eh mu mv mw mx b">App.js</code>中的所有内容，并粘贴以下代码:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="d6e4" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这将立即抛出一个错误，因为我们还没有创建一个HomeView组件，但不要因为死亡快餐的红色屏幕将抛出我们而恐慌。让我们花一点时间来讨论我们的代码发生了什么，然后我们将去修复它。</p><p id="a302" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">注意到目前为止我只导入了<code class="eh mu mv mw mx b">react</code>依赖项。如果这还不能向你证明你可以很容易地学会如何使用来自网络背景的React Native，我不知道还有什么能证明。我们正在一个移动设备上运行成熟的React，我们将在一分钟内为它添加<code class="eh mu mv mw mx b">react-native</code>依赖，以满足任何需要调整的需求。</p><p id="bdda" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">说完这些鼓舞人心的话后，继续删除现有<code class="eh mu mv mw mx b">components</code>目录中的所有文件，在该目录中添加一个<code class="eh mu mv mw mx b">container</code>目录，并在其中添加一个新的<code class="eh mu mv mw mx b">HomeView.js</code>文件。粘贴以下代码(然后我们将讨论它):</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="1d16" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">你都看完了吗？很好。你应该得到一枚奖章，击掌，或者至少一块饼干🍪从某人那里。去吧，快速休息一下，喝点你手里的热饮。</p><p id="f8f8" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">好吧，我们来讨论一下发生了什么。</p><p id="2491" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">首先，我们有<code class="eh mu mv mw mx b">react-native</code>的进口线。看起来是这样的:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="4291" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这些来自<code class="eh mu mv mw mx b">react-native</code>依赖项的命名导出允许我们在普通React之上构建我们的移动应用程序。但是不要被他们吓倒；它们与你已经知道的关于网络环境的几乎所有东西直接相关:</p><ol class=""><li id="59ef" class="mb mc hu jq b jr js jv jw jz md kd me kh mf kl mg mh mi mj dt translated"><code class="eh mu mv mw mx b">Text</code>的用法与<code class="eh mu mv mw mx b">p</code>、<code class="eh mu mv mw mx b">h1</code>、<code class="eh mu mv mw mx b">h2</code>以及所有其他类型的包含文本的标签相同。</li><li id="ecef" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><code class="eh mu mv mw mx b">View</code>标签的使用方式与HTML中的<code class="eh mu mv mw mx b">div</code>、<code class="eh mu mv mw mx b">section</code>、<code class="eh mu mv mw mx b">header</code>、<code class="eh mu mv mw mx b">footer</code>或其他类型的组织标签非常相似。</li><li id="cd96" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><code class="eh mu mv mw mx b">ScrollView</code>很像<code class="eh mu mv mw mx b">View</code>，但它的<em class="km">更花哨</em>🎉因为它允许我们将容器扩展到屏幕边界之外，这样用户就可以浏览内容。一会儿我们会看到这是如何工作的。</li><li id="e56c" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated">最后，<code class="eh mu mv mw mx b">StyleSheet</code>导入使我们能够使用CSS样式在应用程序内部构建一个完整的样式表对象。</li></ol><p id="6b67" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">有了这些知识，让我们沿着页面往下分析代码。首先，这里是我们的<code class="eh mu mv mw mx b">HomeView.js</code>组件文件中的类:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="7ca6" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">如你所见，我们用一个<code class="eh mu mv mw mx b">ScrollView</code>作为整个容器来构造我们的类。这允许我们拥有一个可滚动的、流动的页面结构，用户可以用手指拖动它。在其中，我们有包含一些文本内容的<code class="eh mu mv mw mx b">View</code>和<code class="eh mu mv mw mx b">Text</code>标签。最后，这里需要注意的最后一点是，我们在第一个标签中使用了另一个标签<em class="km"/><code class="eh mu mv mw mx b">Text</code>；这种功能(在这种情况下)非常类似于普通React中JSX的<code class="eh mu mv mw mx b">p</code>标签内有一个<code class="eh mu mv mw mx b">span</code>标签。它允许你挑选出部分文本进行特殊的样式。</p><p id="682c" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我们班下面有我们的。提醒一下，它看起来是这样的:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="47d1" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">当我们调用<code class="eh mu mv mw mx b">StyleSheet</code>的<code class="eh mu mv mw mx b">.create()</code>方法时，我们可以传入一个包含多个样式对象键值对的对象。React Native将这些连接到我们的组件，并使它们可以在那里被引用。</p><p id="a943" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">在代码片段中，<code class="eh mu mv mw mx b">scrollContainer</code>样式被赋予一个对象的值，该对象内部有许多单独的CSS样式属性。这些都是骆驼大小写(即<code class="eh mu mv mw mx b">marginBottom</code>、<code class="eh mu mv mw mx b">justifyContent</code>)，任何文本值都用引号括起来(即<code class="eh mu mv mw mx b">"center"</code>、<code class="eh mu mv mw mx b">"spaceBetween"</code>等)。).</p><p id="2e67" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">此外，请注意，所有测量都缺少数值(即<code class="eh mu mv mw mx b">rem</code>、<code class="eh mu mv mw mx b">px</code>等)。)是你从网络环境中认识并喜欢(也可能讨厌)的。这是因为React Native中的所有度量都默认为不带单位类型结尾的普通整数。这些代表屏幕上独立于像素密度的比例。</p><p id="0448" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这也是讨论React Native中布局如何工作的好时机。我以前说过CSS是你用来样式化一切的技术，但是你也会很高兴知道<code class="eh mu mv mw mx b">Flexbox</code>是我们用于所有布局的模块。但是，现在您需要了解它的两个重要区别:</p><ol class=""><li id="3e0e" class="mb mc hu jq b jr js jv jw jz md kd me kh mf kl mg mh mi mj dt translated"><code class="eh mu mv mw mx b">Flexbox</code>模块中<code class="eh mu mv mw mx b">flexDirection</code>的CSS样式属性默认为<code class="eh mu mv mw mx b">column</code>，而不是React Native中的<code class="eh mu mv mw mx b">row</code>。</li><li id="af81" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated">新的<code class="eh mu mv mw mx b">flex</code>属性，如上面的<code class="eh mu mv mw mx b">scrollContainer</code>所示，根据分配给它的数字调整元素的大小。在这个小空间里，我无法比官方文档更好地解释它，所以我强烈建议您快速阅读一下。</li></ol><p id="008e" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">正如我们之前所说的，当组件挂载时，传递给<code class="eh mu mv mw mx b">StyleSheet.create()</code>的对象适用于组件。然后我们通过在代码中的组件上写<code class="eh mu mv mw mx b">style={styles.styleNameGoesHere}</code>来利用它的样式；这里又是一个<code class="eh mu mv mw mx b">HomeView.js</code>类，所以你可以明白我在说什么:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="5b6f" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">很酷，对吧？</p><p id="6f82" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">现在我们已经基本掌握了一些React本地导入以及默认样式表的工作方式，让我们继续装配一个更高阶的组件、一些表示组件，并对我们的MetaWeather API进行一个<code class="eh mu mv mw mx b">axios</code>调用。</p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><blockquote class="lq"><p id="3139" class="lr ls hu bd lt lu lv lw lx ly lz kl ek translated">“当我们开始开发iPhone时，我们的动机是我们都无法忍受我们的手机，我们想要一部更好的手机。”</p><p id="2a42" class="lr ls hu bd lt lu lv lw lx ly lz kl ek translated">—乔尼·伊夫</p></blockquote></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="8505" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">下雨时，倾盆大雨</h1><p id="0ca4" class="pw-post-body-paragraph jo jp hu jq b jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh lp kj kk kl hn dt translated">此时，您的应用程序应该在屏幕上显示以下图像，并且文件设置如下所示:</p><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff na"><img src="../Images/421535b5bc5dde0b0e344da07846e324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jylGuZTw5-Xhs61MjY89jQ.png"/></div></div></figure><p id="d1e8" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我们将继续构建这个应用程序的其余部分。我将向你们展示可以粘贴的完整代码片段，在继续下一个之前，我们将讨论任何独特之处。听起来不错吧？</p><p id="ebee" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">首先，在您的<code class="eh mu mv mw mx b">container</code>目录中创建一个<code class="eh mu mv mw mx b">LoginView.js</code>组件，并粘贴以下代码:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="7d59" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我想在这里指出的唯一新东西是，我们可以像在普通React中一样导入和使用<code class="eh mu mv mw mx b">prop-types</code>依赖项。我们不会在应用程序的其余部分这样做，但重要的是你至少要看到它一次。现在我们必须充实应用程序的其余部分，以便这个组件的<code class="eh mu mv mw mx b">buttonFunction</code>可以在props上传递。</p><p id="0033" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">由于按钮导入，上面的代码也会抛出一个红色的错误，所以在<code class="eh mu mv mw mx b">components</code>目录中创建一个<code class="eh mu mv mw mx b">presentational</code>目录，并在那里创建一个<code class="eh mu mv mw mx b">Button.js</code>文件。粘贴以下代码:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="1e94" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">在这段代码中，我想让你注意到我们从<code class="eh mu mv mw mx b">react-native</code> — <code class="eh mu mv mw mx b">TouchableHighlight</code>导入的是什么，它允许React Native在包裹其他标签时正确地响应触摸。我们必须为它提供一个<code class="eh mu mv mw mx b">underlayColor</code>道具和一个十六进制颜色代码(上面<code class="eh mu mv mw mx b">#0E30F050</code>的最后两个数字是不透明度百分比)。如果我们不提供这一点，当我们按下按钮时，颜色会变得超级时髦(在这里阅读为什么<a class="ae jg" href="https://facebook.github.io/react-native/docs/touchablehighlight" rel="noopener ugc nofollow" target="_blank"/>)。</p><p id="f166" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">此外，请注意我们不再有<code class="eh mu mv mw mx b">onClick</code>事件。相反，我们使用的是<code class="eh mu mv mw mx b">onPress</code>,如果我们停下来想一想，这看起来非常明显。毕竟我们用的是智能手机！</p><p id="dfbf" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我们的下一步是在您的<code class="eh mu mv mw mx b">container</code>目录中再创建一个文件。我们将其命名为<code class="eh mu mv mw mx b">authenticate.js</code>。这是一个非常简单的伪登录过程的高阶组件。将此代码粘贴到:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="a433" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">使用高阶组件和一些轻微弯曲的要点是向您展示我们在弯曲与正常反应完全相同的肌肉。React Native并没有那么糟糕，现在事情真的开始变得越来越好了！</p><p id="b22b" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">显然，我们需要用我们的组件来完成这个循环，如果你习惯于在React中使用curry和更高阶的组件，你可能会明白这是怎么回事；让我们回到<code class="eh mu mv mw mx b">App.js</code>并将其更新为如下所示:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="a380" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">好极了。此时，我们的文件结构和应用程序应该如下所示:</p><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nb"><img src="../Images/7899fb85d86098192eab912c48ec86c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1AExyyLypGEi_jn2u9DxAg.png"/></div></div></figure><p id="c5d6" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">如果您单击那个漂亮的蓝色按钮，您将“登录”到您的应用程序。是时候调用MetaWeather API并将数据显示在屏幕上了！</p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nc"><img src="../Images/099809605c55750e277f95b97293c28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iGZbXNKBBAc_A7IPvOTPBw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image by <a class="ae jg" href="https://unsplash.com/@alfredtwj" rel="noopener ugc nofollow" target="_blank">Alfred Twj</a> on <a class="ae jg" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="031e" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">请原谅我亲吻天空</h1><p id="1892" class="pw-post-body-paragraph jo jp hu jq b jr ll jt ju jv lm jx jy jz ln kb kc kd lo kf kg kh lp kj kk kl hn dt translated">首先，点击<code class="eh mu mv mw mx b">package.json</code>文件。删除那里的所有代码，并将下面的依赖列表粘贴到:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="2d4e" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">很高兴知道我们有叶老和我们在一起，一起兜风，不是吗？</p><p id="5ebd" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">接下来，转到<code class="eh mu mv mw mx b">HomeView.js</code>并更新代码，如下所示:</p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure><p id="7a5c" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">我们只是随<code class="eh mu mv mw mx b">Button.js</code>组件一起导入了<code class="eh mu mv mw mx b">axios</code>依赖项，添加了一个类<code class="eh mu mv mw mx b">constructor</code>函数，实现了一个<code class="eh mu mv mw mx b">componentDidMount()</code>生命周期方法，但是在我们的组件代码中添加了一些新的文本和一个按钮，并且在我们的<code class="eh mu mv mw mx b">StyleSheet</code>代码中添加了一个<code class="eh mu mv mw mx b">weatherText</code>样式。在我们的生命周期方法中发生的<code class="eh mu mv mw mx b">axios</code>调用目前编码为旧金山，但是您可以使用MetaWeather API文档<a class="ae jg" href="https://www.metaweather.com/api/" rel="noopener ugc nofollow" target="_blank">中的信息在这里</a>调整它。</p><p id="d1cc" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">咻。😰</p><p id="fb96" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">工作量很大，但我们都完成了！在应用程序中摸索，你会发现你可以登录，从<code class="eh mu mv mw mx b">HomeView.js</code>中拖动<code class="eh mu mv mw mx b">ScrollView</code>页面，将当前天气渲染到屏幕上，然后使用主屏幕上的按钮注销。</p></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><h1 id="8329" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">您旅途中的其他资源</h1><ol class=""><li id="4503" class="mb mc hu jq b jr ll jv lm jz nd kd ne kh nf kl mg mh mi mj dt translated"><a class="ae jg" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> React原生官方文档</a>——这些都写得很好，你基本上可以通过构建一个应用程序来搜索你的路(有一些轻微的堆栈溢出)。</li><li id="9c71" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><a class="ae jg" href="https://docs.expo.io/versions/latest/" rel="noopener ugc nofollow" target="_blank"> Expo </a> —这是构建React本地应用程序的主要方式。我们在本文中使用的零食软件就是他们开发的。我在上一个项目中使用了苹果的原始Xcode，因为Expo不支持React钩子，相信我，你应该使用Expo。有一些不错的CLI工具可以在你的电脑上本地工作，这样你以后就不用再用点心了。</li><li id="0221" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><a class="ae jg" href="https://reacttraining.com/react-router/native/guides/quick-start" rel="noopener ugc nofollow" target="_blank">React Router Native</a>——React Native中有许多导航选项，但这个选项很棒，因为它使用了与React Router完全相同的语法(除了它没有<code class="eh mu mv mw mx b">NavLink</code>)。</li><li id="7693" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><a class="ae jg" href="https://www.styled-components.com/" rel="noopener ugc nofollow" target="_blank">样式组件</a> —你可以在React Native中使用这个惊人的样式库，方法是安装依赖项<code class="eh mu mv mw mx b">styled-components</code>，然后在你的应用程序中的任何地方导入<code class="eh mu mv mw mx b">styled-components/native</code>。</li><li id="6bad" class="mb mc hu jq b jr mk jv ml jz mm kd mn kh mo kl mg mh mi mj dt translated"><a class="ae jg" href="https://ethercreative.github.io/react-native-shadow-generator/" rel="noopener ugc nofollow" target="_blank">React Native Shadow Generator</a>—为您的应用程序生成酷炫投影的绝佳资源。在本文的演示应用程序中，我用它来生成欢迎卡上的阴影。</li></ol></div><div class="ab cl jh ji hc jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hn ho hp hq hr"><p id="7875" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">感谢阅读。</p><p id="dc68" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">南森(男子名)</p><p id="41a2" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">(<a class="ae jg" href="https://github.com/nwthomas" rel="noopener ugc nofollow" target="_blank"> GitHub </a>、<a class="ae jg" href="https://www.linkedin.com/in/nwthomas-profile/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae jg" href="https://twitter.com/nwthomas_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae jg" href="https://www.instagram.com/nwthomas/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>、<a class="ae jg" href="https://nathanthomas.dev/" rel="noopener ugc nofollow" target="_blank">作品集网站</a>)</p></div></div>    
</body>
</html>