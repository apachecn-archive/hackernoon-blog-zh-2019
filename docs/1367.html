<html>
<head>
<title>Using GitLab CI/CD to auto-deploy your Vue.js application to AWS S3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitLab CI/CD将Vue.js应用程序自动部署到AWS S3</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-gitlab-ci-cd-to-auto-deploy-your-vue-js-application-to-aws-s3-9affe1eb3457?source=collection_archive---------4-----------------------#2019-02-26">https://medium.com/hackernoon/using-gitlab-ci-cd-to-auto-deploy-your-vue-js-application-to-aws-s3-9affe1eb3457?source=collection_archive---------4-----------------------#2019-02-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/0f41a5472966b3938a2bcbc6469327ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iKzGFY_QP1l3fsP2jY9Zgg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">GitLab CI/CD — Vue.js — Amazon S3</figcaption></figure><p id="6984" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在我做工程师的前几年，我总是一脸得意地看着持续集成/持续交付(CI/CD)。这是一次艰难的经历(谢谢你，詹金斯🤢).然而，我坚信，在2019年，我们将会看到关于如何轻松管理和部署您的应用的对话有所增加；考虑开发应用程序只是一个单一的步骤，对不对？</p></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><p id="d11c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><em class="kl">对于本文，我将假设您已经创建了一个</em> <a class="ae km" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> <em class="kl"> Vue.js </em> </a> <em class="kl">应用程序，并且现在已经准备好设置GitLab的持续部署。</em></p><p id="6c86" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><em class="kl">虽然本文展示了如何部署Vue.js应用程序，但它是使用GitLab的CI/CD向S3部署任何东西的基本结构。</em></p><p id="babe" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">首先，让我们建立一个<a class="ae km" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS账户</a>并创建一个新的S3桶！任何新的AWS帐户都归入其免费层<a class="ae km" href="https://aws.amazon.com/free/" rel="noopener ugc nofollow" target="_blank">之下，这将允许我们免费部署到S3(第一年，在某些请求限制下)。</a></p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kn"><img src="../Images/46ba4a359fa89f12a368a9422291fb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_9MRei-XuERuFWMFDivuQ.jpeg"/></div></div></figure><p id="c8eb" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> S3: </strong></p><p id="2371" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">注册后，前往<a class="ae km" href="https://s3.console.aws.amazon.com/s3/home" rel="noopener ugc nofollow" target="_blank"> S3控制台</a>并点击“创建桶”</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ks"><img src="../Images/76a9eeaeca7fd288c63d1ea9a3a4571d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kI0_ocJEShO1h3zCnz56Uw.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Create bucket modal</figcaption></figure><p id="7b1b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">您将看到这个模式。输入一个存储段名称(请记住，该名称在整个AWS中必须是唯一的)。在“设置权限”选项卡上，确保取消选中“阻止新的公共存储桶策略”和“如果存储桶有公共策略，则阻止公共和跨帐户访问”:</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kt"><img src="../Images/99b61ceec25a770aea465ff8807883fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r_X_98tFojhYuvBrt3mlsA.png"/></div></div></figure><p id="9843" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">创建了存储桶之后，单击存储桶，然后单击名为“Properties”的第二个选项卡。你会看到一张卡片，叫做“静态网站托管”。点击并启用“使用此桶托管网站”,并为索引文档填写<code class="eh ku kv kw kx b">index.html</code>,如下所示:</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ky"><img src="../Images/444dc01ad00cef28aa87283e37cbf5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGWKJ4zRVK3IjtE5xELi3A.png"/></div></div></figure><p id="e3ca" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><em class="kl">注意:模态顶部的端点将是你可以用来访问你的网站的URL！</em></p><p id="28be" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在是最后一部分，允许你的S3桶的读取权限(这样你的用户就可以看到你的网站了！).导航到第三个选项卡“权限”，然后单击“存储桶策略”。您需要在编辑器中添加以下策略:</p><pre class="ko kp kq kr fq kz kx la lb aw lc dt"><span id="e6e4" class="ld le hu kx b fv lf lg l lh li">{<br/>    "Version": "2012-10-17",<br/>    "Statement": [<br/>        {<br/>            "Effect": "Allow", <br/>            "Principal": "*", <br/>            "Action": "s3:GetObject", <br/>            "Resource": "arn:aws:s3:::YOUR_BUCKET_NAME/*" <br/>        } <br/>    ] <br/>}</span></pre><p id="8a93" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><em class="kl">不要忘记将</em> <code class="eh ku kv kw kx b"><em class="kl">YOUR_BUCKET_NAME</em></code> <em class="kl">替换为您在创建时使用的桶名。这允许任何用户将</em> <code class="eh ku kv kw kx b"><em class="kl">GET</em></code> <em class="kl">从你的桶中取出。</em></p><p id="9906" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">回到“公共访问设置”选项卡，重新启用阻止新存储桶策略:</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lj"><img src="../Images/62ed3e1d9974148da92f33de6f6103df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N8TtJlmxg6FeQwfbA5dICQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">This ensures the bucket policy cannot be updated</figcaption></figure><p id="79b5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，如果我们转到亚马逊分配给这个桶的URL，您应该会看到一个… 404！那是因为我们还没有从GitLab推送你的项目！</p><p id="8af8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在AWS仪表板中，我们必须做的最后一件事是创建一个IAM用户，这样我们就可以安全地允许GitLab访问并上传数据到这个bucket。这允许我们在需要时撤销访问。</p><p id="0fd3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> IAM用户:</strong></p><p id="7fdc" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">导航到<a class="ae km" href="https://console.aws.amazon.com/iam/home?#/users" rel="noopener ugc nofollow" target="_blank"> IAM管理控制台</a>并点击顶部的蓝色“添加用户”按钮。给出一个描述性用户名，如<code class="eh ku kv kw kx b">gitlabci</code>，并选择“程序化访问”</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lk"><img src="../Images/4c16b3c8cbc69a9ee0511f685f2210cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9CMGWnnPcDKxb530jDxFfA.png"/></div></div></figure><p id="4dd0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果您尚未创建组，接下来您将创建一个组并附加一个策略。对于本演示，我们将使用<code class="eh ku kv kw kx b">AmazonS3FullAccess</code> —但是，您可能希望根据您的安全需求更改策略。</p><p id="dfc1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在最后一步之后，当你点击“创建用户”时，你将看到一个成功的屏幕，其中将包含两条非常重要的信息:访问密钥和秘密密钥。<strong class="ji hv">注:</strong> <strong class="ji hv">一旦离开此屏幕，您将无法再访问密钥</strong>。你可以写下来或者下载。csv，然后<strong class="ji hv">确保</strong>您稍后删除。无论你做什么，确保没人能拿到钥匙。</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ll"><img src="../Images/2318c53207ce40b84bdc124c3608d65e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JRMz3vZUyIOK872yo_Y5Rg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Either download the .csv or click show secret key and copy and paste somewhere</figcaption></figure><p id="7a08" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们快到了！现在我们只需要设置GitLab来推送我们的S3桶。</p><figure class="ko kp kq kr fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><p id="60ad" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv"> GitLab: </strong></p><p id="24dd" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">欢迎，GitLab CI/CD。在测试之前，我总是把我的代码放在GitHub上。GitHub在确保我的源代码安全和广泛可用方面做得非常出色，但是，我注意到，如果没有一些额外的工作，它几乎就做到了这一点。我告诉自己，我希望能够进行代码更改、提交、推送，然后看到我的新代码部署到互联网上。</p><p id="9b7b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">前往<a class="ae km" href="https://gitlab.com/" rel="noopener ugc nofollow" target="_blank"> GitLab </a>，注册一个账户，创建一个新项目。GitLab就像GitHub一样，你需要将它的远程源添加到你的本地项目中。一旦项目被设置，你将重命名/添加这个作为一个新的遥控器到你的本地<code class="eh ku kv kw kx b">.git</code>:</p><pre class="ko kp kq kr fq kz kx la lb aw lc dt"><span id="7fff" class="ld le hu kx b fv lf lg l lh li">git remote rename origin old-origin<br/>git remote add origin https://gitlab.com/croossin/vues3example.git<br/>git push -u origin --all</span></pre><p id="bb86" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，对于使用GitLab设置CI/CD所需的关键文件:</p><figure class="ko kp kq kr fq iv"><div class="bz el l di"><div class="lo ln l"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Funny enough, using GitHub Gist’s for a GitLab article 🤣</figcaption></figure><p id="38c4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">转到你的app的根目录下添加这个文件<code class="eh ku kv kw kx b">.gitlab-ci.yml</code>并复制上面要点的内容；一旦推送，GitLab将自动识别并开始其“开发-操作”过程。</p><p id="91fe" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">那么这个文件到底是做什么的呢？</p><pre class="ko kp kq kr fq kz kx la lb aw lc dt"><span id="340f" class="ld le hu kx b fv lf lg l lh li">stages:  <br/>   - build  <br/>   - deploy</span></pre><p id="16d7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这告诉GitLab在CI/CD过程中要运行什么“步骤”。你可以很容易地看到添加更多的步骤，如<code class="eh ku kv kw kx b">test</code>等。让我们来看看第一阶段— <strong class="ji hv">构建</strong>:</p><pre class="ko kp kq kr fq kz kx la lb aw lc dt"><span id="3312" class="ld le hu kx b fv lf lg l lh li">build prod:  <br/>   image: node:10.15.0-stretch  <br/>   stage: build  <br/>   only:    <br/>      - tags  <br/>   script:    <br/>      # Install vuecli    <br/>      - npm install -g @vue/cli@latest    <br/>      # Install dependencies    <br/>      - npm install    <br/>      # Build App    <br/>      - npm run build  <br/>   artifacts:    <br/>      paths:      <br/>         # Build folder      <br/>         - dist/    <br/>      expire_in: 1 hour</span></pre><ul class=""><li id="2783" class="lp lq hu ji b jj jk jn jo jr lr jv ls jz lt kd lu lv lw lx dt translated"><strong class="ji hv"> image </strong>:由于我们正在构建Vue.js应用程序，我们希望将docker映像设置为Node的某个版本(最好是最新版本)。</li><li id="9645" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated"><strong class="ji hv">阶段</strong>:这应该与我们在文件顶部描述的<code class="eh ku kv kw kx b">stages</code>之一相一致。这让我们GitLab知道阶段是如何关联的。</li><li id="f832" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated"><strong class="ji hv"> only </strong>:如果您希望GitLab基于特定的分支或标签有条件地运行这些脚本，这是非常关键的。对我来说，我喜欢搭建舞台和制作环境。当我将更改合并到master中时，它将运行stage脚本，当我创建一个标记时，它将运行prod脚本。</li><li id="f3be" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated"><strong class="ji hv">脚本</strong>:听起来，这是在这个阶段运行的命令序列。对于这个特殊的实例，我们安装最新的<a class="ae km" href="https://cli.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue Cli </a>，下载所有的依赖项，然后从我们的<code class="eh ku kv kw kx b">package.json</code>运行我们的构建脚本——对我来说，它看起来类似于:<code class="eh ku kv kw kx b">vue-cli-service build</code></li><li id="9f12" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated"><strong class="ji hv">神器</strong> : <em class="kl">这就是我一开始犯的错误。</em>因为我们的部署过程有两个阶段(构建和部署)，并且它们都在两个不同的映像上，所以我们需要一种方法让第二阶段(部署)能够访问我们的构建文件夹— <code class="eh ku kv kw kx b">dist/</code>。有了工件，我们可以设置一个“存储”的路径，供其他阶段引用。因此，我将路径设置为<code class="eh ku kv kw kx b">dist/</code>文件夹，并将过期时间设置为1小时。</li></ul><p id="c3fa" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在是管道中的最后阶段— <strong class="ji hv">部署</strong>:</p><pre class="ko kp kq kr fq kz kx la lb aw lc dt"><span id="cfa1" class="ld le hu kx b fv lf lg l lh li">deploy prod:  <br/>   image: python:latest  <br/>   stage: deploy  <br/>   only:    <br/>      - tags  <br/>   script:    <br/>      - pip install awscli    <br/>      - aws s3 sync ./dist s3://YOUR_BUCKET_NAME</span></pre><p id="f970" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">Python是AWS支持的CLI，因此我们将图像设置为<code class="eh ku kv kw kx b">python:latest</code>。运行时，它将安装最新的AWS CLI，并将dist文件夹与我们在开始时创建的bucket同步。确保<code class="eh ku kv kw kx b">YOUR_BUCKET_NAME</code>与我们在S3控制台中创建的桶相同。</p><p id="289f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><em class="kl">注意:如果您同时需要登台和生产环境，您将需要在S3创建第二个存储桶(与第一个存储桶具有相同的配置),并将其用作登台存储桶。</em></p><p id="a136" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">最后一步:</strong></p><p id="90f8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">AWS如何知道应该允许这个用户同步到S3存储桶？来自我们在文章前半部分创建的IAM用户！因为我提到暴露/提交你的密钥是一个非常糟糕的技术，我们将把它们添加到GitLab的<a class="ae km" href="https://docs.gitlab.com/ee/ci/variables/" rel="noopener ugc nofollow" target="_blank">环境变量</a>。导航到“设置”选项卡中的CI/CD，并展开“环境变量”</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff md"><img src="../Images/eb9728928fdae6f18c4468558b6bc9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_GyyUU3jo56VP24zNpbvtw.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">GitLab AWS Environment Variables</figcaption></figure><p id="5a59" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">您将添加两个变量:<code class="eh ku kv kw kx b">AWS_ACCESS_KEY_ID</code>和<code class="eh ku kv kw kx b">AWS_SECRET_ACCESS_KEY</code>。使用在IAM管理控制台中创建用户时下载/复制的相关密钥来填充值。</p><p id="ee24" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们都准备好测试它了！</p><p id="aa20" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">推一些代码给master，看GitLab自动拉开CI/CD进程的序幕。您可以观察各阶段的执行情况，并查看您完成的管道:</p><figure class="ko kp kq kr fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff me"><img src="../Images/c4d7372928f0842c705795c1145d470f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*soWHLiPImGU57hBMv3-4cQ.png"/></div></div></figure><p id="402f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">看看<a class="ae km" href="https://docs.gitlab.com/ee/ci/README.html" rel="noopener ugc nofollow" target="_blank"> GitLabs CI/CD文档</a>看看如何扩展您的工作来完成您可能需要的任何事情。</p><p id="6a5a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">总结一下:</strong></p><p id="78af" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">完成这些步骤后，您基本上应该拥有:</p><ul class=""><li id="9922" class="lp lq hu ji b jj jk jn jo jr lr jv ls jz lt kd lu lv lw lx dt translated">创建了一个AWS帐户</li><li id="fb79" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">创建了一个S3存储桶，并将权限设置为公共访问</li><li id="1c5e" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">创建了一个IAM用户供GitLab使用</li><li id="9f59" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">创建GitLab帐户/项目</li><li id="fcb7" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">添加我们的<code class="eh ku kv kw kx b">.gitlab-ci.yml</code>，填写我们的CI/CD阶段</li><li id="28e7" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">将我们的IAM凭据添加为环境变量</li><li id="87d4" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">坐下来，微笑，看着你的代码通过GitLab的CI/CD过程自动部署到S3</li></ul></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><p id="3255" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果您有任何问题或顾虑，请随意评论、鼓掌或联系我们。我计划写一篇后续文章，在这篇文章中，我将向您展示如何在您的S3存储桶前部署<a class="ae km" href="https://aws.amazon.com/cloudfront/" rel="noopener ugc nofollow" target="_blank"> CloudFront </a>发行版，以确保您的站点快速可靠的发行，以及从AWS的<a class="ae km" href="https://aws.amazon.com/certificate-manager/" rel="noopener ugc nofollow" target="_blank">证书管理器</a>添加SSL证书！</p></div></div>    
</body>
</html>