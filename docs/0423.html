<html>
<head>
<title>How I forced myself to code daily, using a pizza API.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何强迫自己每天使用pizza API编码。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-forced-myself-to-code-daily-using-a-pizza-api-8bd1a0a6f66f?source=collection_archive---------11-----------------------#2019-01-17">https://medium.com/hackernoon/how-i-forced-myself-to-code-daily-using-a-pizza-api-8bd1a0a6f66f?source=collection_archive---------11-----------------------#2019-01-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/c96dd86566c156fdb106d528f0208a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-srV66KJo3KJwHZQ6l6tQ.jpeg"/></div></div></figure><p id="cde8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">周一晚上，在从大学回家的路上，一辆长途汽车在我前面，我开始渴望比萨饼。嗯，我心想，“如果有一个API，那该多好啊？”。是的，你可能想知道为什么我不能使用众多应用程序中的一个，一个甚至可以让你点击一下就点披萨的程序，大声喊出来点披萨！，但是事情是这样的，我是一个学生，我不能经常买比萨饼。除非，是我挣的。</p><p id="bc73" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我<em class="ka">需要</em>编码，但是我<em class="ka">想要</em>披萨。所以我的解决方案是在我编码的时候简单地应用积极的反馈，请我自己吃披萨。很漂亮吧？现在你们可以说你们都知道使用反馈循环的强化学习。</p><p id="51e1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以我需要两样东西。</p><p id="9071" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">1.一种方法来跟踪我的工作，检查我是否定期发布代码，是的，这必须是一个第三方实体，以保持我们的诚实。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div><figcaption class="kh ki fg fe ff kj kk bd b be z ek">Throwback</figcaption></figure><p id="7ada" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.只有在第1点通过的情况下才能点披萨。</p><p id="3775" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.跳过这些，直接点个披萨吧。</p><p id="e9e0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你坚持第三点，这篇文章是给你的。如果不是，这篇文章对你更重要。</p><p id="5eda" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因此，要跟踪我们的工作，我们可以使用www.github.com的T4。我更喜欢www.hackerrank.com的<a class="ae kl" href="http://www.hackerrank.com" rel="noopener ugc nofollow" target="_blank"/>,但是他们的API被否决了，GitHub让它更通用。</p><p id="7e64" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了订购比萨饼，我把这个github库<a class="ae kl" href="https://github.com/Magicjarvis/pizzapi" rel="noopener ugc nofollow" target="_blank">www.github.com/Magicjarvis/pizzapi</a>分到了<a class="km kn gr" href="https://medium.com/u/811bfcc5cf65?source=post_page-----8bd1a0a6f66f--------------------------------" rel="noopener" target="_blank">贾维斯·约翰逊</a>那里，并对它做了一些修改。</p><h2 id="253d" class="ko kp hu bd kq kr ks kt ku kv kw kx ky jn kz la lb jr lc ld le jv lf lg lh li dt translated">第一步。实现API来订购比萨饼。</h2><p id="7301" class="pw-post-body-paragraph jc jd hu je b jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv ln jx jy jz hn dt translated">API需要以下信息，客户详细信息，如姓名、电子邮件id、地址和电话号码。它使用这些信息来创建一个客户对象。</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="eaaa" class="ko kp hu lp b fv lt lu l lv lw">customer = Customer('Barack', 'Obama', 'barack@whitehouse.gov', '2024561111', '700 Pennsylvania Avenue NW, Washington, DC, 20408')</span><span id="494b" class="ko kp hu lp b fv lx lu l lv lw">closest_dominos = StoreLocator.find_closest_store_to_customer(customer)</span></pre><p id="2df2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦创建了客户对象，我们就可以使用商店定位器找到离我们最近的商店。</p><p id="8cf9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，我们在菜单中搜索一个项目，在我的例子中是“可乐”，我们得到一个标有“可乐”的项目列表和它们各自的订单id。</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="997d" class="ko kp hu lp b fv lt lu l lv lw">menu = closest_dominos.get_menu()</span><span id="a83c" class="ko kp hu lp b fv lx lu l lv lw">print("search the menu for coke, because you're cheap :)")</span><span id="d04e" class="ko kp hu lp b fv lx lu l lv lw">menu.search(Name='Coke')</span><span id="c80d" class="ko kp hu lp b fv lx lu l lv lw">order = Order.begin_customer_order(customer, closest_dominos)</span><span id="84c1" class="ko kp hu lp b fv lx lu l lv lw">order.add_item('20BCOKE')</span></pre><p id="674b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦我们准备好订单，我们输入我们的信用卡信息，然后向我们当地的商店下订单:)</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="8b42" class="ko kp hu lp b fv lt lu l lv lw">card = CreditCard('XXXXXXXXXXX', 'XXXX', 'XXX', 'XXXXX')</span><span id="a129" class="ko kp hu lp b fv lx lu l lv lw">order.place(card)</span><span id="80fd" class="ko kp hu lp b fv lx lu l lv lw">closest_dominos.place_order(order, card)</span></pre><p id="df84" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">跟我到目前为止？太好了！现在我们转到第2步，如果我在过去24小时内签入了GitHub的代码，那么只允许我们订购一个披萨<strong class="je hv"/>。您可以根据需要更改这个号码。</p><h2 id="e126" class="ko kp hu bd kq kr ks kt ku kv kw kx ky jn kz la lb jr lc ld le jv lf lg lh li dt translated">第二步。我们使用PyGithub，它是Github的python库。</h2><p id="e4f5" class="pw-post-body-paragraph jc jd hu je b jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv ln jx jy jz hn dt translated">我们首先使用凭据创建一个用户对象。</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="5813" class="ko kp hu lp b fv lt lu l lv lw">g = Github("g_eazy","!GreatestRapperAlive")</span><span id="f061" class="ko kp hu lp b fv lx lu l lv lw">user = g.get_user()</span></pre><p id="67e8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在使用用户对象，我们通过简单地调用用户对象上的get_repo()函数来获得我们需要的存储库。</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="59b0" class="ko kp hu lp b fv lt lu l lv lw">repo = g.get_user().get_repo("Daily_Code")</span><span id="3847" class="ko kp hu lp b fv lx lu l lv lw">print("last modified at",repo.last_modified)</span></pre><p id="59d7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这里，我们将上次修改日期与当前日期进行比较，并检查自从我们上次签入一些代码以来已经过去了多少天。</p><pre class="kb kc kd ke fq lo lp lq lr aw ls dt"><span id="3f25" class="ko kp hu lp b fv lt lu l lv lw">last_updated_date = repo.updated_at</span><span id="2933" class="ko kp hu lp b fv lx lu l lv lw">current_time = datetime.now()</span><span id="d189" class="ko kp hu lp b fv lx lu l lv lw">diff_days = (current_time-last_updated_date).days</span><span id="7d57" class="ko kp hu lp b fv lx lu l lv lw">print("Number of days without a code checkin",diff_days)</span><span id="1b89" class="ko kp hu lp b fv lx lu l lv lw">if diff_days &gt; 0:</span><span id="b81c" class="ko kp hu lp b fv lx lu l lv lw">    print("Sorry NO CODE NO PIZZA !!")</span><span id="6bcf" class="ko kp hu lp b fv lx lu l lv lw">else:</span><span id="fac1" class="ko kp hu lp b fv lx lu l lv lw">    print("Enjoy thy offering")</span><span id="0a6e" class="ko kp hu lp b fv lx lu l lv lw">    order_pizza()</span></pre><p id="298e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">真的就这么简单！</p><h2 id="bf96" class="ko kp hu bd kq kr ks kt ku kv kw kx ky jn kz la lb jr lc ld le jv lf lg lh li dt translated">可选择的</h2><p id="cbb9" class="pw-post-body-paragraph jc jd hu je b jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv ln jx jy jz hn dt translated">我采取了额外的措施，当订单下达后，我使用Twilio向我的手机发送短信提醒。</p><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ly"><img src="../Images/1de99826b2b12ea56a1cb16bf46dd523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-HFUZjC-Ed_vkURO0EL_w.png"/></div></div><figcaption class="kh ki fg fe ff kj kk bd b be z ek">Sample credentials, please change it before you order a pizza.</figcaption></figure><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/fbc3db93c05ed99b98b7b3ef4c539cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cpdTLMcLvhNYJaMLtuN_IQ.jpeg"/></div></div></figure><h2 id="374e" class="ko kp hu bd kq kr ks kt ku kv kw kx ky jn kz la lb jr lc ld le jv lf lg lh li dt translated">成功了吗？</h2><p id="2ddc" class="pw-post-body-paragraph jc jd hu je b jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv ln jx jy jz hn dt translated">代码起作用了，但可悲的是我的T2意志力不起作用。我屈服了，没有代码登记就点了披萨。我为此恨我自己，希望下一次我能找到一个更好的解决方案来避免这个问题。<a class="km kn gr" href="https://medium.com/u/d3ac51b2731c?source=post_page-----8bd1a0a6f66f--------------------------------" rel="noopener" target="_blank"> HackerRank </a>请把你的API带回来，我们可以一起做一些很棒的事情，比如解决两个公司的竞赛，下一个披萨就在它们上面。</p><p id="154b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">完整的代码，请查看<a class="ae kl" href="http://www.github.com/n00b007/pizzapi" rel="noopener ugc nofollow" target="_blank">www.github.com/n00b007/pizzapi</a>。感谢贾维斯·约翰逊的精彩教程。</p></div></div>    
</body>
</html>